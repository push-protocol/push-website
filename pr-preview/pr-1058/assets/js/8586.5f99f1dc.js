exports.id = 8586;
exports.ids = [8586];
exports.modules = {

/***/ 40793:
/***/ ((module) => {

"use strict";

function tryStringify (o) {
  try { return JSON.stringify(o) } catch(e) { return '"[Circular]"' }
}

module.exports = format

function format(f, args, opts) {
  var ss = (opts && opts.stringify) || tryStringify
  var offset = 1
  if (typeof f === 'object' && f !== null) {
    var len = args.length + offset
    if (len === 1) return f
    var objects = new Array(len)
    objects[0] = ss(f)
    for (var index = 1; index < len; index++) {
      objects[index] = ss(args[index])
    }
    return objects.join(' ')
  }
  if (typeof f !== 'string') {
    return f
  }
  var argLen = args.length
  if (argLen === 0) return f
  var str = ''
  var a = 1 - offset
  var lastPos = -1
  var flen = (f && f.length) || 0
  for (var i = 0; i < flen;) {
    if (f.charCodeAt(i) === 37 && i + 1 < flen) {
      lastPos = lastPos > -1 ? lastPos : 0
      switch (f.charCodeAt(i + 1)) {
        case 100: // 'd'
        case 102: // 'f'
          if (a >= argLen)
            break
          if (args[a] == null)  break
          if (lastPos < i)
            str += f.slice(lastPos, i)
          str += Number(args[a])
          lastPos = i + 2
          i++
          break
        case 105: // 'i'
          if (a >= argLen)
            break
          if (args[a] == null)  break
          if (lastPos < i)
            str += f.slice(lastPos, i)
          str += Math.floor(Number(args[a]))
          lastPos = i + 2
          i++
          break
        case 79: // 'O'
        case 111: // 'o'
        case 106: // 'j'
          if (a >= argLen)
            break
          if (args[a] === undefined) break
          if (lastPos < i)
            str += f.slice(lastPos, i)
          var type = typeof args[a]
          if (type === 'string') {
            str += '\'' + args[a] + '\''
            lastPos = i + 2
            i++
            break
          }
          if (type === 'function') {
            str += args[a].name || '<anonymous>'
            lastPos = i + 2
            i++
            break
          }
          str += ss(args[a])
          lastPos = i + 2
          i++
          break
        case 115: // 's'
          if (a >= argLen)
            break
          if (lastPos < i)
            str += f.slice(lastPos, i)
          str += String(args[a])
          lastPos = i + 2
          i++
          break
        case 37: // '%'
          if (lastPos < i)
            str += f.slice(lastPos, i)
          str += '%'
          lastPos = i + 2
          i++
          a--
          break
      }
      ++a
    }
    ++i
  }
  if (lastPos === -1)
    return f
  else if (lastPos < flen) {
    str += f.slice(lastPos)
  }

  return str
}


/***/ }),

/***/ 57814:
/***/ ((module) => {

"use strict";


/* global SharedArrayBuffer, Atomics */

if (typeof SharedArrayBuffer !== 'undefined' && typeof Atomics !== 'undefined') {
  const nil = new Int32Array(new SharedArrayBuffer(4))

  function sleep (ms) {
    // also filters out NaN, non-number types, including empty strings, but allows bigints
    const valid = ms > 0 && ms < Infinity 
    if (valid === false) {
      if (typeof ms !== 'number' && typeof ms !== 'bigint') {
        throw TypeError('sleep: ms must be a number')
      }
      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')
    }

    Atomics.wait(nil, 0, 0, Number(ms))
  }
  module.exports = sleep
} else {

  function sleep (ms) {
    // also filters out NaN, non-number types, including empty strings, but allows bigints
    const valid = ms > 0 && ms < Infinity 
    if (valid === false) {
      if (typeof ms !== 'number' && typeof ms !== 'bigint') {
        throw TypeError('sleep: ms must be a number')
      }
      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')
    }
    const target = Date.now() + Number(ms)
    while (target > Date.now()){}
  }

  module.exports = sleep

}


/***/ }),

/***/ 59360:
/***/ ((module) => {

"use strict";


/**
 * Class representing an event.
 *
 * @private
 */
class Event {
  /**
   * Create a new `Event`.
   *
   * @param {String} type The name of the event
   * @param {Object} target A reference to the target to which the event was
   *     dispatched
   */
  constructor(type, target) {
    this.target = target;
    this.type = type;
  }
}

/**
 * Class representing a message event.
 *
 * @extends Event
 * @private
 */
class MessageEvent extends Event {
  /**
   * Create a new `MessageEvent`.
   *
   * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data
   * @param {WebSocket} target A reference to the target to which the event was
   *     dispatched
   */
  constructor(data, target) {
    super('message', target);

    this.data = data;
  }
}

/**
 * Class representing a close event.
 *
 * @extends Event
 * @private
 */
class CloseEvent extends Event {
  /**
   * Create a new `CloseEvent`.
   *
   * @param {Number} code The status code explaining why the connection is being
   *     closed
   * @param {String} reason A human-readable string explaining why the
   *     connection is closing
   * @param {WebSocket} target A reference to the target to which the event was
   *     dispatched
   */
  constructor(code, reason, target) {
    super('close', target);

    this.wasClean = target._closeFrameReceived && target._closeFrameSent;
    this.reason = reason;
    this.code = code;
  }
}

/**
 * Class representing an open event.
 *
 * @extends Event
 * @private
 */
class OpenEvent extends Event {
  /**
   * Create a new `OpenEvent`.
   *
   * @param {WebSocket} target A reference to the target to which the event was
   *     dispatched
   */
  constructor(target) {
    super('open', target);
  }
}

/**
 * Class representing an error event.
 *
 * @extends Event
 * @private
 */
class ErrorEvent extends Event {
  /**
   * Create a new `ErrorEvent`.
   *
   * @param {Object} error The error that generated this event
   * @param {WebSocket} target A reference to the target to which the event was
   *     dispatched
   */
  constructor(error, target) {
    super('error', target);

    this.message = error.message;
    this.error = error;
  }
}

/**
 * This provides methods for emulating the `EventTarget` interface. It's not
 * meant to be used directly.
 *
 * @mixin
 */
const EventTarget = {
  /**
   * Register an event listener.
   *
   * @param {String} type A string representing the event type to listen for
   * @param {Function} listener The listener to add
   * @param {Object} [options] An options object specifies characteristics about
   *     the event listener
   * @param {Boolean} [options.once=false] A `Boolean`` indicating that the
   *     listener should be invoked at most once after being added. If `true`,
   *     the listener would be automatically removed when invoked.
   * @public
   */
  addEventListener(type, listener, options) {
    if (typeof listener !== 'function') return;

    function onMessage(data) {
      listener.call(this, new MessageEvent(data, this));
    }

    function onClose(code, message) {
      listener.call(this, new CloseEvent(code, message, this));
    }

    function onError(error) {
      listener.call(this, new ErrorEvent(error, this));
    }

    function onOpen() {
      listener.call(this, new OpenEvent(this));
    }

    const method = options && options.once ? 'once' : 'on';

    if (type === 'message') {
      onMessage._listener = listener;
      this[method](type, onMessage);
    } else if (type === 'close') {
      onClose._listener = listener;
      this[method](type, onClose);
    } else if (type === 'error') {
      onError._listener = listener;
      this[method](type, onError);
    } else if (type === 'open') {
      onOpen._listener = listener;
      this[method](type, onOpen);
    } else {
      this[method](type, listener);
    }
  },

  /**
   * Remove an event listener.
   *
   * @param {String} type A string representing the event type to remove
   * @param {Function} listener The listener to remove
   * @public
   */
  removeEventListener(type, listener) {
    const listeners = this.listeners(type);

    for (let i = 0; i < listeners.length; i++) {
      if (listeners[i] === listener || listeners[i]._listener === listener) {
        this.removeListener(type, listeners[i]);
      }
    }
  }
};

module.exports = EventTarget;


/***/ }),

/***/ 79195:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { Writable } = __webpack_require__(302203);

const PerMessageDeflate = __webpack_require__(776994);
const {
  BINARY_TYPES,
  EMPTY_BUFFER,
  kStatusCode,
  kWebSocket
} = __webpack_require__(243713);
const { concat, toArrayBuffer, unmask } = __webpack_require__(699405);
const { isValidStatusCode, isValidUTF8 } = __webpack_require__(265177);

const GET_INFO = 0;
const GET_PAYLOAD_LENGTH_16 = 1;
const GET_PAYLOAD_LENGTH_64 = 2;
const GET_MASK = 3;
const GET_DATA = 4;
const INFLATING = 5;

/**
 * HyBi Receiver implementation.
 *
 * @extends Writable
 */
class Receiver extends Writable {
  /**
   * Creates a Receiver instance.
   *
   * @param {String} [binaryType=nodebuffer] The type for binary data
   * @param {Object} [extensions] An object containing the negotiated extensions
   * @param {Boolean} [isServer=false] Specifies whether to operate in client or
   *     server mode
   * @param {Number} [maxPayload=0] The maximum allowed message length
   */
  constructor(binaryType, extensions, isServer, maxPayload) {
    super();

    this._binaryType = binaryType || BINARY_TYPES[0];
    this[kWebSocket] = undefined;
    this._extensions = extensions || {};
    this._isServer = !!isServer;
    this._maxPayload = maxPayload | 0;

    this._bufferedBytes = 0;
    this._buffers = [];

    this._compressed = false;
    this._payloadLength = 0;
    this._mask = undefined;
    this._fragmented = 0;
    this._masked = false;
    this._fin = false;
    this._opcode = 0;

    this._totalPayloadLength = 0;
    this._messageLength = 0;
    this._fragments = [];

    this._state = GET_INFO;
    this._loop = false;
  }

  /**
   * Implements `Writable.prototype._write()`.
   *
   * @param {Buffer} chunk The chunk of data to write
   * @param {String} encoding The character encoding of `chunk`
   * @param {Function} cb Callback
   * @private
   */
  _write(chunk, encoding, cb) {
    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();

    this._bufferedBytes += chunk.length;
    this._buffers.push(chunk);
    this.startLoop(cb);
  }

  /**
   * Consumes `n` bytes from the buffered data.
   *
   * @param {Number} n The number of bytes to consume
   * @return {Buffer} The consumed bytes
   * @private
   */
  consume(n) {
    this._bufferedBytes -= n;

    if (n === this._buffers[0].length) return this._buffers.shift();

    if (n < this._buffers[0].length) {
      const buf = this._buffers[0];
      this._buffers[0] = buf.slice(n);
      return buf.slice(0, n);
    }

    const dst = Buffer.allocUnsafe(n);

    do {
      const buf = this._buffers[0];
      const offset = dst.length - n;

      if (n >= buf.length) {
        dst.set(this._buffers.shift(), offset);
      } else {
        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);
        this._buffers[0] = buf.slice(n);
      }

      n -= buf.length;
    } while (n > 0);

    return dst;
  }

  /**
   * Starts the parsing loop.
   *
   * @param {Function} cb Callback
   * @private
   */
  startLoop(cb) {
    let err;
    this._loop = true;

    do {
      switch (this._state) {
        case GET_INFO:
          err = this.getInfo();
          break;
        case GET_PAYLOAD_LENGTH_16:
          err = this.getPayloadLength16();
          break;
        case GET_PAYLOAD_LENGTH_64:
          err = this.getPayloadLength64();
          break;
        case GET_MASK:
          this.getMask();
          break;
        case GET_DATA:
          err = this.getData(cb);
          break;
        default:
          // `INFLATING`
          this._loop = false;
          return;
      }
    } while (this._loop);

    cb(err);
  }

  /**
   * Reads the first two bytes of a frame.
   *
   * @return {(RangeError|undefined)} A possible error
   * @private
   */
  getInfo() {
    if (this._bufferedBytes < 2) {
      this._loop = false;
      return;
    }

    const buf = this.consume(2);

    if ((buf[0] & 0x30) !== 0x00) {
      this._loop = false;
      return error(
        RangeError,
        'RSV2 and RSV3 must be clear',
        true,
        1002,
        'WS_ERR_UNEXPECTED_RSV_2_3'
      );
    }

    const compressed = (buf[0] & 0x40) === 0x40;

    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {
      this._loop = false;
      return error(
        RangeError,
        'RSV1 must be clear',
        true,
        1002,
        'WS_ERR_UNEXPECTED_RSV_1'
      );
    }

    this._fin = (buf[0] & 0x80) === 0x80;
    this._opcode = buf[0] & 0x0f;
    this._payloadLength = buf[1] & 0x7f;

    if (this._opcode === 0x00) {
      if (compressed) {
        this._loop = false;
        return error(
          RangeError,
          'RSV1 must be clear',
          true,
          1002,
          'WS_ERR_UNEXPECTED_RSV_1'
        );
      }

      if (!this._fragmented) {
        this._loop = false;
        return error(
          RangeError,
          'invalid opcode 0',
          true,
          1002,
          'WS_ERR_INVALID_OPCODE'
        );
      }

      this._opcode = this._fragmented;
    } else if (this._opcode === 0x01 || this._opcode === 0x02) {
      if (this._fragmented) {
        this._loop = false;
        return error(
          RangeError,
          `invalid opcode ${this._opcode}`,
          true,
          1002,
          'WS_ERR_INVALID_OPCODE'
        );
      }

      this._compressed = compressed;
    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {
      if (!this._fin) {
        this._loop = false;
        return error(
          RangeError,
          'FIN must be set',
          true,
          1002,
          'WS_ERR_EXPECTED_FIN'
        );
      }

      if (compressed) {
        this._loop = false;
        return error(
          RangeError,
          'RSV1 must be clear',
          true,
          1002,
          'WS_ERR_UNEXPECTED_RSV_1'
        );
      }

      if (this._payloadLength > 0x7d) {
        this._loop = false;
        return error(
          RangeError,
          `invalid payload length ${this._payloadLength}`,
          true,
          1002,
          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'
        );
      }
    } else {
      this._loop = false;
      return error(
        RangeError,
        `invalid opcode ${this._opcode}`,
        true,
        1002,
        'WS_ERR_INVALID_OPCODE'
      );
    }

    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;
    this._masked = (buf[1] & 0x80) === 0x80;

    if (this._isServer) {
      if (!this._masked) {
        this._loop = false;
        return error(
          RangeError,
          'MASK must be set',
          true,
          1002,
          'WS_ERR_EXPECTED_MASK'
        );
      }
    } else if (this._masked) {
      this._loop = false;
      return error(
        RangeError,
        'MASK must be clear',
        true,
        1002,
        'WS_ERR_UNEXPECTED_MASK'
      );
    }

    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;
    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;
    else return this.haveLength();
  }

  /**
   * Gets extended payload length (7+16).
   *
   * @return {(RangeError|undefined)} A possible error
   * @private
   */
  getPayloadLength16() {
    if (this._bufferedBytes < 2) {
      this._loop = false;
      return;
    }

    this._payloadLength = this.consume(2).readUInt16BE(0);
    return this.haveLength();
  }

  /**
   * Gets extended payload length (7+64).
   *
   * @return {(RangeError|undefined)} A possible error
   * @private
   */
  getPayloadLength64() {
    if (this._bufferedBytes < 8) {
      this._loop = false;
      return;
    }

    const buf = this.consume(8);
    const num = buf.readUInt32BE(0);

    //
    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned
    // if payload length is greater than this number.
    //
    if (num > Math.pow(2, 53 - 32) - 1) {
      this._loop = false;
      return error(
        RangeError,
        'Unsupported WebSocket frame: payload length > 2^53 - 1',
        false,
        1009,
        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'
      );
    }

    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);
    return this.haveLength();
  }

  /**
   * Payload length has been read.
   *
   * @return {(RangeError|undefined)} A possible error
   * @private
   */
  haveLength() {
    if (this._payloadLength && this._opcode < 0x08) {
      this._totalPayloadLength += this._payloadLength;
      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {
        this._loop = false;
        return error(
          RangeError,
          'Max payload size exceeded',
          false,
          1009,
          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'
        );
      }
    }

    if (this._masked) this._state = GET_MASK;
    else this._state = GET_DATA;
  }

  /**
   * Reads mask bytes.
   *
   * @private
   */
  getMask() {
    if (this._bufferedBytes < 4) {
      this._loop = false;
      return;
    }

    this._mask = this.consume(4);
    this._state = GET_DATA;
  }

  /**
   * Reads data bytes.
   *
   * @param {Function} cb Callback
   * @return {(Error|RangeError|undefined)} A possible error
   * @private
   */
  getData(cb) {
    let data = EMPTY_BUFFER;

    if (this._payloadLength) {
      if (this._bufferedBytes < this._payloadLength) {
        this._loop = false;
        return;
      }

      data = this.consume(this._payloadLength);
      if (this._masked) unmask(data, this._mask);
    }

    if (this._opcode > 0x07) return this.controlMessage(data);

    if (this._compressed) {
      this._state = INFLATING;
      this.decompress(data, cb);
      return;
    }

    if (data.length) {
      //
      // This message is not compressed so its lenght is the sum of the payload
      // length of all fragments.
      //
      this._messageLength = this._totalPayloadLength;
      this._fragments.push(data);
    }

    return this.dataMessage();
  }

  /**
   * Decompresses data.
   *
   * @param {Buffer} data Compressed data
   * @param {Function} cb Callback
   * @private
   */
  decompress(data, cb) {
    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];

    perMessageDeflate.decompress(data, this._fin, (err, buf) => {
      if (err) return cb(err);

      if (buf.length) {
        this._messageLength += buf.length;
        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {
          return cb(
            error(
              RangeError,
              'Max payload size exceeded',
              false,
              1009,
              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'
            )
          );
        }

        this._fragments.push(buf);
      }

      const er = this.dataMessage();
      if (er) return cb(er);

      this.startLoop(cb);
    });
  }

  /**
   * Handles a data message.
   *
   * @return {(Error|undefined)} A possible error
   * @private
   */
  dataMessage() {
    if (this._fin) {
      const messageLength = this._messageLength;
      const fragments = this._fragments;

      this._totalPayloadLength = 0;
      this._messageLength = 0;
      this._fragmented = 0;
      this._fragments = [];

      if (this._opcode === 2) {
        let data;

        if (this._binaryType === 'nodebuffer') {
          data = concat(fragments, messageLength);
        } else if (this._binaryType === 'arraybuffer') {
          data = toArrayBuffer(concat(fragments, messageLength));
        } else {
          data = fragments;
        }

        this.emit('message', data);
      } else {
        const buf = concat(fragments, messageLength);

        if (!isValidUTF8(buf)) {
          this._loop = false;
          return error(
            Error,
            'invalid UTF-8 sequence',
            true,
            1007,
            'WS_ERR_INVALID_UTF8'
          );
        }

        this.emit('message', buf.toString());
      }
    }

    this._state = GET_INFO;
  }

  /**
   * Handles a control message.
   *
   * @param {Buffer} data Data to handle
   * @return {(Error|RangeError|undefined)} A possible error
   * @private
   */
  controlMessage(data) {
    if (this._opcode === 0x08) {
      this._loop = false;

      if (data.length === 0) {
        this.emit('conclude', 1005, '');
        this.end();
      } else if (data.length === 1) {
        return error(
          RangeError,
          'invalid payload length 1',
          true,
          1002,
          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'
        );
      } else {
        const code = data.readUInt16BE(0);

        if (!isValidStatusCode(code)) {
          return error(
            RangeError,
            `invalid status code ${code}`,
            true,
            1002,
            'WS_ERR_INVALID_CLOSE_CODE'
          );
        }

        const buf = data.slice(2);

        if (!isValidUTF8(buf)) {
          return error(
            Error,
            'invalid UTF-8 sequence',
            true,
            1007,
            'WS_ERR_INVALID_UTF8'
          );
        }

        this.emit('conclude', code, buf.toString());
        this.end();
      }
    } else if (this._opcode === 0x09) {
      this.emit('ping', data);
    } else {
      this.emit('pong', data);
    }

    this._state = GET_INFO;
  }
}

module.exports = Receiver;

/**
 * Builds an error object.
 *
 * @param {function(new:Error|RangeError)} ErrorCtor The error constructor
 * @param {String} message The error message
 * @param {Boolean} prefix Specifies whether or not to add a default prefix to
 *     `message`
 * @param {Number} statusCode The status code
 * @param {String} errorCode The exposed error code
 * @return {(Error|RangeError)} The error
 * @private
 */
function error(ErrorCtor, message, prefix, statusCode, errorCode) {
  const err = new ErrorCtor(
    prefix ? `Invalid WebSocket frame: ${message}` : message
  );

  Error.captureStackTrace(err, error);
  err.code = errorCode;
  err[kStatusCode] = statusCode;
  return err;
}


/***/ }),

/***/ 98329:
/***/ ((module) => {

"use strict";


const nullTime = () => ''

const epochTime = () => `,"time":${Date.now()}`

const unixTime = () => `,"time":${Math.round(Date.now() / 1000.0)}`

const isoTime = () => `,"time":"${new Date(Date.now()).toISOString()}"` // using Date.now() for testability

module.exports = { nullTime, epochTime, unixTime, isoTime }


/***/ }),

/***/ 101177:
/***/ ((module) => {

"use strict";


//
// Allowed token characters:
//
// '!', '#', '$', '%', '&', ''', '*', '+', '-',
// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'
//
// tokenChars[32] === 0 // ' '
// tokenChars[33] === 1 // '!'
// tokenChars[34] === 0 // '"'
// ...
//
// prettier-ignore
const tokenChars = [
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31
  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47
  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63
  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79
  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95
  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111
  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127
];

/**
 * Adds an offer to the map of extension offers or a parameter to the map of
 * parameters.
 *
 * @param {Object} dest The map of extension offers or parameters
 * @param {String} name The extension or parameter name
 * @param {(Object|Boolean|String)} elem The extension parameters or the
 *     parameter value
 * @private
 */
function push(dest, name, elem) {
  if (dest[name] === undefined) dest[name] = [elem];
  else dest[name].push(elem);
}

/**
 * Parses the `Sec-WebSocket-Extensions` header into an object.
 *
 * @param {String} header The field value of the header
 * @return {Object} The parsed object
 * @public
 */
function parse(header) {
  const offers = Object.create(null);

  if (header === undefined || header === '') return offers;

  let params = Object.create(null);
  let mustUnescape = false;
  let isEscaping = false;
  let inQuotes = false;
  let extensionName;
  let paramName;
  let start = -1;
  let end = -1;
  let i = 0;

  for (; i < header.length; i++) {
    const code = header.charCodeAt(i);

    if (extensionName === undefined) {
      if (end === -1 && tokenChars[code] === 1) {
        if (start === -1) start = i;
      } else if (code === 0x20 /* ' ' */ || code === 0x09 /* '\t' */) {
        if (end === -1 && start !== -1) end = i;
      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {
        if (start === -1) {
          throw new SyntaxError(`Unexpected character at index ${i}`);
        }

        if (end === -1) end = i;
        const name = header.slice(start, end);
        if (code === 0x2c) {
          push(offers, name, params);
          params = Object.create(null);
        } else {
          extensionName = name;
        }

        start = end = -1;
      } else {
        throw new SyntaxError(`Unexpected character at index ${i}`);
      }
    } else if (paramName === undefined) {
      if (end === -1 && tokenChars[code] === 1) {
        if (start === -1) start = i;
      } else if (code === 0x20 || code === 0x09) {
        if (end === -1 && start !== -1) end = i;
      } else if (code === 0x3b || code === 0x2c) {
        if (start === -1) {
          throw new SyntaxError(`Unexpected character at index ${i}`);
        }

        if (end === -1) end = i;
        push(params, header.slice(start, end), true);
        if (code === 0x2c) {
          push(offers, extensionName, params);
          params = Object.create(null);
          extensionName = undefined;
        }

        start = end = -1;
      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {
        paramName = header.slice(start, i);
        start = end = -1;
      } else {
        throw new SyntaxError(`Unexpected character at index ${i}`);
      }
    } else {
      //
      // The value of a quoted-string after unescaping must conform to the
      // token ABNF, so only token characters are valid.
      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1
      //
      if (isEscaping) {
        if (tokenChars[code] !== 1) {
          throw new SyntaxError(`Unexpected character at index ${i}`);
        }
        if (start === -1) start = i;
        else if (!mustUnescape) mustUnescape = true;
        isEscaping = false;
      } else if (inQuotes) {
        if (tokenChars[code] === 1) {
          if (start === -1) start = i;
        } else if (code === 0x22 /* '"' */ && start !== -1) {
          inQuotes = false;
          end = i;
        } else if (code === 0x5c /* '\' */) {
          isEscaping = true;
        } else {
          throw new SyntaxError(`Unexpected character at index ${i}`);
        }
      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {
        inQuotes = true;
      } else if (end === -1 && tokenChars[code] === 1) {
        if (start === -1) start = i;
      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {
        if (end === -1) end = i;
      } else if (code === 0x3b || code === 0x2c) {
        if (start === -1) {
          throw new SyntaxError(`Unexpected character at index ${i}`);
        }

        if (end === -1) end = i;
        let value = header.slice(start, end);
        if (mustUnescape) {
          value = value.replace(/\\/g, '');
          mustUnescape = false;
        }
        push(params, paramName, value);
        if (code === 0x2c) {
          push(offers, extensionName, params);
          params = Object.create(null);
          extensionName = undefined;
        }

        paramName = undefined;
        start = end = -1;
      } else {
        throw new SyntaxError(`Unexpected character at index ${i}`);
      }
    }
  }

  if (start === -1 || inQuotes) {
    throw new SyntaxError('Unexpected end of input');
  }

  if (end === -1) end = i;
  const token = header.slice(start, end);
  if (extensionName === undefined) {
    push(offers, token, params);
  } else {
    if (paramName === undefined) {
      push(params, token, true);
    } else if (mustUnescape) {
      push(params, paramName, token.replace(/\\/g, ''));
    } else {
      push(params, paramName, token);
    }
    push(offers, extensionName, params);
  }

  return offers;
}

/**
 * Builds the `Sec-WebSocket-Extensions` header field value.
 *
 * @param {Object} extensions The map of extensions and parameters to format
 * @return {String} A string representing the given object
 * @public
 */
function format(extensions) {
  return Object.keys(extensions)
    .map((extension) => {
      let configurations = extensions[extension];
      if (!Array.isArray(configurations)) configurations = [configurations];
      return configurations
        .map((params) => {
          return [extension]
            .concat(
              Object.keys(params).map((k) => {
                let values = params[k];
                if (!Array.isArray(values)) values = [values];
                return values
                  .map((v) => (v === true ? k : `${k}=${v}`))
                  .join('; ');
              })
            )
            .join('; ');
        })
        .join(', ');
    })
    .join(', ');
}

module.exports = { format, parse };


/***/ }),

/***/ 125146:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const fs = __webpack_require__(179896)
const EventEmitter = __webpack_require__(24434)
const inherits = (__webpack_require__(539023).inherits)
const path = __webpack_require__(16928)
const sleep = __webpack_require__(57814)

const BUSY_WRITE_TIMEOUT = 100

// 16 KB. Don't write more than docker buffer size.
// https://github.com/moby/moby/blob/513ec73831269947d38a644c278ce3cac36783b2/daemon/logger/copier.go#L13
const MAX_WRITE = 16 * 1024

function openFile (file, sonic) {
  sonic._opening = true
  sonic._writing = true
  sonic._asyncDrainScheduled = false

  // NOTE: 'error' and 'ready' events emitted below only relevant when sonic.sync===false
  // for sync mode, there is no way to add a listener that will receive these

  function fileOpened (err, fd) {
    if (err) {
      sonic._reopening = false
      sonic._writing = false
      sonic._opening = false

      if (sonic.sync) {
        process.nextTick(() => {
          if (sonic.listenerCount('error') > 0) {
            sonic.emit('error', err)
          }
        })
      } else {
        sonic.emit('error', err)
      }
      return
    }

    sonic.fd = fd
    sonic.file = file
    sonic._reopening = false
    sonic._opening = false
    sonic._writing = false

    if (sonic.sync) {
      process.nextTick(() => sonic.emit('ready'))
    } else {
      sonic.emit('ready')
    }

    if (sonic._reopening) {
      return
    }

    // start
    if (!sonic._writing && sonic._len > sonic.minLength && !sonic.destroyed) {
      actualWrite(sonic)
    }
  }

  const flags = sonic.append ? 'a' : 'w'
  const mode = sonic.mode

  if (sonic.sync) {
    try {
      if (sonic.mkdir) fs.mkdirSync(path.dirname(file), { recursive: true })
      const fd = fs.openSync(file, flags, mode)
      fileOpened(null, fd)
    } catch (err) {
      fileOpened(err)
      throw err
    }
  } else if (sonic.mkdir) {
    fs.mkdir(path.dirname(file), { recursive: true }, (err) => {
      if (err) return fileOpened(err)
      fs.open(file, flags, mode, fileOpened)
    })
  } else {
    fs.open(file, flags, mode, fileOpened)
  }
}

function SonicBoom (opts) {
  if (!(this instanceof SonicBoom)) {
    return new SonicBoom(opts)
  }

  let { fd, dest, minLength, maxLength, maxWrite, sync, append = true, mode, mkdir, retryEAGAIN } = opts || {}

  fd = fd || dest

  this._bufs = []
  this._len = 0
  this.fd = -1
  this._writing = false
  this._writingBuf = ''
  this._ending = false
  this._reopening = false
  this._asyncDrainScheduled = false
  this._hwm = Math.max(minLength || 0, 16387)
  this.file = null
  this.destroyed = false
  this.minLength = minLength || 0
  this.maxLength = maxLength || 0
  this.maxWrite = maxWrite || MAX_WRITE
  this.sync = sync || false
  this.append = append || false
  this.mode = mode
  this.retryEAGAIN = retryEAGAIN || (() => true)
  this.mkdir = mkdir || false

  if (typeof fd === 'number') {
    this.fd = fd
    process.nextTick(() => this.emit('ready'))
  } else if (typeof fd === 'string') {
    openFile(fd, this)
  } else {
    throw new Error('SonicBoom supports only file descriptors and files')
  }
  if (this.minLength >= this.maxWrite) {
    throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`)
  }

  this.release = (err, n) => {
    if (err) {
      if (err.code === 'EAGAIN' && this.retryEAGAIN(err, this._writingBuf.length, this._len - this._writingBuf.length)) {
        if (this.sync) {
          // This error code should not happen in sync mode, because it is
          // not using the underlining operating system asynchronous functions.
          // However it happens, and so we handle it.
          // Ref: https://github.com/pinojs/pino/issues/783
          try {
            sleep(BUSY_WRITE_TIMEOUT)
            this.release(undefined, 0)
          } catch (err) {
            this.release(err)
          }
        } else {
          // Let's give the destination some time to process the chunk.
          setTimeout(() => {
            fs.write(this.fd, this._writingBuf, 'utf8', this.release)
          }, BUSY_WRITE_TIMEOUT)
        }
      } else {
        this._writing = false

        this.emit('error', err)
      }
      return
    }
    this.emit('write', n)

    this._len -= n
    this._writingBuf = this._writingBuf.slice(n)

    if (this._writingBuf.length) {
      if (!this.sync) {
        fs.write(this.fd, this._writingBuf, 'utf8', this.release)
        return
      }

      try {
        do {
          const n = fs.writeSync(this.fd, this._writingBuf, 'utf8')
          this._len -= n
          this._writingBuf = this._writingBuf.slice(n)
        } while (this._writingBuf)
      } catch (err) {
        this.release(err)
        return
      }
    }

    const len = this._len
    if (this._reopening) {
      this._writing = false
      this._reopening = false
      this.reopen()
    } else if (len > this.minLength) {
      actualWrite(this)
    } else if (this._ending) {
      if (len > 0) {
        actualWrite(this)
      } else {
        this._writing = false
        actualClose(this)
      }
    } else {
      this._writing = false
      if (this.sync) {
        if (!this._asyncDrainScheduled) {
          this._asyncDrainScheduled = true
          process.nextTick(emitDrain, this)
        }
      } else {
        this.emit('drain')
      }
    }
  }

  this.on('newListener', function (name) {
    if (name === 'drain') {
      this._asyncDrainScheduled = false
    }
  })
}

function emitDrain (sonic) {
  const hasListeners = sonic.listenerCount('drain') > 0
  if (!hasListeners) return
  sonic._asyncDrainScheduled = false
  sonic.emit('drain')
}

inherits(SonicBoom, EventEmitter)

SonicBoom.prototype.write = function (data) {
  if (this.destroyed) {
    throw new Error('SonicBoom destroyed')
  }

  const len = this._len + data.length
  const bufs = this._bufs

  if (this.maxLength && len > this.maxLength) {
    this.emit('drop', data)
    return this._len < this._hwm
  }

  if (
    bufs.length === 0 ||
    bufs[bufs.length - 1].length + data.length > this.maxWrite
  ) {
    bufs.push('' + data)
  } else {
    bufs[bufs.length - 1] += data
  }

  this._len = len

  if (!this._writing && this._len >= this.minLength) {
    actualWrite(this)
  }

  return this._len < this._hwm
}

SonicBoom.prototype.flush = function () {
  if (this.destroyed) {
    throw new Error('SonicBoom destroyed')
  }

  if (this._writing || this.minLength <= 0) {
    return
  }

  if (this._bufs.length === 0) {
    this._bufs.push('')
  }

  actualWrite(this)
}

SonicBoom.prototype.reopen = function (file) {
  if (this.destroyed) {
    throw new Error('SonicBoom destroyed')
  }

  if (this._opening) {
    this.once('ready', () => {
      this.reopen(file)
    })
    return
  }

  if (this._ending) {
    return
  }

  if (!this.file) {
    throw new Error('Unable to reopen a file descriptor, you must pass a file to SonicBoom')
  }

  this._reopening = true

  if (this._writing) {
    return
  }

  const fd = this.fd
  this.once('ready', () => {
    if (fd !== this.fd) {
      fs.close(fd, (err) => {
        if (err) {
          return this.emit('error', err)
        }
      })
    }
  })

  openFile(file || this.file, this)
}

SonicBoom.prototype.end = function () {
  if (this.destroyed) {
    throw new Error('SonicBoom destroyed')
  }

  if (this._opening) {
    this.once('ready', () => {
      this.end()
    })
    return
  }

  if (this._ending) {
    return
  }

  this._ending = true

  if (this._writing) {
    return
  }

  if (this._len > 0 && this.fd >= 0) {
    actualWrite(this)
  } else {
    actualClose(this)
  }
}

SonicBoom.prototype.flushSync = function () {
  if (this.destroyed) {
    throw new Error('SonicBoom destroyed')
  }

  if (this.fd < 0) {
    throw new Error('sonic boom is not ready yet')
  }

  if (!this._writing && this._writingBuf.length > 0) {
    this._bufs.unshift(this._writingBuf)
    this._writingBuf = ''
  }

  while (this._bufs.length) {
    const buf = this._bufs[0]
    try {
      this._len -= fs.writeSync(this.fd, buf, 'utf8')
      this._bufs.shift()
    } catch (err) {
      if (err.code !== 'EAGAIN' || !this.retryEAGAIN(err, buf.length, this._len - buf.length)) {
        throw err
      }

      sleep(BUSY_WRITE_TIMEOUT)
    }
  }
}

SonicBoom.prototype.destroy = function () {
  if (this.destroyed) {
    return
  }
  actualClose(this)
}

function actualWrite (sonic) {
  const release = sonic.release
  sonic._writing = true
  sonic._writingBuf = sonic._writingBuf || sonic._bufs.shift() || ''

  if (sonic.sync) {
    try {
      const written = fs.writeSync(sonic.fd, sonic._writingBuf, 'utf8')
      release(null, written)
    } catch (err) {
      release(err)
    }
  } else {
    fs.write(sonic.fd, sonic._writingBuf, 'utf8', release)
  }
}

function actualClose (sonic) {
  if (sonic.fd === -1) {
    sonic.once('ready', actualClose.bind(null, sonic))
    return
  }

  sonic.destroyed = true
  sonic._bufs = []

  if (sonic.fd !== 1 && sonic.fd !== 2) {
    fs.close(sonic.fd, done)
  } else {
    setImmediate(done)
  }

  function done (err) {
    if (err) {
      sonic.emit('error', err)
      return
    }

    if (sonic._ending && !sonic._writing) {
      sonic.emit('finish')
    }
    sonic.emit('close')
  }
}

/**
 * These export configurations enable JS and TS developers
 * to consumer SonicBoom in whatever way best suits their needs.
 * Some examples of supported import syntax includes:
 * - `const SonicBoom = require('SonicBoom')`
 * - `const { SonicBoom } = require('SonicBoom')`
 * - `import * as SonicBoom from 'SonicBoom'`
 * - `import { SonicBoom } from 'SonicBoom'`
 * - `import SonicBoom from 'SonicBoom'`
 */
SonicBoom.SonicBoom = SonicBoom
SonicBoom.default = SonicBoom
module.exports = SonicBoom


/***/ }),

/***/ 143985:
/***/ ((module) => {

"use strict";


module.exports = errSerializer

const { toString } = Object.prototype
const seen = Symbol('circular-ref-tag')
const rawSymbol = Symbol('pino-raw-err-ref')
const pinoErrProto = Object.create({}, {
  type: {
    enumerable: true,
    writable: true,
    value: undefined
  },
  message: {
    enumerable: true,
    writable: true,
    value: undefined
  },
  stack: {
    enumerable: true,
    writable: true,
    value: undefined
  },
  raw: {
    enumerable: false,
    get: function () {
      return this[rawSymbol]
    },
    set: function (val) {
      this[rawSymbol] = val
    }
  }
})
Object.defineProperty(pinoErrProto, rawSymbol, {
  writable: true,
  value: {}
})

function errSerializer (err) {
  if (!(err instanceof Error)) {
    return err
  }

  err[seen] = undefined // tag to prevent re-looking at this
  const _err = Object.create(pinoErrProto)
  _err.type = toString.call(err.constructor) === '[object Function]'
    ? err.constructor.name
    : err.name
  _err.message = err.message
  _err.stack = err.stack
  for (const key in err) {
    if (_err[key] === undefined) {
      const val = err[key]
      if (val instanceof Error) {
        /* eslint-disable no-prototype-builtins */
        if (!val.hasOwnProperty(seen)) {
          _err[key] = errSerializer(val)
        }
      } else {
        _err[key] = val
      }
    }
  }

  delete err[seen] // clean up tag in case err is serialized again later
  _err.raw = err
  return _err
}


/***/ }),

/***/ 144484:
/***/ ((module, exports, __webpack_require__) => {

const nodeFetch = __webpack_require__(778540)
const realFetch = nodeFetch.default || nodeFetch

const fetch = function (url, options) {
  // Support schemaless URIs on the server for parity with the browser.
  // Ex: //github.com/ -> https://github.com/
  if (/^\/\//.test(url)) {
    url = 'https:' + url
  }
  return realFetch.call(this, url, options)
}

fetch.ponyfill = true

module.exports = exports = fetch
exports.fetch = fetch
exports.Headers = nodeFetch.Headers
exports.Request = nodeFetch.Request
exports.Response = nodeFetch.Response

// Needed for TypeScript consumers without esModuleInterop.
exports["default"] = fetch


/***/ }),

/***/ 149026:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(880584);
tslib_1.__exportStar(__webpack_require__(979244), exports);
tslib_1.__exportStar(__webpack_require__(331861), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 160221:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fromMiliseconds = exports.toMiliseconds = void 0;
const constants_1 = __webpack_require__(149026);
function toMiliseconds(seconds) {
    return seconds * constants_1.ONE_THOUSAND;
}
exports.toMiliseconds = toMiliseconds;
function fromMiliseconds(miliseconds) {
    return Math.floor(miliseconds / constants_1.ONE_THOUSAND);
}
exports.fromMiliseconds = fromMiliseconds;
//# sourceMappingURL=convert.js.map

/***/ }),

/***/ 163093:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IWatch = void 0;
class IWatch {
}
exports.IWatch = IWatch;
//# sourceMappingURL=watch.js.map

/***/ }),

/***/ 183011:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CC: () => (/* binding */ aexists),
/* harmony export */   DO: () => (/* binding */ abytes),
/* harmony export */   Fe: () => (/* binding */ anumber),
/* harmony export */   Ht: () => (/* binding */ aoutput),
/* harmony export */   sd: () => (/* binding */ ahash)
/* harmony export */ });
/**
 * Internal assertion helpers.
 * @module
 */
/** Asserts something is positive integer. */
function anumber(n) {
    if (!Number.isSafeInteger(n) || n < 0)
        throw new Error('positive integer expected, got ' + n);
}
/** Is number an Uint8Array? Copied from utils for perf. */
function isBytes(a) {
    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
}
/** Asserts something is Uint8Array. */
function abytes(b, ...lengths) {
    if (!isBytes(b))
        throw new Error('Uint8Array expected');
    if (lengths.length > 0 && !lengths.includes(b.length))
        throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);
}
/** Asserts something is hash */
function ahash(h) {
    if (typeof h !== 'function' || typeof h.create !== 'function')
        throw new Error('Hash should be wrapped by utils.wrapConstructor');
    anumber(h.outputLen);
    anumber(h.blockLen);
}
/** Asserts a hash instance has not been destroyed / finished */
function aexists(instance, checkFinished = true) {
    if (instance.destroyed)
        throw new Error('Hash instance has been destroyed');
    if (checkFinished && instance.finished)
        throw new Error('Hash#digest() has already been called');
}
/** Asserts output is properly-sized byte array */
function aoutput(out, instance) {
    abytes(out);
    const min = instance.outputLen;
    if (out.length < min) {
        throw new Error('digestInto() expects output buffer of length at least ' + min);
    }
}

//# sourceMappingURL=_assert.js.map

/***/ }),

/***/ 197157:
/***/ ((module) => {

"use strict";


module.exports = {
  groupRedact,
  groupRestore,
  nestedRedact,
  nestedRestore
}

function groupRestore ({ keys, values, target }) {
  if (target == null || typeof target === 'string') return
  const length = keys.length
  for (var i = 0; i < length; i++) {
    const k = keys[i]
    target[k] = values[i]
  }
}

function groupRedact (o, path, censor, isCensorFct, censorFctTakesPath) {
  const target = get(o, path)
  if (target == null || typeof target === 'string') return { keys: null, values: null, target, flat: true }
  const keys = Object.keys(target)
  const keysLength = keys.length
  const pathLength = path.length
  const pathWithKey = censorFctTakesPath ? [...path] : undefined
  const values = new Array(keysLength)

  for (var i = 0; i < keysLength; i++) {
    const key = keys[i]
    values[i] = target[key]

    if (censorFctTakesPath) {
      pathWithKey[pathLength] = key
      target[key] = censor(target[key], pathWithKey)
    } else if (isCensorFct) {
      target[key] = censor(target[key])
    } else {
      target[key] = censor
    }
  }
  return { keys, values, target, flat: true }
}

/**
 * @param {RestoreInstruction[]} instructions a set of instructions for restoring values to objects
 */
function nestedRestore (instructions) {
  for (let i = 0; i < instructions.length; i++) {
    const { target, path, value } = instructions[i]
    let current = target
    for (let i = path.length - 1; i > 0; i--) {
      current = current[path[i]]
    }
    current[path[0]] = value
  }
}

function nestedRedact (store, o, path, ns, censor, isCensorFct, censorFctTakesPath) {
  const target = get(o, path)
  if (target == null) return
  const keys = Object.keys(target)
  const keysLength = keys.length
  for (var i = 0; i < keysLength; i++) {
    const key = keys[i]
    specialSet(store, target, key, path, ns, censor, isCensorFct, censorFctTakesPath)
  }
  return store
}

function has (obj, prop) {
  return obj !== undefined && obj !== null
    ? ('hasOwn' in Object ? Object.hasOwn(obj, prop) : Object.prototype.hasOwnProperty.call(obj, prop))
    : false
}

function specialSet (store, o, k, path, afterPath, censor, isCensorFct, censorFctTakesPath) {
  const afterPathLen = afterPath.length
  const lastPathIndex = afterPathLen - 1
  const originalKey = k
  var i = -1
  var n
  var nv
  var ov
  var oov = null
  var wc = null
  var kIsWc
  var wcov
  var consecutive = false
  var level = 0
  // need to track depth of the `redactPath` tree
  var depth = 0
  var redactPathCurrent = tree()
  ov = n = o[k]
  if (typeof n !== 'object') return
  while (n != null && ++i < afterPathLen) {
    depth += 1
    k = afterPath[i]
    oov = ov
    if (k !== '*' && !wc && !(typeof n === 'object' && k in n)) {
      break
    }
    if (k === '*') {
      if (wc === '*') {
        consecutive = true
      }
      wc = k
      if (i !== lastPathIndex) {
        continue
      }
    }
    if (wc) {
      const wcKeys = Object.keys(n)
      for (var j = 0; j < wcKeys.length; j++) {
        const wck = wcKeys[j]
        wcov = n[wck]
        kIsWc = k === '*'
        if (consecutive) {
          redactPathCurrent = node(redactPathCurrent, wck, depth)
          level = i
          ov = iterateNthLevel(wcov, level - 1, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, o[originalKey], depth + 1)
        } else {
          if (kIsWc || (typeof wcov === 'object' && wcov !== null && k in wcov)) {
            if (kIsWc) {
              ov = wcov
            } else {
              ov = wcov[k]
            }
            nv = (i !== lastPathIndex)
              ? ov
              : (isCensorFct
                ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))
                : censor)
            if (kIsWc) {
              const rv = restoreInstr(node(redactPathCurrent, wck, depth), ov, o[originalKey])
              store.push(rv)
              n[wck] = nv
            } else {
              if (wcov[k] === nv) {
                // pass
              } else if ((nv === undefined && censor !== undefined) || (has(wcov, k) && nv === ov)) {
                redactPathCurrent = node(redactPathCurrent, wck, depth)
              } else {
                redactPathCurrent = node(redactPathCurrent, wck, depth)
                const rv = restoreInstr(node(redactPathCurrent, k, depth + 1), ov, o[originalKey])
                store.push(rv)
                wcov[k] = nv
              }
            }
          }
        }
      }
      wc = null
    } else {
      ov = n[k]
      redactPathCurrent = node(redactPathCurrent, k, depth)
      nv = (i !== lastPathIndex)
        ? ov
        : (isCensorFct
          ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))
          : censor)
      if ((has(n, k) && nv === ov) || (nv === undefined && censor !== undefined)) {
        // pass
      } else {
        const rv = restoreInstr(redactPathCurrent, ov, o[originalKey])
        store.push(rv)
        n[k] = nv
      }
      n = n[k]
    }
    if (typeof n !== 'object') break
    // prevent circular structure, see https://github.com/pinojs/pino/issues/1513
    if (ov === oov || typeof ov === 'undefined') {
      // pass
    }
  }
}

function get (o, p) {
  var i = -1
  var l = p.length
  var n = o
  while (n != null && ++i < l) {
    n = n[p[i]]
  }
  return n
}

function iterateNthLevel (wcov, level, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, parent, depth) {
  if (level === 0) {
    if (kIsWc || (typeof wcov === 'object' && wcov !== null && k in wcov)) {
      if (kIsWc) {
        ov = wcov
      } else {
        ov = wcov[k]
      }
      nv = (i !== lastPathIndex)
        ? ov
        : (isCensorFct
          ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))
          : censor)
      if (kIsWc) {
        const rv = restoreInstr(redactPathCurrent, ov, parent)
        store.push(rv)
        n[wck] = nv
      } else {
        if (wcov[k] === nv) {
          // pass
        } else if ((nv === undefined && censor !== undefined) || (has(wcov, k) && nv === ov)) {
          // pass
        } else {
          const rv = restoreInstr(node(redactPathCurrent, k, depth + 1), ov, parent)
          store.push(rv)
          wcov[k] = nv
        }
      }
    }
  }
  for (const key in wcov) {
    if (typeof wcov[key] === 'object') {
      redactPathCurrent = node(redactPathCurrent, key, depth)
      iterateNthLevel(wcov[key], level - 1, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, parent, depth + 1)
    }
  }
}

/**
 * @typedef {object} TreeNode
 * @prop {TreeNode} [parent] reference to the parent of this node in the tree, or `null` if there is no parent
 * @prop {string} key the key that this node represents (key here being part of the path being redacted
 * @prop {TreeNode[]} children the child nodes of this node
 * @prop {number} depth the depth of this node in the tree
 */

/**
 * instantiate a new, empty tree
 * @returns {TreeNode}
 */
function tree () {
  return { parent: null, key: null, children: [], depth: 0 }
}

/**
 * creates a new node in the tree, attaching it as a child of the provided parent node
 * if the specified depth matches the parent depth, adds the new node as a _sibling_ of the parent instead
  * @param {TreeNode} parent the parent node to add a new node to (if the parent depth matches the provided `depth` value, will instead add as a sibling of this
  * @param {string} key the key that the new node represents (key here being part of the path being redacted)
  * @param {number} depth the depth of the new node in the tree - used to determing whether to add the new node as a child or sibling of the provided `parent` node
  * @returns {TreeNode} a reference to the newly created node in the tree
 */
function node (parent, key, depth) {
  if (parent.depth === depth) {
    return node(parent.parent, key, depth)
  }

  var child = {
    parent,
    key,
    depth,
    children: []
  }

  parent.children.push(child)

  return child
}

/**
 * @typedef {object} RestoreInstruction
 * @prop {string[]} path a reverse-order path that can be used to find the correct insertion point to restore a `value` for the given `parent` object
 * @prop {*} value the value to restore
 * @prop {object} target the object to restore the `value` in
 */

/**
 * create a restore instruction for the given redactPath node
 * generates a path in reverse order by walking up the redactPath tree
 * @param {TreeNode} node a tree node that should be at the bottom of the redact path (i.e. have no children) - this will be used to walk up the redact path tree to construct the path needed to restore
 * @param {*} value the value to restore
 * @param {object} target a reference to the parent object to apply the restore instruction to
 * @returns {RestoreInstruction} an instruction used to restore a nested value for a specific object
 */
function restoreInstr (node, value, target) {
  let current = node
  const path = []
  do {
    path.push(current.key)
    current = current.parent
  } while (current.parent != null)

  return { path, value, target }
}


/***/ }),

/***/ 233925:
/***/ ((module) => {

"use strict";


module.exports = validator

function validator (opts = {}) {
  const {
    ERR_PATHS_MUST_BE_STRINGS = () => 'fast-redact - Paths must be (non-empty) strings',
    ERR_INVALID_PATH = (s) => `fast-redact  Invalid path (${s})`
  } = opts

  return function validate ({ paths }) {
    paths.forEach((s) => {
      if (typeof s !== 'string') {
        throw Error(ERR_PATHS_MUST_BE_STRINGS())
      }
      try {
        if (//.test(s)) throw Error()
        const expr = (s[0] === '[' ? '' : '.') + s.replace(/^\*/, '').replace(/\.\*/g, '.').replace(/\[\*\]/g, '[]')
        if (/\n|\r|;/.test(expr)) throw Error()
        if (/\/\*/.test(expr)) throw Error()
        /* eslint-disable-next-line */
        Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const  = null;
            o${expr}
            if ([o${expr}].length !== 1) throw Error()`)()
      } catch (e) {
        throw Error(ERR_INVALID_PATH(s))
      }
    })
  }
}


/***/ }),

/***/ 237214:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const errSerializer = __webpack_require__(143985)
const reqSerializers = __webpack_require__(972802)
const resSerializers = __webpack_require__(884344)

module.exports = {
  err: errSerializer,
  mapHttpRequest: reqSerializers.mapHttpRequest,
  mapHttpResponse: resSerializers.mapHttpResponse,
  req: reqSerializers.reqSerializer,
  res: resSerializers.resSerializer,

  wrapErrorSerializer: function wrapErrorSerializer (customSerializer) {
    if (customSerializer === errSerializer) return customSerializer
    return function wrapErrSerializer (err) {
      return customSerializer(errSerializer(err))
    }
  },

  wrapRequestSerializer: function wrapRequestSerializer (customSerializer) {
    if (customSerializer === reqSerializers.reqSerializer) return customSerializer
    return function wrappedReqSerializer (req) {
      return customSerializer(reqSerializers.reqSerializer(req))
    }
  },

  wrapResponseSerializer: function wrapResponseSerializer (customSerializer) {
    if (customSerializer === resSerializers.resSerializer) return customSerializer
    return function wrappedResSerializer (res) {
      return customSerializer(resSerializers.resSerializer(res))
    }
  }
}


/***/ }),

/***/ 243713:
/***/ ((module) => {

"use strict";


module.exports = {
  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],
  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',
  kStatusCode: Symbol('status-code'),
  kWebSocket: Symbol('websocket'),
  EMPTY_BUFFER: Buffer.alloc(0),
  NOOP: () => {}
};


/***/ }),

/***/ 265177:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/**
 * Checks if a status code is allowed in a close frame.
 *
 * @param {Number} code The status code
 * @return {Boolean} `true` if the status code is valid, else `false`
 * @public
 */
function isValidStatusCode(code) {
  return (
    (code >= 1000 &&
      code <= 1014 &&
      code !== 1004 &&
      code !== 1005 &&
      code !== 1006) ||
    (code >= 3000 && code <= 4999)
  );
}

/**
 * Checks if a given buffer contains only correct UTF-8.
 * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by
 * Markus Kuhn.
 *
 * @param {Buffer} buf The buffer to check
 * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`
 * @public
 */
function _isValidUTF8(buf) {
  const len = buf.length;
  let i = 0;

  while (i < len) {
    if ((buf[i] & 0x80) === 0) {
      // 0xxxxxxx
      i++;
    } else if ((buf[i] & 0xe0) === 0xc0) {
      // 110xxxxx 10xxxxxx
      if (
        i + 1 === len ||
        (buf[i + 1] & 0xc0) !== 0x80 ||
        (buf[i] & 0xfe) === 0xc0 // Overlong
      ) {
        return false;
      }

      i += 2;
    } else if ((buf[i] & 0xf0) === 0xe0) {
      // 1110xxxx 10xxxxxx 10xxxxxx
      if (
        i + 2 >= len ||
        (buf[i + 1] & 0xc0) !== 0x80 ||
        (buf[i + 2] & 0xc0) !== 0x80 ||
        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong
        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)
      ) {
        return false;
      }

      i += 3;
    } else if ((buf[i] & 0xf8) === 0xf0) {
      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
      if (
        i + 3 >= len ||
        (buf[i + 1] & 0xc0) !== 0x80 ||
        (buf[i + 2] & 0xc0) !== 0x80 ||
        (buf[i + 3] & 0xc0) !== 0x80 ||
        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong
        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||
        buf[i] > 0xf4 // > U+10FFFF
      ) {
        return false;
      }

      i += 4;
    } else {
      return false;
    }
  }

  return true;
}

try {
  let isValidUTF8 = __webpack_require__(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'utf-8-validate'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));

  /* istanbul ignore if */
  if (typeof isValidUTF8 === 'object') {
    isValidUTF8 = isValidUTF8.Validation.isValidUTF8; // utf-8-validate@<3.0.0
  }

  module.exports = {
    isValidStatusCode,
    isValidUTF8(buf) {
      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);
    }
  };
} catch (e) /* istanbul ignore next */ {
  module.exports = {
    isValidStatusCode,
    isValidUTF8: _isValidUTF8
  };
}


/***/ }),

/***/ 277173:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isBrowserCryptoAvailable = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;
function getBrowerCrypto() {
    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};
}
exports.getBrowerCrypto = getBrowerCrypto;
function getSubtleCrypto() {
    const browserCrypto = getBrowerCrypto();
    return browserCrypto.subtle || browserCrypto.webkitSubtle;
}
exports.getSubtleCrypto = getSubtleCrypto;
function isBrowserCryptoAvailable() {
    return !!getBrowerCrypto() && !!getSubtleCrypto();
}
exports.isBrowserCryptoAvailable = isBrowserCryptoAvailable;
//# sourceMappingURL=crypto.js.map

/***/ }),

/***/ 278103:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const rx = __webpack_require__(841753)

module.exports = redactor

function redactor ({ secret, serialize, wcLen, strict, isCensorFct, censorFctTakesPath }, state) {
  /* eslint-disable-next-line */
  const redact = Function('o', `
    if (typeof o !== 'object' || o == null) {
      ${strictImpl(strict, serialize)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${redactTmpl(secret, isCensorFct, censorFctTakesPath)}
    this.compileRestore()
    ${dynamicRedactTmpl(wcLen > 0, isCensorFct, censorFctTakesPath)}
    this.secret = originalSecret
    ${resultTmpl(serialize)}
  `).bind(state)

  redact.state = state

  if (serialize === false) {
    redact.restore = (o) => state.restore(o)
  }

  return redact
}

function redactTmpl (secret, isCensorFct, censorFctTakesPath) {
  return Object.keys(secret).map((path) => {
    const { escPath, leadingBracket, path: arrPath } = secret[path]
    const skip = leadingBracket ? 1 : 0
    const delim = leadingBracket ? '' : '.'
    const hops = []
    var match
    while ((match = rx.exec(path)) !== null) {
      const [ , ix ] = match
      const { index, input } = match
      if (index > skip) hops.push(input.substring(0, index - (ix ? 0 : 1)))
    }
    var existence = hops.map((p) => `o${delim}${p}`).join(' && ')
    if (existence.length === 0) existence += `o${delim}${path} != null`
    else existence += ` && o${delim}${path} != null`

    const circularDetection = `
      switch (true) {
        ${hops.reverse().map((p) => `
          case o${delim}${p} === censor:
            secret[${escPath}].circle = ${JSON.stringify(p)}
            break
        `).join('\n')}
      }
    `

    const censorArgs = censorFctTakesPath
      ? `val, ${JSON.stringify(arrPath)}`
      : `val`

    return `
      if (${existence}) {
        const val = o${delim}${path}
        if (val === censor) {
          secret[${escPath}].precensored = true
        } else {
          secret[${escPath}].val = val
          o${delim}${path} = ${isCensorFct ? `censor(${censorArgs})` : 'censor'}
          ${circularDetection}
        }
      }
    `
  }).join('\n')
}

function dynamicRedactTmpl (hasWildcards, isCensorFct, censorFctTakesPath) {
  return hasWildcards === true ? `
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${isCensorFct}, ${censorFctTakesPath})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${isCensorFct}, ${censorFctTakesPath})
      }
    }
  ` : ''
}

function resultTmpl (serialize) {
  return serialize === false ? `return o` : `
    var s = this.serialize(o)
    this.restore(o)
    return s
  `
}

function strictImpl (strict, serialize) {
  return strict === true
    ? `throw Error('fast-redact: primitives cannot be redacted')`
    : serialize === false ? `return o` : `return this.serialize(o)`
}


/***/ }),

/***/ 302187:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { groupRestore, nestedRestore } = __webpack_require__(197157)

module.exports = restorer

function restorer () {
  return function compileRestore () {
    if (this.restore) {
      this.restore.state.secret = this.secret
      return
    }
    const { secret, wcLen } = this
    const paths = Object.keys(secret)
    const resetters = resetTmpl(secret, paths)
    const hasWildcards = wcLen > 0
    const state = hasWildcards ? { secret, groupRestore, nestedRestore } : { secret }
    /* eslint-disable-next-line */
    this.restore = Function(
      'o',
      restoreTmpl(resetters, paths, hasWildcards)
    ).bind(state)
    this.restore.state = state
  }
}

/**
 * Mutates the original object to be censored by restoring its original values
 * prior to censoring.
 *
 * @param {object} secret Compiled object describing which target fields should
 * be censored and the field states.
 * @param {string[]} paths The list of paths to censor as provided at
 * initialization time.
 *
 * @returns {string} String of JavaScript to be used by `Function()`. The
 * string compiles to the function that does the work in the description.
 */
function resetTmpl (secret, paths) {
  return paths.map((path) => {
    const { circle, escPath, leadingBracket } = secret[path]
    const delim = leadingBracket ? '' : '.'
    const reset = circle
      ? `o.${circle} = secret[${escPath}].val`
      : `o${delim}${path} = secret[${escPath}].val`
    const clear = `secret[${escPath}].val = undefined`
    return `
      if (secret[${escPath}].val !== undefined) {
        try { ${reset} } catch (e) {}
        ${clear}
      }
    `
  }).join('')
}

/**
 * Creates the body of the restore function
 *
 * Restoration of the redacted object happens
 * backwards, in reverse order of redactions,
 * so that repeated redactions on the same object
 * property can be eventually rolled back to the
 * original value.
 *
 * This way dynamic redactions are restored first,
 * starting from the last one working backwards and
 * followed by the static ones.
 *
 * @returns {string} the body of the restore function
 */
function restoreTmpl (resetters, paths, hasWildcards) {
  const dynamicReset = hasWildcards === true ? `
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${paths.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  ` : ''

  return `
    const secret = this.secret
    ${dynamicReset}
    ${resetters}
    return o
  `
}


/***/ }),

/***/ 303288:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const rx = __webpack_require__(841753)

module.exports = parse

function parse ({ paths }) {
  const wildcards = []
  var wcLen = 0
  const secret = paths.reduce(function (o, strPath, ix) {
    var path = strPath.match(rx).map((p) => p.replace(/'|"|`/g, ''))
    const leadingBracket = strPath[0] === '['
    path = path.map((p) => {
      if (p[0] === '[') return p.substr(1, p.length - 2)
      else return p
    })
    const star = path.indexOf('*')
    if (star > -1) {
      const before = path.slice(0, star)
      const beforeStr = before.join('.')
      const after = path.slice(star + 1, path.length)
      const nested = after.length > 0
      wcLen++
      wildcards.push({
        before,
        beforeStr,
        after,
        nested
      })
    } else {
      o[strPath] = {
        path: path,
        val: undefined,
        precensored: false,
        circle: '',
        escPath: JSON.stringify(strPath),
        leadingBracket: leadingBracket
      }
    }
    return o
  }, {})

  return { wildcards, wcLen, secret }
}


/***/ }),

/***/ 316761:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* eslint no-prototype-builtins: 0 */

const format = __webpack_require__(40793)
const { mapHttpRequest, mapHttpResponse } = __webpack_require__(237214)
const SonicBoom = __webpack_require__(125146)
const warning = __webpack_require__(952071)
const {
  lsCacheSym,
  chindingsSym,
  parsedChindingsSym,
  writeSym,
  serializersSym,
  formatOptsSym,
  endSym,
  stringifiersSym,
  stringifySym,
  stringifySafeSym,
  wildcardFirstSym,
  needsMetadataGsym,
  redactFmtSym,
  streamSym,
  nestedKeySym,
  formattersSym,
  messageKeySym,
  nestedKeyStrSym
} = __webpack_require__(865835)
const { isMainThread } = __webpack_require__(728167)
const transport = __webpack_require__(482563)

function noop () {}

function genLog (level, hook) {
  if (!hook) return LOG

  return function hookWrappedLog (...args) {
    hook.call(this, args, LOG, level)
  }

  function LOG (o, ...n) {
    if (typeof o === 'object') {
      let msg = o
      if (o !== null) {
        if (o.method && o.headers && o.socket) {
          o = mapHttpRequest(o)
        } else if (typeof o.setHeader === 'function') {
          o = mapHttpResponse(o)
        }
      }
      let formatParams
      if (msg === null && n.length === 0) {
        formatParams = [null]
      } else {
        msg = n.shift()
        formatParams = n
      }
      this[writeSym](o, format(msg, formatParams, this[formatOptsSym]), level)
    } else {
      this[writeSym](null, format(o, n, this[formatOptsSym]), level)
    }
  }
}

// magically escape strings for json
// relying on their charCodeAt
// everything below 32 needs JSON.stringify()
// 34 and 92 happens all the time, so we
// have a fast case for them
function asString (str) {
  let result = ''
  let last = 0
  let found = false
  let point = 255
  const l = str.length
  if (l > 100) {
    return JSON.stringify(str)
  }
  for (var i = 0; i < l && point >= 32; i++) {
    point = str.charCodeAt(i)
    if (point === 34 || point === 92) {
      result += str.slice(last, i) + '\\'
      last = i
      found = true
    }
  }
  if (!found) {
    result = str
  } else {
    result += str.slice(last)
  }
  return point < 32 ? JSON.stringify(str) : '"' + result + '"'
}

function asJson (obj, msg, num, time) {
  const stringify = this[stringifySym]
  const stringifySafe = this[stringifySafeSym]
  const stringifiers = this[stringifiersSym]
  const end = this[endSym]
  const chindings = this[chindingsSym]
  const serializers = this[serializersSym]
  const formatters = this[formattersSym]
  const messageKey = this[messageKeySym]
  let data = this[lsCacheSym][num] + time

  // we need the child bindings added to the output first so instance logged
  // objects can take precedence when JSON.parse-ing the resulting log line
  data = data + chindings

  let value
  if (formatters.log) {
    obj = formatters.log(obj)
  }
  const wildcardStringifier = stringifiers[wildcardFirstSym]
  let propStr = ''
  for (const key in obj) {
    value = obj[key]
    if (Object.prototype.hasOwnProperty.call(obj, key) && value !== undefined) {
      value = serializers[key] ? serializers[key](value) : value

      const stringifier = stringifiers[key] || wildcardStringifier

      switch (typeof value) {
        case 'undefined':
        case 'function':
          continue
        case 'number':
          /* eslint no-fallthrough: "off" */
          if (Number.isFinite(value) === false) {
            value = null
          }
        // this case explicitly falls through to the next one
        case 'boolean':
          if (stringifier) value = stringifier(value)
          break
        case 'string':
          value = (stringifier || asString)(value)
          break
        default:
          value = (stringifier || stringify)(value, stringifySafe)
      }
      if (value === undefined) continue
      propStr += ',"' + key + '":' + value
    }
  }

  let msgStr = ''
  if (msg !== undefined) {
    value = serializers[messageKey] ? serializers[messageKey](msg) : msg
    const stringifier = stringifiers[messageKey] || wildcardStringifier

    switch (typeof value) {
      case 'function':
        break
      case 'number':
        /* eslint no-fallthrough: "off" */
        if (Number.isFinite(value) === false) {
          value = null
        }
      // this case explicitly falls through to the next one
      case 'boolean':
        if (stringifier) value = stringifier(value)
        msgStr = ',"' + messageKey + '":' + value
        break
      case 'string':
        value = (stringifier || asString)(value)
        msgStr = ',"' + messageKey + '":' + value
        break
      default:
        value = (stringifier || stringify)(value, stringifySafe)
        msgStr = ',"' + messageKey + '":' + value
    }
  }

  if (this[nestedKeySym] && propStr) {
    // place all the obj properties under the specified key
    // the nested key is already formatted from the constructor
    return data + this[nestedKeyStrSym] + propStr.slice(1) + '}' + msgStr + end
  } else {
    return data + propStr + msgStr + end
  }
}

function asChindings (instance, bindings) {
  let value
  let data = instance[chindingsSym]
  const stringify = instance[stringifySym]
  const stringifySafe = instance[stringifySafeSym]
  const stringifiers = instance[stringifiersSym]
  const wildcardStringifier = stringifiers[wildcardFirstSym]
  const serializers = instance[serializersSym]
  const formatter = instance[formattersSym].bindings
  bindings = formatter(bindings)

  for (const key in bindings) {
    value = bindings[key]
    const valid = key !== 'level' &&
      key !== 'serializers' &&
      key !== 'formatters' &&
      key !== 'customLevels' &&
      bindings.hasOwnProperty(key) &&
      value !== undefined
    if (valid === true) {
      value = serializers[key] ? serializers[key](value) : value
      value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)
      if (value === undefined) continue
      data += ',"' + key + '":' + value
    }
  }
  return data
}

function getPrettyStream (opts, prettifier, dest, instance) {
  if (prettifier && typeof prettifier === 'function') {
    prettifier = prettifier.bind(instance)
    return prettifierMetaWrapper(prettifier(opts), dest, opts)
  }
  try {
    const prettyFactory = Object(function webpackMissingModule() { var e = new Error("Cannot find module 'pino-pretty'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())
    prettyFactory.asMetaWrapper = prettifierMetaWrapper
    return prettifierMetaWrapper(prettyFactory(opts), dest, opts)
  } catch (e) {
    if (e.message.startsWith("Cannot find module 'pino-pretty'")) {
      throw Error('Missing `pino-pretty` module: `pino-pretty` must be installed separately')
    };
    throw e
  }
}

function prettifierMetaWrapper (pretty, dest, opts) {
  opts = Object.assign({ suppressFlushSyncWarning: false }, opts)
  let warned = false
  return {
    [needsMetadataGsym]: true,
    lastLevel: 0,
    lastMsg: null,
    lastObj: null,
    lastLogger: null,
    flushSync () {
      if (opts.suppressFlushSyncWarning || warned) {
        return
      }
      warned = true
      setMetadataProps(dest, this)
      dest.write(pretty(Object.assign({
        level: 40, // warn
        msg: 'pino.final with prettyPrint does not support flushing',
        time: Date.now()
      }, this.chindings())))
    },
    chindings () {
      const lastLogger = this.lastLogger
      let chindings = null

      // protection against flushSync being called before logging
      // anything
      if (!lastLogger) {
        return null
      }

      if (lastLogger.hasOwnProperty(parsedChindingsSym)) {
        chindings = lastLogger[parsedChindingsSym]
      } else {
        chindings = JSON.parse('{' + lastLogger[chindingsSym].substr(1) + '}')
        lastLogger[parsedChindingsSym] = chindings
      }

      return chindings
    },
    write (chunk) {
      const lastLogger = this.lastLogger
      const chindings = this.chindings()

      let time = this.lastTime

      /* istanbul ignore next */
      if (typeof time === 'number') {
        // do nothing!
      } else if (time.match(/^\d+/)) {
        time = parseInt(time)
      } else {
        time = time.slice(1, -1)
      }

      const lastObj = this.lastObj
      const lastMsg = this.lastMsg
      const errorProps = null

      const formatters = lastLogger[formattersSym]
      const formattedObj = formatters.log ? formatters.log(lastObj) : lastObj

      const messageKey = lastLogger[messageKeySym]
      if (lastMsg && formattedObj && !Object.prototype.hasOwnProperty.call(formattedObj, messageKey)) {
        formattedObj[messageKey] = lastMsg
      }

      const obj = Object.assign({
        level: this.lastLevel,
        time
      }, formattedObj, errorProps)

      const serializers = lastLogger[serializersSym]
      const keys = Object.keys(serializers)

      for (var i = 0; i < keys.length; i++) {
        const key = keys[i]
        if (obj[key] !== undefined) {
          obj[key] = serializers[key](obj[key])
        }
      }

      for (const key in chindings) {
        if (!obj.hasOwnProperty(key)) {
          obj[key] = chindings[key]
        }
      }

      const stringifiers = lastLogger[stringifiersSym]
      const redact = stringifiers[redactFmtSym]

      const formatted = pretty(typeof redact === 'function' ? redact(obj) : obj)
      if (formatted === undefined) return

      setMetadataProps(dest, this)
      dest.write(formatted)
    }
  }
}

function hasBeenTampered (stream) {
  return stream.write !== stream.constructor.prototype.write
}

function buildSafeSonicBoom (opts) {
  const stream = new SonicBoom(opts)
  stream.on('error', filterBrokenPipe)
  // if we are sync: false, we must flush on exit
  if (!opts.sync && isMainThread) {
    setupOnExit(stream)
  }
  return stream

  function filterBrokenPipe (err) {
    // TODO verify on Windows
    if (err.code === 'EPIPE') {
      // If we get EPIPE, we should stop logging here
      // however we have no control to the consumer of
      // SonicBoom, so we just overwrite the write method
      stream.write = noop
      stream.end = noop
      stream.flushSync = noop
      stream.destroy = noop
      return
    }
    stream.removeListener('error', filterBrokenPipe)
    stream.emit('error', err)
  }
}

function setupOnExit (stream) {
  /* istanbul ignore next */
  if (global.WeakRef && global.WeakMap && global.FinalizationRegistry) {
    // This is leak free, it does not leave event handlers
    const onExit = __webpack_require__(846270)

    onExit.register(stream, autoEnd)

    stream.on('close', function () {
      onExit.unregister(stream)
    })
  }
}

function autoEnd (stream, eventName) {
  // This check is needed only on some platforms
  /* istanbul ignore next */
  if (stream.destroyed) {
    return
  }

  if (eventName === 'beforeExit') {
    // We still have an event loop, let's use it
    stream.flush()
    stream.on('drain', function () {
      stream.end()
    })
  } else {
    // We do not have an event loop, so flush synchronously
    stream.flushSync()
  }
}

function createArgsNormalizer (defaultOptions) {
  return function normalizeArgs (instance, caller, opts = {}, stream) {
    // support stream as a string
    if (typeof opts === 'string') {
      stream = buildSafeSonicBoom({ dest: opts, sync: true })
      opts = {}
    } else if (typeof stream === 'string') {
      if (opts && opts.transport) {
        throw Error('only one of option.transport or stream can be specified')
      }
      stream = buildSafeSonicBoom({ dest: stream, sync: true })
    } else if (opts instanceof SonicBoom || opts.writable || opts._writableState) {
      stream = opts
      opts = {}
    } else if (opts.transport) {
      if (opts.transport instanceof SonicBoom || opts.transport.writable || opts.transport._writableState) {
        throw Error('option.transport do not allow stream, please pass to option directly. e.g. pino(transport)')
      }
      if (opts.transport.targets && opts.transport.targets.length && opts.formatters && typeof opts.formatters.level === 'function') {
        throw Error('option.transport.targets do not allow custom level formatters')
      }

      let customLevels
      if (opts.customLevels) {
        customLevels = opts.useOnlyCustomLevels ? opts.customLevels : Object.assign({}, opts.levels, opts.customLevels)
      }
      stream = transport({ caller, ...opts.transport, levels: customLevels })
    }
    opts = Object.assign({}, defaultOptions, opts)
    opts.serializers = Object.assign({}, defaultOptions.serializers, opts.serializers)
    opts.formatters = Object.assign({}, defaultOptions.formatters, opts.formatters)

    if ('onTerminated' in opts) {
      throw Error('The onTerminated option has been removed, use pino.final instead')
    }
    if ('changeLevelName' in opts) {
      process.emitWarning(
        'The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.',
        { code: 'changeLevelName_deprecation' }
      )
      opts.levelKey = opts.changeLevelName
      delete opts.changeLevelName
    }
    const { enabled, prettyPrint, prettifier, messageKey } = opts
    if (enabled === false) opts.level = 'silent'
    stream = stream || process.stdout
    if (stream === process.stdout && stream.fd >= 0 && !hasBeenTampered(stream)) {
      stream = buildSafeSonicBoom({ fd: stream.fd, sync: true })
    }
    if (prettyPrint) {
      warning.emit('PINODEP008')
      const prettyOpts = Object.assign({ messageKey }, prettyPrint)
      stream = getPrettyStream(prettyOpts, prettifier, stream, instance)
    }
    return { opts, stream }
  }
}

function final (logger, handler) {
  const major = Number(process.versions.node.split('.')[0])
  if (major >= 14) warning.emit('PINODEP009')

  if (typeof logger === 'undefined' || typeof logger.child !== 'function') {
    throw Error('expected a pino logger instance')
  }
  const hasHandler = (typeof handler !== 'undefined')
  if (hasHandler && typeof handler !== 'function') {
    throw Error('if supplied, the handler parameter should be a function')
  }
  const stream = logger[streamSym]
  if (typeof stream.flushSync !== 'function') {
    throw Error('final requires a stream that has a flushSync method, such as pino.destination')
  }

  const finalLogger = new Proxy(logger, {
    get: (logger, key) => {
      if (key in logger.levels.values) {
        return (...args) => {
          logger[key](...args)
          stream.flushSync()
        }
      }
      return logger[key]
    }
  })

  if (!hasHandler) {
    try {
      stream.flushSync()
    } catch {
      // it's too late to wait for the stream to be ready
      // because this is a final tick scenario.
      // in practice there shouldn't be a situation where it isn't
      // however, swallow the error just in case (and for easier testing)
    }
    return finalLogger
  }

  return (err = null, ...args) => {
    try {
      stream.flushSync()
    } catch (e) {
      // it's too late to wait for the stream to be ready
      // because this is a final tick scenario.
      // in practice there shouldn't be a situation where it isn't
      // however, swallow the error just in case (and for easier testing)
    }
    return handler(err, finalLogger, ...args)
  }
}

function stringify (obj, stringifySafeFn) {
  try {
    return JSON.stringify(obj)
  } catch (_) {
    try {
      const stringify = stringifySafeFn || this[stringifySafeSym]
      return stringify(obj)
    } catch (_) {
      return '"[unable to serialize, circular reference is too complex to analyze]"'
    }
  }
}

function buildFormatters (level, bindings, log) {
  return {
    level,
    bindings,
    log
  }
}

function setMetadataProps (dest, that) {
  if (dest[needsMetadataGsym] === true) {
    dest.lastLevel = that.lastLevel
    dest.lastMsg = that.lastMsg
    dest.lastObj = that.lastObj
    dest.lastTime = that.lastTime
    dest.lastLogger = that.lastLogger
  }
}

/**
 * Convert a string integer file descriptor to a proper native integer
 * file descriptor.
 *
 * @param {string} destination The file descriptor string to attempt to convert.
 *
 * @returns {Number}
 */
function normalizeDestFileDescriptor (destination) {
  const fd = Number(destination)
  if (typeof destination === 'string' && Number.isFinite(fd)) {
    return fd
  }
  return destination
}

module.exports = {
  noop,
  buildSafeSonicBoom,
  getPrettyStream,
  asChindings,
  asJson,
  genLog,
  createArgsNormalizer,
  final,
  stringify,
  buildFormatters,
  normalizeDestFileDescriptor
}


/***/ }),

/***/ 318586:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  REQUIRED_METHODS: () => (/* binding */ ethereum_provider_dist_index_es_wo),
  "default": () => (/* binding */ index_es_ca)
});

// UNUSED EXPORTS: EthereumProvider, OPTIONAL_EVENTS, OPTIONAL_METHODS, REQUIRED_EVENTS

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/identity.js
var identity_namespaceObject = {};
__webpack_require__.r(identity_namespaceObject);
__webpack_require__.d(identity_namespaceObject, {
  identity: () => (identity)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base2.js
var base2_namespaceObject = {};
__webpack_require__.r(base2_namespaceObject);
__webpack_require__.d(base2_namespaceObject, {
  base2: () => (base2)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base8.js
var base8_namespaceObject = {};
__webpack_require__.r(base8_namespaceObject);
__webpack_require__.d(base8_namespaceObject, {
  base8: () => (base8)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base10.js
var base10_namespaceObject = {};
__webpack_require__.r(base10_namespaceObject);
__webpack_require__.d(base10_namespaceObject, {
  base10: () => (base10)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base16.js
var base16_namespaceObject = {};
__webpack_require__.r(base16_namespaceObject);
__webpack_require__.d(base16_namespaceObject, {
  base16: () => (base16),
  base16upper: () => (base16upper)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base36.js
var base36_namespaceObject = {};
__webpack_require__.r(base36_namespaceObject);
__webpack_require__.d(base36_namespaceObject, {
  base36: () => (base36),
  base36upper: () => (base36upper)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base64.js
var base64_namespaceObject = {};
__webpack_require__.r(base64_namespaceObject);
__webpack_require__.d(base64_namespaceObject, {
  base64: () => (base64),
  base64pad: () => (base64pad),
  base64url: () => (base64url),
  base64urlpad: () => (base64urlpad)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/bases/base256emoji.js
var base256emoji_namespaceObject = {};
__webpack_require__.r(base256emoji_namespaceObject);
__webpack_require__.d(base256emoji_namespaceObject, {
  base256emoji: () => (base256emoji)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/hashes/sha2.js
var sha2_namespaceObject = {};
__webpack_require__.r(sha2_namespaceObject);
__webpack_require__.d(sha2_namespaceObject, {
  sha256: () => (sha256),
  sha512: () => (sha512)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/hashes/identity.js
var hashes_identity_namespaceObject = {};
__webpack_require__.r(hashes_identity_namespaceObject);
__webpack_require__.d(hashes_identity_namespaceObject, {
  identity: () => (identity_identity)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/codecs/raw.js
var raw_namespaceObject = {};
__webpack_require__.r(raw_namespaceObject);
__webpack_require__.d(raw_namespaceObject, {
  code: () => (raw_code),
  decode: () => (raw_decode),
  encode: () => (raw_encode),
  name: () => (raw_name)
});

// NAMESPACE OBJECT: ./node_modules/multiformats/esm/src/codecs/json.js
var json_namespaceObject = {};
__webpack_require__.r(json_namespaceObject);
__webpack_require__.d(json_namespaceObject, {
  code: () => (json_code),
  decode: () => (json_decode),
  encode: () => (json_encode),
  name: () => (json_name)
});

// EXTERNAL MODULE: external "events"
var external_events_ = __webpack_require__(24434);
var external_events_default = /*#__PURE__*/__webpack_require__.n(external_events_);
;// ./node_modules/detect-browser/es/index.js
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var BrowserInfo = /** @class */ (function () {
    function BrowserInfo(name, version, os) {
        this.name = name;
        this.version = version;
        this.os = os;
        this.type = 'browser';
    }
    return BrowserInfo;
}());

var NodeInfo = /** @class */ (function () {
    function NodeInfo(version) {
        this.version = version;
        this.type = 'node';
        this.name = 'node';
        this.os = process.platform;
    }
    return NodeInfo;
}());

var SearchBotDeviceInfo = /** @class */ (function () {
    function SearchBotDeviceInfo(name, version, os, bot) {
        this.name = name;
        this.version = version;
        this.os = os;
        this.bot = bot;
        this.type = 'bot-device';
    }
    return SearchBotDeviceInfo;
}());

var BotInfo = /** @class */ (function () {
    function BotInfo() {
        this.type = 'bot';
        this.bot = true; // NOTE: deprecated test name instead
        this.name = 'bot';
        this.version = null;
        this.os = null;
    }
    return BotInfo;
}());

var ReactNativeInfo = /** @class */ (function () {
    function ReactNativeInfo() {
        this.type = 'react-native';
        this.name = 'react-native';
        this.version = null;
        this.os = null;
    }
    return ReactNativeInfo;
}());

// tslint:disable-next-line:max-line-length
var SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;
var SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/;
var REQUIRED_VERSION_PARTS = 3;
var userAgentRules = [
    ['aol', /AOLShield\/([0-9\._]+)/],
    ['edge', /Edge\/([0-9\._]+)/],
    ['edge-ios', /EdgiOS\/([0-9\._]+)/],
    ['yandexbrowser', /YaBrowser\/([0-9\._]+)/],
    ['kakaotalk', /KAKAOTALK\s([0-9\.]+)/],
    ['samsung', /SamsungBrowser\/([0-9\.]+)/],
    ['silk', /\bSilk\/([0-9._-]+)\b/],
    ['miui', /MiuiBrowser\/([0-9\.]+)$/],
    ['beaker', /BeakerBrowser\/([0-9\.]+)/],
    ['edge-chromium', /EdgA?\/([0-9\.]+)/],
    [
        'chromium-webview',
        /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,
    ],
    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ['phantomjs', /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ['crios', /CriOS\/([0-9\.]+)(:?\s|$)/],
    ['firefox', /Firefox\/([0-9\.]+)(?:\s|$)/],
    ['fxios', /FxiOS\/([0-9\.]+)/],
    ['opera-mini', /Opera Mini.*Version\/([0-9\.]+)/],
    ['opera', /Opera\/([0-9\.]+)(?:\s|$)/],
    ['opera', /OPR\/([0-9\.]+)(:?\s|$)/],
    ['pie', /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
    ['pie', /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],
    ['netfront', /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
    ['ie', /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ['ie', /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ['ie', /MSIE\s(7\.0)/],
    ['bb10', /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ['android', /Android\s([0-9\.]+)/],
    ['ios', /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ['safari', /Version\/([0-9\._]+).*Safari/],
    ['facebook', /FB[AS]V\/([0-9\.]+)/],
    ['instagram', /Instagram\s([0-9\.]+)/],
    ['ios-webview', /AppleWebKit\/([0-9\.]+).*Mobile/],
    ['ios-webview', /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
    ['curl', /^curl\/([0-9\.]+)$/],
    ['searchbot', SEARCHBOX_UA_REGEX],
];
var operatingSystemRules = [
    ['iOS', /iP(hone|od|ad)/],
    ['Android OS', /Android/],
    ['BlackBerry OS', /BlackBerry|BB10/],
    ['Windows Mobile', /IEMobile/],
    ['Amazon OS', /Kindle/],
    ['Windows 3.11', /Win16/],
    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],
    ['Windows 98', /(Windows 98)|(Win98)/],
    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],
    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],
    ['Windows Server 2003', /(Windows NT 5.2)/],
    ['Windows Vista', /(Windows NT 6.0)/],
    ['Windows 7', /(Windows NT 6.1)/],
    ['Windows 8', /(Windows NT 6.2)/],
    ['Windows 8.1', /(Windows NT 6.3)/],
    ['Windows 10', /(Windows NT 10.0)/],
    ['Windows ME', /Windows ME/],
    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
    ['Open BSD', /OpenBSD/],
    ['Sun OS', /SunOS/],
    ['Chrome OS', /CrOS/],
    ['Linux', /(Linux)|(X11)/],
    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],
    ['QNX', /QNX/],
    ['BeOS', /BeOS/],
    ['OS/2', /OS\/2/],
];
function detect(userAgent) {
    if (!!userAgent) {
        return parseUserAgent(userAgent);
    }
    if (typeof document === 'undefined' &&
        typeof navigator !== 'undefined' &&
        navigator.product === 'ReactNative') {
        return new ReactNativeInfo();
    }
    if (typeof navigator !== 'undefined') {
        return parseUserAgent(navigator.userAgent);
    }
    return getNodeVersion();
}
function matchUserAgent(ua) {
    // opted for using reduce here rather than Array#first with a regex.test call
    // this is primarily because using the reduce we only perform the regex
    // execution once rather than once for the test and for the exec again below
    // probably something that needs to be benchmarked though
    return (ua !== '' &&
        userAgentRules.reduce(function (matched, _a) {
            var browser = _a[0], regex = _a[1];
            if (matched) {
                return matched;
            }
            var uaMatch = regex.exec(ua);
            return !!uaMatch && [browser, uaMatch];
        }, false));
}
function browserName(ua) {
    var data = matchUserAgent(ua);
    return data ? data[0] : null;
}
function parseUserAgent(ua) {
    var matchedRule = matchUserAgent(ua);
    if (!matchedRule) {
        return null;
    }
    var name = matchedRule[0], match = matchedRule[1];
    if (name === 'searchbot') {
        return new BotInfo();
    }
    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)
    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);
    if (versionParts) {
        if (versionParts.length < REQUIRED_VERSION_PARTS) {
            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);
        }
    }
    else {
        versionParts = [];
    }
    var version = versionParts.join('.');
    var os = detectOS(ua);
    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);
    if (searchBotMatch && searchBotMatch[1]) {
        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);
    }
    return new BrowserInfo(name, version, os);
}
function detectOS(ua) {
    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {
        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];
        var match = regex.exec(ua);
        if (match) {
            return os;
        }
    }
    return null;
}
function getNodeVersion() {
    var isNode = typeof process !== 'undefined' && process.version;
    return isNode ? new NodeInfo(process.version.slice(1)) : null;
}
function createVersionParts(count) {
    var output = [];
    for (var ii = 0; ii < count; ii++) {
        output.push('0');
    }
    return output;
}

// EXTERNAL MODULE: ./node_modules/@walletconnect/time/dist/cjs/index.js
var cjs = __webpack_require__(388900);
// EXTERNAL MODULE: ./node_modules/@walletconnect/window-getters/dist/cjs/index.js
var dist_cjs = __webpack_require__(838196);
// EXTERNAL MODULE: ./node_modules/@walletconnect/window-metadata/dist/cjs/index.js
var window_metadata_dist_cjs = __webpack_require__(842063);
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js
const version = '2.23.2';
//# sourceMappingURL=version.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js

let errorConfig = {
    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath
        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`
        : undefined,
    version: `viem@${version}`,
};
function setErrorConfig(config) {
    errorConfig = config;
}
class BaseError extends Error {
    constructor(shortMessage, args = {}) {
        const details = (() => {
            if (args.cause instanceof BaseError)
                return args.cause.details;
            if (args.cause?.message)
                return args.cause.message;
            return args.details;
        })();
        const docsPath = (() => {
            if (args.cause instanceof BaseError)
                return args.cause.docsPath || args.docsPath;
            return args.docsPath;
        })();
        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });
        const message = [
            shortMessage || 'An error occurred.',
            '',
            ...(args.metaMessages ? [...args.metaMessages, ''] : []),
            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),
            ...(details ? [`Details: ${details}`] : []),
            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),
        ].join('\n');
        super(message, args.cause ? { cause: args.cause } : undefined);
        Object.defineProperty(this, "details", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "docsPath", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "metaMessages", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "shortMessage", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "version", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "name", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: 'BaseError'
        });
        this.details = details;
        this.docsPath = docsPath;
        this.metaMessages = args.metaMessages;
        this.name = args.name ?? this.name;
        this.shortMessage = shortMessage;
        this.version = version;
    }
    walk(fn) {
        return walk(this, fn);
    }
}
function walk(err, fn) {
    if (fn?.(err))
        return err;
    if (err &&
        typeof err === 'object' &&
        'cause' in err &&
        err.cause !== undefined)
        return walk(err.cause, fn);
    return fn ? null : err;
}
//# sourceMappingURL=base.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js
function isHex(value, { strict = true } = {}) {
    if (!value)
        return false;
    if (typeof value !== 'string')
        return false;
    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');
}
//# sourceMappingURL=isHex.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js

class SliceOffsetOutOfBoundsError extends BaseError {
    constructor({ offset, position, size, }) {
        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset "${offset}" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });
    }
}
class SizeExceedsPaddingSizeError extends BaseError {
    constructor({ size, targetSize, type, }) {
        super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });
    }
}
class InvalidBytesLengthError extends BaseError {
    constructor({ size, targetSize, type, }) {
        super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });
    }
}
//# sourceMappingURL=data.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js

function pad(hexOrBytes, { dir, size = 32 } = {}) {
    if (typeof hexOrBytes === 'string')
        return padHex(hexOrBytes, { dir, size });
    return padBytes(hexOrBytes, { dir, size });
}
function padHex(hex_, { dir, size = 32 } = {}) {
    if (size === null)
        return hex_;
    const hex = hex_.replace('0x', '');
    if (hex.length > size * 2)
        throw new SizeExceedsPaddingSizeError({
            size: Math.ceil(hex.length / 2),
            targetSize: size,
            type: 'hex',
        });
    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
}
function padBytes(bytes, { dir, size = 32 } = {}) {
    if (size === null)
        return bytes;
    if (bytes.length > size)
        throw new SizeExceedsPaddingSizeError({
            size: bytes.length,
            targetSize: size,
            type: 'bytes',
        });
    const paddedBytes = new Uint8Array(size);
    for (let i = 0; i < size; i++) {
        const padEnd = dir === 'right';
        paddedBytes[padEnd ? i : size - i - 1] =
            bytes[padEnd ? i : bytes.length - i - 1];
    }
    return paddedBytes;
}
//# sourceMappingURL=pad.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js

class IntegerOutOfRangeError extends BaseError {
    constructor({ max, min, signed, size, value, }) {
        super(`Number "${value}" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });
    }
}
class InvalidBytesBooleanError extends BaseError {
    constructor(bytes) {
        super(`Bytes value "${bytes}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {
            name: 'InvalidBytesBooleanError',
        });
    }
}
class encoding_InvalidHexBooleanError extends BaseError {
    constructor(hex) {
        super(`Hex value "${hex}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`, { name: 'InvalidHexBooleanError' });
    }
}
class InvalidHexValueError extends BaseError {
    constructor(value) {
        super(`Hex value "${value}" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });
    }
}
class SizeOverflowError extends BaseError {
    constructor({ givenSize, maxSize }) {
        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });
    }
}
//# sourceMappingURL=encoding.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js

/**
 * @description Retrieves the size of the value (in bytes).
 *
 * @param value The value (hex or byte array) to retrieve the size of.
 * @returns The size of the value (in bytes).
 */
function size_size(value) {
    if (isHex(value, { strict: false }))
        return Math.ceil((value.length - 2) / 2);
    return value.length;
}
//# sourceMappingURL=size.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js




function assertSize(hexOrBytes, { size }) {
    if (size_size(hexOrBytes) > size)
        throw new SizeOverflowError({
            givenSize: size_size(hexOrBytes),
            maxSize: size,
        });
}
/**
 * Decodes a hex string into a string, number, bigint, boolean, or byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex
 * - Example: https://viem.sh/docs/utilities/fromHex#usage
 *
 * @param hex Hex string to decode.
 * @param toOrOpts Type to convert to or options.
 * @returns Decoded value.
 *
 * @example
 * import { fromHex } from 'viem'
 * const data = fromHex('0x1a4', 'number')
 * // 420
 *
 * @example
 * import { fromHex } from 'viem'
 * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')
 * // 'Hello world'
 *
 * @example
 * import { fromHex } from 'viem'
 * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {
 *   size: 32,
 *   to: 'string'
 * })
 * // 'Hello world'
 */
function fromHex(hex, toOrOpts) {
    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;
    const to = opts.to;
    if (to === 'number')
        return hexToNumber(hex, opts);
    if (to === 'bigint')
        return hexToBigInt(hex, opts);
    if (to === 'string')
        return hexToString(hex, opts);
    if (to === 'boolean')
        return hexToBool(hex, opts);
    return hexToBytes(hex, opts);
}
/**
 * Decodes a hex value into a bigint.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns BigInt value.
 *
 * @example
 * import { hexToBigInt } from 'viem'
 * const data = hexToBigInt('0x1a4', { signed: true })
 * // 420n
 *
 * @example
 * import { hexToBigInt } from 'viem'
 * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
 * // 420n
 */
function hexToBigInt(hex, opts = {}) {
    const { signed } = opts;
    if (opts.size)
        assertSize(hex, { size: opts.size });
    const value = BigInt(hex);
    if (!signed)
        return value;
    const size = (hex.length - 2) / 2;
    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;
    if (value <= max)
        return value;
    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;
}
/**
 * Decodes a hex value into a boolean.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns Boolean value.
 *
 * @example
 * import { hexToBool } from 'viem'
 * const data = hexToBool('0x01')
 * // true
 *
 * @example
 * import { hexToBool } from 'viem'
 * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })
 * // true
 */
function hexToBool(hex_, opts = {}) {
    let hex = hex_;
    if (opts.size) {
        assertSize(hex, { size: opts.size });
        hex = trim(hex);
    }
    if (trim(hex) === '0x00')
        return false;
    if (trim(hex) === '0x01')
        return true;
    throw new InvalidHexBooleanError(hex);
}
/**
 * Decodes a hex string into a number.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns Number value.
 *
 * @example
 * import { hexToNumber } from 'viem'
 * const data = hexToNumber('0x1a4')
 * // 420
 *
 * @example
 * import { hexToNumber } from 'viem'
 * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
 * // 420
 */
function hexToNumber(hex, opts = {}) {
    return Number(hexToBigInt(hex, opts));
}
/**
 * Decodes a hex value into a UTF-8 string.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns String value.
 *
 * @example
 * import { hexToString } from 'viem'
 * const data = hexToString('0x48656c6c6f20576f726c6421')
 * // 'Hello world!'
 *
 * @example
 * import { hexToString } from 'viem'
 * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {
 *  size: 32,
 * })
 * // 'Hello world'
 */
function hexToString(hex, opts = {}) {
    let bytes = hexToBytes(hex);
    if (opts.size) {
        assertSize(bytes, { size: opts.size });
        bytes = trim(bytes, { dir: 'right' });
    }
    return new TextDecoder().decode(bytes);
}
//# sourceMappingURL=fromHex.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js



const hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
/**
 * Encodes a string, number, bigint, or ByteArray into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex
 * - Example: https://viem.sh/docs/utilities/toHex#usage
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { toHex } from 'viem'
 * const data = toHex('Hello world')
 * // '0x48656c6c6f20776f726c6421'
 *
 * @example
 * import { toHex } from 'viem'
 * const data = toHex(420)
 * // '0x1a4'
 *
 * @example
 * import { toHex } from 'viem'
 * const data = toHex('Hello world', { size: 32 })
 * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'
 */
function toHex(value, opts = {}) {
    if (typeof value === 'number' || typeof value === 'bigint')
        return numberToHex(value, opts);
    if (typeof value === 'string') {
        return stringToHex(value, opts);
    }
    if (typeof value === 'boolean')
        return boolToHex(value, opts);
    return bytesToHex(value, opts);
}
/**
 * Encodes a boolean into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#booltohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { boolToHex } from 'viem'
 * const data = boolToHex(true)
 * // '0x1'
 *
 * @example
 * import { boolToHex } from 'viem'
 * const data = boolToHex(false)
 * // '0x0'
 *
 * @example
 * import { boolToHex } from 'viem'
 * const data = boolToHex(true, { size: 32 })
 * // '0x0000000000000000000000000000000000000000000000000000000000000001'
 */
function boolToHex(value, opts = {}) {
    const hex = `0x${Number(value)}`;
    if (typeof opts.size === 'number') {
        assertSize(hex, { size: opts.size });
        return pad(hex, { size: opts.size });
    }
    return hex;
}
/**
 * Encodes a bytes array into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { bytesToHex } from 'viem'
 * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
 * // '0x48656c6c6f20576f726c6421'
 *
 * @example
 * import { bytesToHex } from 'viem'
 * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })
 * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
 */
function bytesToHex(value, opts = {}) {
    let string = '';
    for (let i = 0; i < value.length; i++) {
        string += hexes[value[i]];
    }
    const hex = `0x${string}`;
    if (typeof opts.size === 'number') {
        assertSize(hex, { size: opts.size });
        return pad(hex, { dir: 'right', size: opts.size });
    }
    return hex;
}
/**
 * Encodes a number or bigint into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { numberToHex } from 'viem'
 * const data = numberToHex(420)
 * // '0x1a4'
 *
 * @example
 * import { numberToHex } from 'viem'
 * const data = numberToHex(420, { size: 32 })
 * // '0x00000000000000000000000000000000000000000000000000000000000001a4'
 */
function numberToHex(value_, opts = {}) {
    const { signed, size } = opts;
    const value = BigInt(value_);
    let maxValue;
    if (size) {
        if (signed)
            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
        else
            maxValue = 2n ** (BigInt(size) * 8n) - 1n;
    }
    else if (typeof value_ === 'number') {
        maxValue = BigInt(Number.MAX_SAFE_INTEGER);
    }
    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
    if ((maxValue && value > maxValue) || value < minValue) {
        const suffix = typeof value_ === 'bigint' ? 'n' : '';
        throw new IntegerOutOfRangeError({
            max: maxValue ? `${maxValue}${suffix}` : undefined,
            min: `${minValue}${suffix}`,
            signed,
            size,
            value: `${value_}${suffix}`,
        });
    }
    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;
    if (size)
        return pad(hex, { size });
    return hex;
}
const encoder = /*#__PURE__*/ new TextEncoder();
/**
 * Encodes a UTF-8 string into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { stringToHex } from 'viem'
 * const data = stringToHex('Hello World!')
 * // '0x48656c6c6f20576f726c6421'
 *
 * @example
 * import { stringToHex } from 'viem'
 * const data = stringToHex('Hello World!', { size: 32 })
 * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
 */
function stringToHex(value_, opts = {}) {
    const value = encoder.encode(value_);
    return bytesToHex(value, opts);
}
//# sourceMappingURL=toHex.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js





const toBytes_encoder = /*#__PURE__*/ new TextEncoder();
/**
 * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes
 * - Example: https://viem.sh/docs/utilities/toBytes#usage
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { toBytes } from 'viem'
 * const data = toBytes('Hello world')
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
 *
 * @example
 * import { toBytes } from 'viem'
 * const data = toBytes(420)
 * // Uint8Array([1, 164])
 *
 * @example
 * import { toBytes } from 'viem'
 * const data = toBytes(420, { size: 4 })
 * // Uint8Array([0, 0, 1, 164])
 */
function toBytes(value, opts = {}) {
    if (typeof value === 'number' || typeof value === 'bigint')
        return numberToBytes(value, opts);
    if (typeof value === 'boolean')
        return boolToBytes(value, opts);
    if (isHex(value))
        return toBytes_hexToBytes(value, opts);
    return stringToBytes(value, opts);
}
/**
 * Encodes a boolean into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes
 *
 * @param value Boolean value to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { boolToBytes } from 'viem'
 * const data = boolToBytes(true)
 * // Uint8Array([1])
 *
 * @example
 * import { boolToBytes } from 'viem'
 * const data = boolToBytes(true, { size: 32 })
 * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])
 */
function boolToBytes(value, opts = {}) {
    const bytes = new Uint8Array(1);
    bytes[0] = Number(value);
    if (typeof opts.size === 'number') {
        assertSize(bytes, { size: opts.size });
        return pad(bytes, { size: opts.size });
    }
    return bytes;
}
// We use very optimized technique to convert hex string to byte array
const charCodeMap = {
    zero: 48,
    nine: 57,
    A: 65,
    F: 70,
    a: 97,
    f: 102,
};
function charCodeToBase16(char) {
    if (char >= charCodeMap.zero && char <= charCodeMap.nine)
        return char - charCodeMap.zero;
    if (char >= charCodeMap.A && char <= charCodeMap.F)
        return char - (charCodeMap.A - 10);
    if (char >= charCodeMap.a && char <= charCodeMap.f)
        return char - (charCodeMap.a - 10);
    return undefined;
}
/**
 * Encodes a hex string into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes
 *
 * @param hex Hex string to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { hexToBytes } from 'viem'
 * const data = hexToBytes('0x48656c6c6f20776f726c6421')
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
 *
 * @example
 * import { hexToBytes } from 'viem'
 * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
 */
function toBytes_hexToBytes(hex_, opts = {}) {
    let hex = hex_;
    if (opts.size) {
        assertSize(hex, { size: opts.size });
        hex = pad(hex, { dir: 'right', size: opts.size });
    }
    let hexString = hex.slice(2);
    if (hexString.length % 2)
        hexString = `0${hexString}`;
    const length = hexString.length / 2;
    const bytes = new Uint8Array(length);
    for (let index = 0, j = 0; index < length; index++) {
        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));
        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));
        if (nibbleLeft === undefined || nibbleRight === undefined) {
            throw new BaseError(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
        }
        bytes[index] = nibbleLeft * 16 + nibbleRight;
    }
    return bytes;
}
/**
 * Encodes a number into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes
 *
 * @param value Number to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { numberToBytes } from 'viem'
 * const data = numberToBytes(420)
 * // Uint8Array([1, 164])
 *
 * @example
 * import { numberToBytes } from 'viem'
 * const data = numberToBytes(420, { size: 4 })
 * // Uint8Array([0, 0, 1, 164])
 */
function numberToBytes(value, opts) {
    const hex = numberToHex(value, opts);
    return toBytes_hexToBytes(hex);
}
/**
 * Encodes a UTF-8 string into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes
 *
 * @param value String to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { stringToBytes } from 'viem'
 * const data = stringToBytes('Hello world!')
 * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
 *
 * @example
 * import { stringToBytes } from 'viem'
 * const data = stringToBytes('Hello world!', { size: 32 })
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
 */
function stringToBytes(value, opts = {}) {
    const bytes = toBytes_encoder.encode(value);
    if (typeof opts.size === 'number') {
        assertSize(bytes, { size: opts.size });
        return pad(bytes, { dir: 'right', size: opts.size });
    }
    return bytes;
}
//# sourceMappingURL=toBytes.js.map
// EXTERNAL MODULE: ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/_assert.js
var _assert = __webpack_require__(183011);
;// ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/_u64.js
/**
 * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.
 * @todo re-check https://issues.chromium.org/issues/42212588
 * @module
 */
const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);
const _32n = /* @__PURE__ */ BigInt(32);
function fromBig(n, le = false) {
    if (le)
        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };
    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };
}
function split(lst, le = false) {
    let Ah = new Uint32Array(lst.length);
    let Al = new Uint32Array(lst.length);
    for (let i = 0; i < lst.length; i++) {
        const { h, l } = fromBig(lst[i], le);
        [Ah[i], Al[i]] = [h, l];
    }
    return [Ah, Al];
}
const toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);
// for Shift in [0, 32)
const shrSH = (h, _l, s) => h >>> s;
const shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);
// Right rotate for Shift in [1, 32)
const rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));
const rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);
// Right rotate for Shift in (32, 64), NOTE: 32 is special case.
const rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));
const rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));
// Right rotate for shift===32 (just swaps l&h)
const rotr32H = (_h, l) => l;
const rotr32L = (h, _l) => h;
// Left rotate for Shift in [1, 32)
const rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));
const rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));
// Left rotate for Shift in (32, 64), NOTE: 32 is special case.
const rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));
const rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));
// JS uses 32-bit signed integers for bitwise operations which means we cannot
// simple take carry out of low bit sum by shift, we need to use division.
function add(Ah, Al, Bh, Bl) {
    const l = (Al >>> 0) + (Bl >>> 0);
    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };
}
// Addition with more than 2 elements
const add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);
const add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;
const add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);
const add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;
const add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);
const add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;
// prettier-ignore

// prettier-ignore
const u64 = {
    fromBig, split, toBig,
    shrSH, shrSL,
    rotrSH, rotrSL, rotrBH, rotrBL,
    rotr32H, rotr32L,
    rotlSH, rotlSL, rotlBH, rotlBL,
    add, add3L, add3H, add4L, add4H, add5H, add5L,
};
/* harmony default export */ const _u64 = ((/* unused pure expression or super */ null && (u64)));
//# sourceMappingURL=_u64.js.map
// EXTERNAL MODULE: ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/utils.js + 1 modules
var utils = __webpack_require__(835404);
;// ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/sha3.js
/**
 * SHA3 (keccak) hash function, based on a new "Sponge function" design.
 * Different from older hashes, the internal state is bigger than output size.
 *
 * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),
 * [Website](https://keccak.team/keccak.html),
 * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).
 *
 * Check out `sha3-addons` module for cSHAKE, k12, and others.
 * @module
 */



// Various per round constants calculations
const SHA3_PI = [];
const SHA3_ROTL = [];
const _SHA3_IOTA = [];
const _0n = /* @__PURE__ */ BigInt(0);
const _1n = /* @__PURE__ */ BigInt(1);
const _2n = /* @__PURE__ */ BigInt(2);
const _7n = /* @__PURE__ */ BigInt(7);
const _256n = /* @__PURE__ */ BigInt(256);
const _0x71n = /* @__PURE__ */ BigInt(0x71);
for (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {
    // Pi
    [x, y] = [y, (2 * x + 3 * y) % 5];
    SHA3_PI.push(2 * (5 * y + x));
    // Rotational
    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);
    // Iota
    let t = _0n;
    for (let j = 0; j < 7; j++) {
        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;
        if (R & _2n)
            t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);
    }
    _SHA3_IOTA.push(t);
}
const [SHA3_IOTA_H, SHA3_IOTA_L] = /* @__PURE__ */ split(_SHA3_IOTA, true);
// Left rotation (without 0, 32, 64)
const rotlH = (h, l, s) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));
const rotlL = (h, l, s) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));
/** `keccakf1600` internal function, additionally allows to adjust round count. */
function keccakP(s, rounds = 24) {
    const B = new Uint32Array(5 * 2);
    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)
    for (let round = 24 - rounds; round < 24; round++) {
        // Theta 
        for (let x = 0; x < 10; x++)
            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];
        for (let x = 0; x < 10; x += 2) {
            const idx1 = (x + 8) % 10;
            const idx0 = (x + 2) % 10;
            const B0 = B[idx0];
            const B1 = B[idx0 + 1];
            const Th = rotlH(B0, B1, 1) ^ B[idx1];
            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];
            for (let y = 0; y < 50; y += 10) {
                s[x + y] ^= Th;
                s[x + y + 1] ^= Tl;
            }
        }
        // Rho () and Pi ()
        let curH = s[2];
        let curL = s[3];
        for (let t = 0; t < 24; t++) {
            const shift = SHA3_ROTL[t];
            const Th = rotlH(curH, curL, shift);
            const Tl = rotlL(curH, curL, shift);
            const PI = SHA3_PI[t];
            curH = s[PI];
            curL = s[PI + 1];
            s[PI] = Th;
            s[PI + 1] = Tl;
        }
        // Chi ()
        for (let y = 0; y < 50; y += 10) {
            for (let x = 0; x < 10; x++)
                B[x] = s[y + x];
            for (let x = 0; x < 10; x++)
                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];
        }
        // Iota ()
        s[0] ^= SHA3_IOTA_H[round];
        s[1] ^= SHA3_IOTA_L[round];
    }
    B.fill(0);
}
/** Keccak sponge function. */
class Keccak extends utils/* Hash */.Vw {
    // NOTE: we accept arguments in bytes instead of bits here.
    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {
        super();
        this.blockLen = blockLen;
        this.suffix = suffix;
        this.outputLen = outputLen;
        this.enableXOF = enableXOF;
        this.rounds = rounds;
        this.pos = 0;
        this.posOut = 0;
        this.finished = false;
        this.destroyed = false;
        // Can be passed from user as dkLen
        (0,_assert/* anumber */.Fe)(outputLen);
        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes
        // 0 < blockLen < 200
        if (0 >= this.blockLen || this.blockLen >= 200)
            throw new Error('Sha3 supports only keccak-f1600 function');
        this.state = new Uint8Array(200);
        this.state32 = (0,utils/* u32 */.DH)(this.state);
    }
    keccak() {
        if (!utils/* isLE */.qv)
            (0,utils/* byteSwap32 */.Fc)(this.state32);
        keccakP(this.state32, this.rounds);
        if (!utils/* isLE */.qv)
            (0,utils/* byteSwap32 */.Fc)(this.state32);
        this.posOut = 0;
        this.pos = 0;
    }
    update(data) {
        (0,_assert/* aexists */.CC)(this);
        const { blockLen, state } = this;
        data = (0,utils/* toBytes */.ZJ)(data);
        const len = data.length;
        for (let pos = 0; pos < len;) {
            const take = Math.min(blockLen - this.pos, len - pos);
            for (let i = 0; i < take; i++)
                state[this.pos++] ^= data[pos++];
            if (this.pos === blockLen)
                this.keccak();
        }
        return this;
    }
    finish() {
        if (this.finished)
            return;
        this.finished = true;
        const { state, suffix, pos, blockLen } = this;
        // Do the padding
        state[pos] ^= suffix;
        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)
            this.keccak();
        state[blockLen - 1] ^= 0x80;
        this.keccak();
    }
    writeInto(out) {
        (0,_assert/* aexists */.CC)(this, false);
        (0,_assert/* abytes */.DO)(out);
        this.finish();
        const bufferOut = this.state;
        const { blockLen } = this;
        for (let pos = 0, len = out.length; pos < len;) {
            if (this.posOut >= blockLen)
                this.keccak();
            const take = Math.min(blockLen - this.posOut, len - pos);
            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);
            this.posOut += take;
            pos += take;
        }
        return out;
    }
    xofInto(out) {
        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF
        if (!this.enableXOF)
            throw new Error('XOF is not possible for this instance');
        return this.writeInto(out);
    }
    xof(bytes) {
        (0,_assert/* anumber */.Fe)(bytes);
        return this.xofInto(new Uint8Array(bytes));
    }
    digestInto(out) {
        (0,_assert/* aoutput */.Ht)(out, this);
        if (this.finished)
            throw new Error('digest() was already called');
        this.writeInto(out);
        this.destroy();
        return out;
    }
    digest() {
        return this.digestInto(new Uint8Array(this.outputLen));
    }
    destroy() {
        this.destroyed = true;
        this.state.fill(0);
    }
    _cloneInto(to) {
        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;
        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));
        to.state32.set(this.state32);
        to.pos = this.pos;
        to.posOut = this.posOut;
        to.finished = this.finished;
        to.rounds = rounds;
        // Suffix can change in cSHAKE
        to.suffix = suffix;
        to.outputLen = outputLen;
        to.enableXOF = enableXOF;
        to.destroyed = this.destroyed;
        return to;
    }
}
const gen = (suffix, blockLen, outputLen) => (0,utils/* wrapConstructor */.ld)(() => new Keccak(blockLen, suffix, outputLen));
/** SHA3-224 hash function. */
const sha3_224 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x06, 144, 224 / 8)));
/** SHA3-256 hash function. Different from keccak-256. */
const sha3_256 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x06, 136, 256 / 8)));
/** SHA3-384 hash function. */
const sha3_384 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x06, 104, 384 / 8)));
/** SHA3-512 hash function. */
const sha3_512 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x06, 72, 512 / 8)));
/** keccak-224 hash function. */
const keccak_224 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x01, 144, 224 / 8)));
/** keccak-256 hash function. Different from SHA3-256. */
const keccak_256 = /* @__PURE__ */ gen(0x01, 136, 256 / 8);
/** keccak-384 hash function. */
const keccak_384 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x01, 104, 384 / 8)));
/** keccak-512 hash function. */
const keccak_512 = /* @__PURE__ */ (/* unused pure expression or super */ null && (gen(0x01, 72, 512 / 8)));
const genShake = (suffix, blockLen, outputLen) => wrapXOFConstructorWithOpts((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true));
/** SHAKE128 XOF with 128-bit security. */
const shake128 = /* @__PURE__ */ (/* unused pure expression or super */ null && (genShake(0x1f, 168, 128 / 8)));
/** SHAKE256 XOF with 256-bit security. */
const shake256 = /* @__PURE__ */ (/* unused pure expression or super */ null && (genShake(0x1f, 136, 256 / 8)));
//# sourceMappingURL=sha3.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js




function keccak256(value, to_) {
    const to = to_ || 'hex';
    const bytes = keccak_256(isHex(value, { strict: false }) ? toBytes(value) : value);
    if (to === 'bytes')
        return bytes;
    return toHex(bytes);
}
//# sourceMappingURL=keccak256.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js
/**
 * Map with a LRU (Least recently used) policy.
 *
 * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
 */
class LruMap extends Map {
    constructor(size) {
        super();
        Object.defineProperty(this, "maxSize", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.maxSize = size;
    }
    get(key) {
        const value = super.get(key);
        if (super.has(key) && value !== undefined) {
            this.delete(key);
            super.set(key, value);
        }
        return value;
    }
    set(key, value) {
        super.set(key, value);
        if (this.maxSize && this.size > this.maxSize) {
            const firstKey = this.keys().next().value;
            if (firstKey)
                this.delete(firstKey);
        }
        return this;
    }
}
//# sourceMappingURL=lru.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js





const checksumAddressCache = /*#__PURE__*/ new LruMap(8192);
function checksumAddress(address_, 
/**
 * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
 * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
 * that relies on EIP-55 checksum encoding (checksum without chainId).
 *
 * It is highly recommended to not use this feature unless you
 * know what you are doing.
 *
 * See more: https://github.com/ethereum/EIPs/issues/1121
 */
chainId) {
    if (checksumAddressCache.has(`${address_}.${chainId}`))
        return checksumAddressCache.get(`${address_}.${chainId}`);
    const hexAddress = chainId
        ? `${chainId}${address_.toLowerCase()}`
        : address_.substring(2).toLowerCase();
    const hash = keccak256(stringToBytes(hexAddress), 'bytes');
    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');
    for (let i = 0; i < 40; i += 2) {
        if (hash[i >> 1] >> 4 >= 8 && address[i]) {
            address[i] = address[i].toUpperCase();
        }
        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {
            address[i + 1] = address[i + 1].toUpperCase();
        }
    }
    const result = `0x${address.join('')}`;
    checksumAddressCache.set(`${address_}.${chainId}`, result);
    return result;
}
function getAddress(address, 
/**
 * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
 * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
 * that relies on EIP-55 checksum encoding (checksum without chainId).
 *
 * It is highly recommended to not use this feature unless you
 * know what you are doing.
 *
 * See more: https://github.com/ethereum/EIPs/issues/1121
 */
chainId) {
    if (!isAddress(address, { strict: false }))
        throw new InvalidAddressError({ address });
    return checksumAddress(address, chainId);
}
//# sourceMappingURL=getAddress.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js


/**
 * @description Converts an ECDSA public key to an address.
 *
 * @param publicKey The public key to convert.
 *
 * @returns The address.
 */
function publicKeyToAddress(publicKey) {
    const address = keccak256(`0x${publicKey.substring(4)}`).substring(26);
    return checksumAddress(`0x${address}`);
}
//# sourceMappingURL=publicKeyToAddress.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js



async function recoverPublicKey({ hash, signature, }) {
    const hashHex = isHex(hash) ? hash : toHex(hash);
    const { secp256k1 } = await __webpack_require__.e(/* import() */ 1956).then(__webpack_require__.bind(__webpack_require__, 291956));
    const signature_ = (() => {
        // typeof signature: `Signature`
        if (typeof signature === 'object' && 'r' in signature && 's' in signature) {
            const { r, s, v, yParity } = signature;
            const yParityOrV = Number(yParity ?? v);
            const recoveryBit = toRecoveryBit(yParityOrV);
            return new secp256k1.Signature(hexToBigInt(r), hexToBigInt(s)).addRecoveryBit(recoveryBit);
        }
        // typeof signature: `Hex | ByteArray`
        const signatureHex = isHex(signature) ? signature : toHex(signature);
        const yParityOrV = hexToNumber(`0x${signatureHex.slice(130)}`);
        const recoveryBit = toRecoveryBit(yParityOrV);
        return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);
    })();
    const publicKey = signature_
        .recoverPublicKey(hashHex.substring(2))
        .toHex(false);
    return `0x${publicKey}`;
}
function toRecoveryBit(yParityOrV) {
    if (yParityOrV === 0 || yParityOrV === 1)
        return yParityOrV;
    if (yParityOrV === 27)
        return 0;
    if (yParityOrV === 28)
        return 1;
    throw new Error('Invalid yParityOrV value');
}
//# sourceMappingURL=recoverPublicKey.js.map
;// ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js


async function recoverAddress({ hash, signature, }) {
    return publicKeyToAddress(await recoverPublicKey({ hash: hash, signature }));
}
//# sourceMappingURL=recoverAddress.js.map
;// ./node_modules/base-x/src/esm/index.js
// base-x encoding / decoding
// Copyright (c) 2018 base-x contributors
// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)
// Distributed under the MIT software license, see the accompanying
// file LICENSE or http://www.opensource.org/licenses/mit-license.php.
function base (ALPHABET) {
  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }
  const BASE_MAP = new Uint8Array(256)
  for (let j = 0; j < BASE_MAP.length; j++) {
    BASE_MAP[j] = 255
  }
  for (let i = 0; i < ALPHABET.length; i++) {
    const x = ALPHABET.charAt(i)
    const xc = x.charCodeAt(0)
    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }
    BASE_MAP[xc] = i
  }
  const BASE = ALPHABET.length
  const LEADER = ALPHABET.charAt(0)
  const FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up
  const iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up
  function encode (source) {
    // eslint-disable-next-line no-empty
    if (source instanceof Uint8Array) { } else if (ArrayBuffer.isView(source)) {
      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)
    } else if (Array.isArray(source)) {
      source = Uint8Array.from(source)
    }
    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }
    if (source.length === 0) { return '' }
    // Skip & count leading zeroes.
    let zeroes = 0
    let length = 0
    let pbegin = 0
    const pend = source.length
    while (pbegin !== pend && source[pbegin] === 0) {
      pbegin++
      zeroes++
    }
    // Allocate enough space in big-endian base58 representation.
    const size = ((pend - pbegin) * iFACTOR + 1) >>> 0
    const b58 = new Uint8Array(size)
    // Process the bytes.
    while (pbegin !== pend) {
      let carry = source[pbegin]
      // Apply "b58 = b58 * 256 + ch".
      let i = 0
      for (let it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {
        carry += (256 * b58[it1]) >>> 0
        b58[it1] = (carry % BASE) >>> 0
        carry = (carry / BASE) >>> 0
      }
      if (carry !== 0) { throw new Error('Non-zero carry') }
      length = i
      pbegin++
    }
    // Skip leading zeroes in base58 result.
    let it2 = size - length
    while (it2 !== size && b58[it2] === 0) {
      it2++
    }
    // Translate the result into a string.
    let str = LEADER.repeat(zeroes)
    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }
    return str
  }
  function decodeUnsafe (source) {
    if (typeof source !== 'string') { throw new TypeError('Expected String') }
    if (source.length === 0) { return new Uint8Array() }
    let psz = 0
    // Skip and count leading '1's.
    let zeroes = 0
    let length = 0
    while (source[psz] === LEADER) {
      zeroes++
      psz++
    }
    // Allocate enough space in big-endian base256 representation.
    const size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.
    const b256 = new Uint8Array(size)
    // Process the characters.
    while (psz < source.length) {
      // Find code of next character
      const charCode = source.charCodeAt(psz)
      // Base map can not be indexed using char code
      if (charCode > 255) { return }
      // Decode character
      let carry = BASE_MAP[charCode]
      // Invalid character
      if (carry === 255) { return }
      let i = 0
      for (let it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {
        carry += (BASE * b256[it3]) >>> 0
        b256[it3] = (carry % 256) >>> 0
        carry = (carry / 256) >>> 0
      }
      if (carry !== 0) { throw new Error('Non-zero carry') }
      length = i
      psz++
    }
    // Skip leading zeroes in b256.
    let it4 = size - length
    while (it4 !== size && b256[it4] === 0) {
      it4++
    }
    const vch = new Uint8Array(zeroes + (size - it4))
    let j = zeroes
    while (it4 !== size) {
      vch[j++] = b256[it4++]
    }
    return vch
  }
  function decode (string) {
    const buffer = decodeUnsafe(string)
    if (buffer) { return buffer }
    throw new Error('Non-base' + BASE + ' character')
  }
  return {
    encode,
    decodeUnsafe,
    decode
  }
}
/* harmony default export */ const esm = (base);

;// ./node_modules/bs58/src/esm/index.js

var ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';
/* harmony default export */ const src_esm = (esm(ALPHABET));

;// ./node_modules/@walletconnect/safe-json/dist/esm/index.js
const JSONStringify = data => JSON.stringify(data, (_, value) => typeof value === "bigint" ? value.toString() + "n" : value);
const JSONParse = json => {
    const numbersBiggerThanMaxInt = /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g;
    const serializedData = json.replace(numbersBiggerThanMaxInt, "$1\"$2n\"$3");
    return JSON.parse(serializedData, (_, value) => {
        const isCustomFormatBigInt = typeof value === "string" && value.match(/^\d+n$/);
        if (isCustomFormatBigInt)
            return BigInt(value.substring(0, value.length - 1));
        return value;
    });
};
function safeJsonParse(value) {
    if (typeof value !== "string") {
        throw new Error(`Cannot safe json parse value of type ${typeof value}`);
    }
    try {
        return JSONParse(value);
    }
    catch (_a) {
        return value;
    }
}
function safeJsonStringify(value) {
    return typeof value === "string" ? value : JSONStringify(value) || "";
}
//# sourceMappingURL=index.js.map
;// ./node_modules/@walletconnect/relay-auth/dist/index.es.js
function En(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fe(t,...e){if(!En(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function De(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gn(t,e){fe(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const it=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function yn(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function de(t){return typeof t=="string"&&(t=yn(t)),fe(t),t}class xn{clone(){return this._cloneInto()}}function Bn(t){const e=r=>t().update(de(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function he(t=32){if(it&&typeof it.getRandomValues=="function")return it.getRandomValues(new Uint8Array(t));if(it&&typeof it.randomBytes=="function")return it.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Cn(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),a=Number(n>>o&s),u=Number(n&s),i=r?4:0,D=r?0:4;t.setUint32(e+i,a,r),t.setUint32(e+D,u,r)}class An extends xn{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_t(this.buffer)}update(e){De(this);const{view:n,buffer:r,blockLen:o}=this;e=de(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(o-this.pos,s-a);if(u===o){const i=_t(e);for(;o<=s-a;a+=o)this.process(i,a);continue}r.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){De(this),gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let l=a;l<o;l++)n[l]=0;Cn(r,o-8,BigInt(this.length*8),s),this.process(r,0);const u=_t(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const D=i/4,c=this.get();if(D>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<D;l++)u.setUint32(4*l,c[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=a,o%n&&e.buffer.set(r),e}}const wt=BigInt(2**32-1),St=BigInt(32);function le(t,e=!1){return e?{h:Number(t&wt),l:Number(t>>St&wt)}:{h:Number(t>>St&wt)|0,l:Number(t&wt)|0}}function mn(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=le(t[o],e);[n[o],r[o]]=[s,a]}return[n,r]}const _n=(t,e)=>BigInt(t>>>0)<<St|BigInt(e>>>0),Sn=(t,e,n)=>t>>>n,vn=(t,e,n)=>t<<32-n|e>>>n,In=(t,e,n)=>t>>>n|e<<32-n,Un=(t,e,n)=>t<<32-n|e>>>n,Tn=(t,e,n)=>t<<64-n|e>>>n-32,Fn=(t,e,n)=>t>>>n-32|e<<64-n,Nn=(t,e)=>e,Ln=(t,e)=>t,index_es_On=(t,e,n)=>t<<n|e>>>32-n,Hn=(t,e,n)=>e<<n|t>>>32-n,zn=(t,e,n)=>e<<n-32|t>>>64-n,Mn=(t,e,n)=>t<<n-32|e>>>64-n;function qn(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const $n=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kn=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Rn=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jn=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zn=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gn=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,x={fromBig:le,split:mn,toBig:_n,shrSH:Sn,shrSL:vn,rotrSH:In,rotrSL:Un,rotrBH:Tn,rotrBL:Fn,rotr32H:Nn,rotr32L:Ln,rotlSH:index_es_On,rotlSL:Hn,rotlBH:zn,rotlBL:Mn,add:qn,add3L:$n,add3H:kn,add4L:Rn,add4H:jn,add5H:Gn,add5L:Zn},[Vn,Yn]=(()=>x.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),P=new Uint32Array(80),Q=new Uint32Array(80);class Jn extends An{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:a,Dh:u,Dl:i,Eh:D,El:c,Fh:l,Fl:p,Gh:w,Gl:h,Hh:g,Hl:S}=this;return[e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S]}set(e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=i|0,this.Eh=D|0,this.El=c|0,this.Fh=l|0,this.Fl=p|0,this.Gh=w|0,this.Gl=h|0,this.Hh=g|0,this.Hl=S|0}process(e,n){for(let d=0;d<16;d++,n+=4)P[d]=e.getUint32(n),Q[d]=e.getUint32(n+=4);for(let d=16;d<80;d++){const m=P[d-15]|0,F=Q[d-15]|0,q=x.rotrSH(m,F,1)^x.rotrSH(m,F,8)^x.shrSH(m,F,7),z=x.rotrSL(m,F,1)^x.rotrSL(m,F,8)^x.shrSL(m,F,7),I=P[d-2]|0,O=Q[d-2]|0,ot=x.rotrSH(I,O,19)^x.rotrBH(I,O,61)^x.shrSH(I,O,6),tt=x.rotrSL(I,O,19)^x.rotrBL(I,O,61)^x.shrSL(I,O,6),st=x.add4L(z,tt,Q[d-7],Q[d-16]),at=x.add4H(st,q,ot,P[d-7],P[d-16]);P[d]=at|0,Q[d]=st|0}let{Ah:r,Al:o,Bh:s,Bl:a,Ch:u,Cl:i,Dh:D,Dl:c,Eh:l,El:p,Fh:w,Fl:h,Gh:g,Gl:S,Hh:v,Hl:L}=this;for(let d=0;d<80;d++){const m=x.rotrSH(l,p,14)^x.rotrSH(l,p,18)^x.rotrBH(l,p,41),F=x.rotrSL(l,p,14)^x.rotrSL(l,p,18)^x.rotrBL(l,p,41),q=l&w^~l&g,z=p&h^~p&S,I=x.add5L(L,F,z,Yn[d],Q[d]),O=x.add5H(I,v,m,q,Vn[d],P[d]),ot=I|0,tt=x.rotrSH(r,o,28)^x.rotrBH(r,o,34)^x.rotrBH(r,o,39),st=x.rotrSL(r,o,28)^x.rotrBL(r,o,34)^x.rotrBL(r,o,39),at=r&s^r&u^s&u,Ct=o&a^o&i^a&i;v=g|0,L=S|0,g=w|0,S=h|0,w=l|0,h=p|0,{h:l,l:p}=x.add(D|0,c|0,O|0,ot|0),D=u|0,c=i|0,u=s|0,i=a|0,s=r|0,a=o|0;const At=x.add3L(ot,st,Ct);r=x.add3H(At,O,tt,at),o=At|0}({h:r,l:o}=x.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:a}=x.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:i}=x.add(this.Ch|0,this.Cl|0,u|0,i|0),{h:D,l:c}=x.add(this.Dh|0,this.Dl|0,D|0,c|0),{h:l,l:p}=x.add(this.Eh|0,this.El|0,l|0,p|0),{h:w,l:h}=x.add(this.Fh|0,this.Fl|0,w|0,h|0),{h:g,l:S}=x.add(this.Gh|0,this.Gl|0,g|0,S|0),{h:v,l:L}=x.add(this.Hh|0,this.Hl|0,v|0,L|0),this.set(r,o,s,a,u,i,D,c,l,p,w,h,g,S,v,L)}roundClean(){P.fill(0),Q.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Kn=Bn(()=>new Jn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt=BigInt(0),be=BigInt(1),Wn=BigInt(2);function It(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ut(t){if(!It(t))throw new Error("Uint8Array expected")}function Tt(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Xn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ft(t){Ut(t);let e="";for(let n=0;n<t.length;n++)e+=Xn[t[n]];return e}function pe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vt:BigInt("0x"+t)}const K={_0:48,_9:57,A:65,F:70,a:97,f:102};function we(t){if(t>=K._0&&t<=K._9)return t-K._0;if(t>=K.A&&t<=K.F)return t-(K.A-10);if(t>=K.a&&t<=K.f)return t-(K.a-10)}function Ee(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const a=we(t.charCodeAt(s)),u=we(t.charCodeAt(s+1));if(a===void 0||u===void 0){const i=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+s)}r[o]=a*16+u}return r}function Pn(t){return pe(Ft(t))}function Et(t){return Ut(t),pe(Ft(Uint8Array.from(t).reverse()))}function ge(t,e){return Ee(t.toString(16).padStart(e*2,"0"))}function Nt(t,e){return ge(t,e).reverse()}function W(t,e,n){let r;if(typeof e=="string")try{r=Ee(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(It(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function ye(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ut(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}const Lt=t=>typeof t=="bigint"&&vt<=t;function Qn(t,e,n){return Lt(t)&&Lt(e)&&Lt(n)&&e<=t&&t<n}function ft(t,e,n,r){if(!Qn(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function tr(t){let e;for(e=0;t>vt;t>>=be,e+=1);return e}const er=t=>(Wn<<BigInt(t-1))-be,nr={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||It(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ot(t,e,n={}){const r=(o,s,a)=>{const u=nr[s];if(typeof u!="function")throw new Error("invalid validator function");const i=t[o];if(!(a&&i===void 0)&&!u(i,t))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+i)};for(const[o,s]of Object.entries(e))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return t}function xe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const M=BigInt(0),N=BigInt(1),nt=BigInt(2),rr=BigInt(3),Ht=BigInt(4),Be=BigInt(5),index_es_Ce=BigInt(8);function H(t,e){const n=t%e;return n>=M?n:e+n}function or(t,e,n){if(e<M)throw new Error("invalid exponent, negatives unsupported");if(n<=M)throw new Error("invalid modulus");if(n===N)return M;let r=N;for(;e>M;)e&N&&(r=r*t%n),t=t*t%n,e>>=N;return r}function J(t,e,n){let r=t;for(;e-- >M;)r*=r,r%=n;return r}function Ae(t,e){if(t===M)throw new Error("invert: expected non-zero number");if(e<=M)throw new Error("invert: expected positive modulus, got "+e);let n=H(t,e),r=e,o=M,s=N;for(;n!==M;){const u=r/n,i=r%n,D=o-s*u;r=n,n=i,o=s,s=D}if(r!==N)throw new Error("invert: does not exist");return H(o,e)}function sr(t){const e=(t-N)/nt;let n,r,o;for(n=t-N,r=0;n%nt===M;n/=nt,r++);for(o=nt;o<t&&or(o,e,t)!==t-N;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+N)/Ht;return function(i,D){const c=i.pow(D,a);if(!i.eql(i.sqr(c),D))throw new Error("Cannot find square root");return c}}const s=(n+N)/nt;return function(u,i){if(u.pow(i,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let D=r,c=u.pow(u.mul(u.ONE,o),n),l=u.pow(i,s),p=u.pow(i,n);for(;!u.eql(p,u.ONE);){if(u.eql(p,u.ZERO))return u.ZERO;let w=1;for(let g=u.sqr(p);w<D&&!u.eql(g,u.ONE);w++)g=u.sqr(g);const h=u.pow(c,N<<BigInt(D-w-1));c=u.sqr(h),l=u.mul(l,h),p=u.mul(p,c),D=w}return l}}function ir(t){if(t%Ht===rr){const e=(t+N)/Ht;return function(r,o){const s=r.pow(o,e);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(t%index_es_Ce===Be){const e=(t-Be)/index_es_Ce;return function(r,o){const s=r.mul(o,nt),a=r.pow(s,e),u=r.mul(o,a),i=r.mul(r.mul(u,nt),a),D=r.mul(u,r.sub(i,r.ONE));if(!r.eql(r.sqr(D),o))throw new Error("Cannot find square root");return D}}return sr(t)}const ur=(t,e)=>(H(t,e)&N)===N,cr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ar(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cr.reduce((r,o)=>(r[o]="function",r),e);return Ot(t,n)}function fr(t,e,n){if(n<M)throw new Error("invalid exponent, negatives unsupported");if(n===M)return t.ONE;if(n===N)return e;let r=t.ONE,o=e;for(;n>M;)n&N&&(r=t.mul(r,o)),o=t.sqr(o),n>>=N;return r}function Dr(t,e){const n=new Array(e.length),r=e.reduce((s,a,u)=>t.is0(a)?s:(n[u]=s,t.mul(s,a)),t.ONE),o=t.inv(r);return e.reduceRight((s,a,u)=>t.is0(a)?s:(n[u]=t.mul(s,n[u]),t.mul(s,a)),o),n}function me(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _e(t,e,n=!1,r={}){if(t<=M)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:s}=me(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:s,MASK:er(o),ZERO:M,ONE:N,create:i=>H(i,t),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return M<=i&&i<t},is0:i=>i===M,isOdd:i=>(i&N)===N,neg:i=>H(-i,t),eql:(i,D)=>i===D,sqr:i=>H(i*i,t),add:(i,D)=>H(i+D,t),sub:(i,D)=>H(i-D,t),mul:(i,D)=>H(i*D,t),pow:(i,D)=>fr(u,i,D),div:(i,D)=>H(i*Ae(D,t),t),sqrN:i=>i*i,addN:(i,D)=>i+D,subN:(i,D)=>i-D,mulN:(i,D)=>i*D,inv:i=>Ae(i,t),sqrt:r.sqrt||(i=>(a||(a=ir(t)),a(u,i))),invertBatch:i=>Dr(u,i),cmov:(i,D,c)=>c?D:i,toBytes:i=>n?Nt(i,s):ge(i,s),fromBytes:i=>{if(i.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+i.length);return n?Et(i):Pn(i)}});return Object.freeze(u)}const Se=BigInt(0),gt=BigInt(1);function zt(t,e){const n=e.negate();return t?n:e}function ve(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Mt(t,e){ve(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function dr(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function hr(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const qt=new WeakMap,Ie=new WeakMap;function $t(t){return Ie.get(t)||1}function lr(t,e){return{constTimeNegate:zt,hasPrecomputes(n){return $t(n)!==1},unsafeLadder(n,r,o=t.ZERO){let s=n;for(;r>Se;)r&gt&&(o=o.add(s)),s=s.double(),r>>=gt;return o},precomputeWindow(n,r){const{windows:o,windowSize:s}=Mt(r,e),a=[];let u=n,i=u;for(let D=0;D<o;D++){i=u,a.push(i);for(let c=1;c<s;c++)i=i.add(u),a.push(i);u=i.double()}return a},wNAF(n,r,o){const{windows:s,windowSize:a}=Mt(n,e);let u=t.ZERO,i=t.BASE;const D=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let p=0;p<s;p++){const w=p*a;let h=Number(o&D);o>>=l,h>a&&(h-=c,o+=gt);const g=w,S=w+Math.abs(h)-1,v=p%2!==0,L=h<0;h===0?i=i.add(zt(v,r[g])):u=u.add(zt(L,r[S]))}return{p:u,f:i}},wNAFUnsafe(n,r,o,s=t.ZERO){const{windows:a,windowSize:u}=Mt(n,e),i=BigInt(2**n-1),D=2**n,c=BigInt(n);for(let l=0;l<a;l++){const p=l*u;if(o===Se)break;let w=Number(o&i);if(o>>=c,w>u&&(w-=D,o+=gt),w===0)continue;let h=r[p+Math.abs(w)-1];w<0&&(h=h.negate()),s=s.add(h)}return s},getPrecomputes(n,r,o){let s=qt.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qt.set(r,o(s))),s},wNAFCached(n,r,o){const s=$t(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){const a=$t(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,s)},setWindowSize(n,r){ve(r,e),Ie.set(n,r),qt.delete(n)}}}function br(t,e,n,r){if(dr(n,t),hr(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,s=tr(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,u=(1<<a)-1,i=new Array(u+1).fill(o),D=Math.floor((e.BITS-1)/a)*a;let c=o;for(let l=D;l>=0;l-=a){i.fill(o);for(let w=0;w<r.length;w++){const h=r[w],g=Number(h>>BigInt(l)&BigInt(u));i[g]=i[g].add(n[w])}let p=o;for(let w=i.length-1,h=o;w>0;w--)h=h.add(i[w]),p=p.add(h);if(c=c.add(p),l!==0)for(let w=0;w<a;w++)c=c.double()}return c}function pr(t){return ar(t.Fp),Ot(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const G=BigInt(0),j=BigInt(1),yt=BigInt(2),wr=BigInt(8),Er={zip215:!0};function gr(t){const e=pr(t);return Ot(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function yr(t){const e=gr(t),{Fp:n,n:r,prehash:o,hash:s,randomBytes:a,nByteLength:u,h:i}=e,D=yt<<BigInt(u*8)-j,c=n.create,l=_e(e.n,e.nBitLength),p=e.uvRatio||((y,f)=>{try{return{isValid:!0,value:n.sqrt(y*n.inv(f))}}catch{return{isValid:!1,value:G}}}),w=e.adjustScalarBytes||(y=>y),h=e.domain||((y,f,b)=>{if(Tt("phflag",b),f.length||b)throw new Error("Contexts/pre-hash are not supported");return y});function g(y,f){ft("coordinate "+y,f,G,D)}function S(y){if(!(y instanceof d))throw new Error("ExtendedPoint expected")}const v=xe((y,f)=>{const{ex:b,ey:E,ez:B}=y,C=y.is0();f==null&&(f=C?wr:n.inv(B));const A=c(b*f),U=c(E*f),_=c(B*f);if(C)return{x:G,y:j};if(_!==j)throw new Error("invZ was invalid");return{x:A,y:U}}),L=xe(y=>{const{a:f,d:b}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:E,ey:B,ez:C,et:A}=y,U=c(E*E),_=c(B*B),T=c(C*C),$=c(T*T),R=c(U*f),V=c(T*c(R+_)),Y=c($+c(b*c(U*_)));if(V!==Y)throw new Error("bad point: equation left != right (1)");const Z=c(E*B),X=c(C*A);if(Z!==X)throw new Error("bad point: equation left != right (2)");return!0});class d{constructor(f,b,E,B){this.ex=f,this.ey=b,this.ez=E,this.et=B,g("x",f),g("y",b),g("z",E),g("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f){if(f instanceof d)throw new Error("extended point not allowed");const{x:b,y:E}=f||{};return g("x",b),g("y",E),new d(b,E,j,c(b*E))}static normalizeZ(f){const b=n.invertBatch(f.map(E=>E.ez));return f.map((E,B)=>E.toAffine(b[B])).map(d.fromAffine)}static msm(f,b){return br(d,l,f,b)}_setWindowSize(f){q.setWindowSize(this,f)}assertValidity(){L(this)}equals(f){S(f);const{ex:b,ey:E,ez:B}=this,{ex:C,ey:A,ez:U}=f,_=c(b*U),T=c(C*B),$=c(E*U),R=c(A*B);return _===T&&$===R}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:f}=e,{ex:b,ey:E,ez:B}=this,C=c(b*b),A=c(E*E),U=c(yt*c(B*B)),_=c(f*C),T=b+E,$=c(c(T*T)-C-A),R=_+A,V=R-U,Y=_-A,Z=c($*V),X=c(R*Y),et=c($*Y),pt=c(V*R);return new d(Z,X,pt,et)}add(f){S(f);const{a:b,d:E}=e,{ex:B,ey:C,ez:A,et:U}=this,{ex:_,ey:T,ez:$,et:R}=f;if(b===BigInt(-1)){const re=c((C-B)*(T+_)),oe=c((C+B)*(T-_)),mt=c(oe-re);if(mt===G)return this.double();const se=c(A*yt*R),ie=c(U*yt*$),ue=ie+se,ce=oe+re,ae=ie-se,Dn=c(ue*mt),dn=c(ce*ae),hn=c(ue*ae),ln=c(mt*ce);return new d(Dn,dn,ln,hn)}const V=c(B*_),Y=c(C*T),Z=c(U*E*R),X=c(A*$),et=c((B+C)*(_+T)-V-Y),pt=X-Z,ee=X+Z,ne=c(Y-b*V),un=c(et*pt),cn=c(ee*ne),an=c(et*ne),fn=c(pt*ee);return new d(un,cn,fn,an)}subtract(f){return this.add(f.negate())}wNAF(f){return q.wNAFCached(this,f,d.normalizeZ)}multiply(f){const b=f;ft("scalar",b,j,r);const{p:E,f:B}=this.wNAF(b);return d.normalizeZ([E,B])[0]}multiplyUnsafe(f,b=d.ZERO){const E=f;return ft("scalar",E,G,r),E===G?F:this.is0()||E===j?this:q.wNAFCachedUnsafe(this,E,d.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return q.unsafeLadder(this,r).is0()}toAffine(f){return v(this,f)}clearCofactor(){const{h:f}=e;return f===j?this:this.multiplyUnsafe(f)}static fromHex(f,b=!1){const{d:E,a:B}=e,C=n.BYTES;f=W("pointHex",f,C),Tt("zip215",b);const A=f.slice(),U=f[C-1];A[C-1]=U&-129;const _=Et(A),T=b?D:n.ORDER;ft("pointHex.y",_,G,T);const $=c(_*_),R=c($-j),V=c(E*$-B);let{isValid:Y,value:Z}=p(R,V);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const X=(Z&j)===j,et=(U&128)!==0;if(!b&&Z===G&&et)throw new Error("Point.fromHex: x=0 and x_0=1");return et!==X&&(Z=c(-Z)),d.fromAffine({x:Z,y:_})}static fromPrivateKey(f){return O(f).point}toRawBytes(){const{x:f,y:b}=this.toAffine(),E=Nt(b,n.BYTES);return E[E.length-1]|=f&j?128:0,E}toHex(){return Ft(this.toRawBytes())}}d.BASE=new d(e.Gx,e.Gy,j,c(e.Gx*e.Gy)),d.ZERO=new d(G,j,j,G);const{BASE:m,ZERO:F}=d,q=lr(d,u*8);function z(y){return H(y,r)}function I(y){return z(Et(y))}function O(y){const f=n.BYTES;y=W("private key",y,f);const b=W("hashed private key",s(y),2*f),E=w(b.slice(0,f)),B=b.slice(f,2*f),C=I(E),A=m.multiply(C),U=A.toRawBytes();return{head:E,prefix:B,scalar:C,point:A,pointBytes:U}}function ot(y){return O(y).pointBytes}function tt(y=new Uint8Array,...f){const b=ye(...f);return I(s(h(b,W("context",y),!!o)))}function st(y,f,b={}){y=W("message",y),o&&(y=o(y));const{prefix:E,scalar:B,pointBytes:C}=O(f),A=tt(b.context,E,y),U=m.multiply(A).toRawBytes(),_=tt(b.context,U,C,y),T=z(A+_*B);ft("signature.s",T,G,r);const $=ye(U,Nt(T,n.BYTES));return W("result",$,n.BYTES*2)}const at=Er;function Ct(y,f,b,E=at){const{context:B,zip215:C}=E,A=n.BYTES;y=W("signature",y,2*A),f=W("message",f),b=W("publicKey",b,A),C!==void 0&&Tt("zip215",C),o&&(f=o(f));const U=Et(y.slice(A,2*A));let _,T,$;try{_=d.fromHex(b,C),T=d.fromHex(y.slice(0,A),C),$=m.multiplyUnsafe(U)}catch{return!1}if(!C&&_.isSmallOrder())return!1;const R=tt(B,T.toRawBytes(),_.toRawBytes(),f);return T.add(_.multiplyUnsafe(R)).subtract($).clearCofactor().equals(d.ZERO)}return m._setWindowSize(8),{CURVE:e,getPublicKey:ot,sign:st,verify:Ct,ExtendedPoint:d,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute(y=8,f=d.BASE){return f._setWindowSize(y),f.multiply(BigInt(3)),f}}}}BigInt(0),BigInt(1);const index_es_kt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ue=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xr=BigInt(1),Te=BigInt(2);BigInt(3);const Br=BigInt(5),Cr=BigInt(8);function Ar(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=index_es_kt,u=t*t%s*t%s,i=J(u,Te,s)*u%s,D=J(i,xr,s)*t%s,c=J(D,Br,s)*D%s,l=J(c,e,s)*c%s,p=J(l,n,s)*l%s,w=J(p,r,s)*p%s,h=J(w,o,s)*w%s,g=J(h,o,s)*w%s,S=J(g,e,s)*c%s;return{pow_p_5_8:J(S,Te,s)*t%s,b2:u}}function mr(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _r(t,e){const n=index_es_kt,r=H(e*e*e,n),o=H(r*r*e,n),s=Ar(t*o).pow_p_5_8;let a=H(t*r*s,n);const u=H(e*a*a,n),i=a,D=H(a*Ue,n),c=u===t,l=u===H(-t,n),p=u===H(-t*Ue,n);return c&&(a=i),(l||p)&&(a=D),ur(a,n)&&(a=H(-a,n)),{isValid:c||l,value:a}}const Sr=(()=>_e(index_es_kt,void 0,!0))(),vr=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cr,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kn,randomBytes:he,adjustScalarBytes:mr,uvRatio:_r}))(),Rt=(()=>yr(vr))(),jt="EdDSA",Zt="JWT",ut=".",Dt="base64url",Gt="utf8",xt="utf8",Vt=":",Yt="did",Jt="key",dt="base58btc",Kt="z",Wt="K36",Fe=32,Ne=32;function Xt(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Le(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Oe(t,e){e||(e=t.reduce((o,s)=>o+s.length,0));const n=Le(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return Xt(n)}function Ir(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=o}var u=t.length,i=t.charAt(0),D=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var g=0,S=0,v=0,L=h.length;v!==L&&h[v]===0;)v++,g++;for(var d=(L-v)*c+1>>>0,m=new Uint8Array(d);v!==L;){for(var F=h[v],q=0,z=d-1;(F!==0||q<S)&&z!==-1;z--,q++)F+=256*m[z]>>>0,m[z]=F%u>>>0,F=F/u>>>0;if(F!==0)throw new Error("Non-zero carry");S=q,v++}for(var I=d-S;I!==d&&m[I]===0;)I++;for(var O=i.repeat(g);I<d;++I)O+=t.charAt(m[I]);return O}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==" "){for(var S=0,v=0;h[g]===i;)S++,g++;for(var L=(h.length-g)*D+1>>>0,d=new Uint8Array(L);h[g];){var m=n[h.charCodeAt(g)];if(m===255)return;for(var F=0,q=L-1;(m!==0||F<v)&&q!==-1;q--,F++)m+=u*d[q]>>>0,d[q]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");v=F,g++}if(h[g]!==" "){for(var z=L-v;z!==L&&d[z]===0;)z++;for(var I=new Uint8Array(S+(L-z)),O=S;z!==L;)I[O++]=d[z++];return I}}}function w(h){var g=p(h);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:p,decode:w}}var Ur=Ir,Tr=Ur;const He=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Fr=t=>new TextEncoder().encode(t),Nr=t=>new TextDecoder().decode(t);class Lr{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Or{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ze(this,e)}}class Hr{constructor(e){this.decoders=e}or(e){return ze(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ze=(t,e)=>new Hr({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class zr{constructor(e,n,r,o){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=o,this.encoder=new Lr(e,n,r),this.decoder=new Or(e,n,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bt=({name:t,prefix:e,encode:n,decode:r})=>new zr(t,e,n,r),ht=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:o}=Tr(n,e);return Bt({prefix:t,name:e,encode:r,decode:s=>He(o(s))})},Mr=(t,e,n,r)=>{const o={};for(let c=0;c<e.length;++c)o[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let u=0,i=0,D=0;for(let c=0;c<s;++c){const l=o[t[c]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);i=i<<n|l,u+=n,u>=8&&(u-=8,a[D++]=255&i>>u)}if(u>=n||255&i<<8-u)throw new SyntaxError("Unexpected end of data");return a},qr=(t,e,n)=>{const r=e[e.length-1]==="=",o=(1<<n)-1;let s="",a=0,u=0;for(let i=0;i<t.length;++i)for(u=u<<8|t[i],a+=8;a>n;)a-=n,s+=e[o&u>>a];if(a&&(s+=e[o&u<<n-a]),r)for(;s.length*n&7;)s+="=";return s},k=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bt({prefix:e,name:t,encode(o){return qr(o,r,n)},decode(o){return Mr(o,r,n,t)}}),$r=Bt({prefix:"\0",name:"identity",encode:t=>Nr(t),decode:t=>Fr(t)});var kr=Object.freeze({__proto__:null,identity:$r});const Rr=k({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jr=Object.freeze({__proto__:null,base2:Rr});const Zr=k({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gr=Object.freeze({__proto__:null,base8:Zr});const Vr=ht({prefix:"9",name:"base10",alphabet:"0123456789"});var Yr=Object.freeze({__proto__:null,base10:Vr});const Jr=k({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kr=k({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wr=Object.freeze({__proto__:null,base16:Jr,base16upper:Kr});const Xr=k({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr=k({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qr=k({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),to=k({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eo=k({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),no=k({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ro=k({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oo=k({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),so=k({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var io=Object.freeze({__proto__:null,base32:Xr,base32upper:Pr,base32pad:Qr,base32padupper:to,base32hex:eo,base32hexupper:no,base32hexpad:ro,base32hexpadupper:oo,base32z:so});const uo=ht({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),co=ht({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ao=Object.freeze({__proto__:null,base36:uo,base36upper:co});const fo=ht({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Do=ht({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ho=Object.freeze({__proto__:null,base58btc:fo,base58flickr:Do});const lo=k({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bo=k({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),po=k({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wo=k({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eo=Object.freeze({__proto__:null,base64:lo,base64pad:bo,base64url:po,base64urlpad:wo});const Me=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),go=Me.reduce((t,e,n)=>(t[n]=e,t),[]),yo=Me.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xo(t){return t.reduce((e,n)=>(e+=go[n],e),"")}function Bo(t){const e=[];for(const n of t){const r=yo[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Co=Bt({prefix:"\u{1F680}",name:"base256emoji",encode:xo,decode:Bo});var Ao=Object.freeze({__proto__:null,base256emoji:Co}),mo=$e,qe=128,_o=127,So=~_o,vo=Math.pow(2,31);function $e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vo;)e[n++]=t&255|qe,t/=128;for(;t&So;)e[n++]=t&255|qe,t>>>=7;return e[n]=t|0,$e.bytes=n-r+1,e}var Io=Pt,Uo=128,ke=127;function Pt(t,r){var n=0,r=r||0,o=0,s=r,a,u=t.length;do{if(s>=u)throw Pt.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=o<28?(a&ke)<<o:(a&ke)*Math.pow(2,o),o+=7}while(a>=Uo);return Pt.bytes=s-r,n}var To=Math.pow(2,7),Fo=Math.pow(2,14),No=Math.pow(2,21),Lo=Math.pow(2,28),Oo=Math.pow(2,35),Ho=Math.pow(2,42),zo=Math.pow(2,49),Mo=Math.pow(2,56),qo=Math.pow(2,63),$o=function(t){return t<To?1:t<Fo?2:t<No?3:t<Lo?4:t<Oo?5:t<Ho?6:t<zo?7:t<Mo?8:t<qo?9:10},ko={encode:mo,decode:Io,encodingLength:$o},Re=ko;const je=(t,e,n=0)=>(Re.encode(t,e,n),e),Ze=t=>Re.encodingLength(t),Qt=(t,e)=>{const n=e.byteLength,r=Ze(t),o=r+Ze(n),s=new Uint8Array(o+n);return je(t,s,0),je(n,s,r),s.set(e,o),new Ro(t,n,e,s)};class Ro{constructor(e,n,r,o){this.code=e,this.size=n,this.digest=r,this.bytes=o}}const Ge=({name:t,code:e,encode:n})=>new jo(t,e,n);class jo{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Qt(this.code,n):n.then(r=>Qt(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Ve=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zo=Ge({name:"sha2-256",code:18,encode:Ve("SHA-256")}),Go=Ge({name:"sha2-512",code:19,encode:Ve("SHA-512")});var Vo=Object.freeze({__proto__:null,sha256:Zo,sha512:Go});const Ye=0,Yo="identity",Je=He,Jo=t=>Qt(Ye,Je(t)),Ko={code:Ye,name:Yo,encode:Je,digest:Jo};var Wo=Object.freeze({__proto__:null,identity:Ko});new TextEncoder,new TextDecoder;const Ke={...kr,...jr,...Gr,...Yr,...Wr,...io,...ao,...ho,...Eo,...Ao};({...Vo,...Wo});function We(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Xe=We("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),index_es_te=We("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Le(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Pe={utf8:Xe,"utf-8":Xe,hex:Ke.base16,latin1:index_es_te,ascii:index_es_te,binary:index_es_te,...Ke};function ct(t,e="utf8"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function rt(t,e="utf8"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function lt(t){return safeJsonParse(ct(rt(t,Dt),Gt))}function bt(t){return ct(rt(safeJsonStringify(t),Gt),Dt)}function Qe(t){const e=rt(Wt,dt),n=Kt+ct(Oe([e,t]),dt);return[Yt,Jt,n].join(Vt)}function tn(t){const[e,n,r]=t.split(Vt);if(e!==Yt||n!==Jt)throw new Error('Issuer must be a DID with method "key"');if(r.slice(0,1)!==Kt)throw new Error("Issuer must be a key in mulicodec format");const o=rt(r.slice(1),dt);if(ct(o.slice(0,2),dt)!==Wt)throw new Error('Issuer must be a public key with type "Ed25519"');const s=o.slice(2);if(s.length!==Fe)throw new Error("Issuer must be a public key with length 32 bytes");return s}function en(t){return ct(t,Dt)}function nn(t){return rt(t,Dt)}function rn(t){return rt([bt(t.header),bt(t.payload)].join(ut),xt)}function Xo(t){const e=ct(t,xt).split(ut),n=lt(e[0]),r=lt(e[1]);return{header:n,payload:r}}function on(t){return[bt(t.header),bt(t.payload),en(t.signature)].join(ut)}function sn(t){const e=t.split(ut),n=lt(e[0]),r=lt(e[1]),o=nn(e[2]),s=rt(e.slice(0,2).join(ut),xt);return{header:n,payload:r,signature:o,data:s}}function Po(t=he(Ne)){const e=Rt.getPublicKey(t);return{secretKey:Oe([t,e]),publicKey:e}}async function Qo(t,e,n,r,o=(0,cjs.fromMiliseconds)(Date.now())){const s={alg:jt,typ:Zt},a=Qe(r.publicKey),u=o+n,i={iss:a,sub:t,aud:e,iat:o,exp:u},D=rn({header:s,payload:i}),c=Rt.sign(D,r.secretKey.slice(0,32));return on({header:s,payload:i,signature:c})}async function ts(t){const{header:e,payload:n,data:r,signature:o}=sn(t);if(e.alg!==jt||e.typ!==Zt)throw new Error("JWT must use EdDSA algorithm");const s=tn(n.iss);return Rt.verify(o,r,s)}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/uint8arrays/esm/src/alloc.js
function alloc(size = 0) {
  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {
    return globalThis.Buffer.alloc(size);
  }
  return new Uint8Array(size);
}
function allocUnsafe(size = 0) {
  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {
    return globalThis.Buffer.allocUnsafe(size);
  }
  return new Uint8Array(size);
}
;// ./node_modules/uint8arrays/esm/src/concat.js

function concat(arrays, length) {
  if (!length) {
    length = arrays.reduce((acc, curr) => acc + curr.length, 0);
  }
  const output = allocUnsafe(length);
  let offset = 0;
  for (const arr of arrays) {
    output.set(arr, offset);
    offset += arr.length;
  }
  return output;
}
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/bases/base.js + 1 modules
var bases_base = __webpack_require__(552071);
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/bytes.js
var bytes = __webpack_require__(192081);
;// ./node_modules/multiformats/esm/src/bases/identity.js


const identity = (0,bases_base/* from */.HT)({
  prefix: '\0',
  name: 'identity',
  encode: buf => (0,bytes/* toString */.dI)(buf),
  decode: str => (0,bytes/* fromString */.sH)(str)
});
;// ./node_modules/multiformats/esm/src/bases/base2.js

const base2 = (0,bases_base/* rfc4648 */.yE)({
  prefix: '0',
  name: 'base2',
  alphabet: '01',
  bitsPerChar: 1
});
;// ./node_modules/multiformats/esm/src/bases/base8.js

const base8 = (0,bases_base/* rfc4648 */.yE)({
  prefix: '7',
  name: 'base8',
  alphabet: '01234567',
  bitsPerChar: 3
});
;// ./node_modules/multiformats/esm/src/bases/base10.js

const base10 = (0,bases_base/* baseX */._Q)({
  prefix: '9',
  name: 'base10',
  alphabet: '0123456789'
});
;// ./node_modules/multiformats/esm/src/bases/base16.js

const base16 = (0,bases_base/* rfc4648 */.yE)({
  prefix: 'f',
  name: 'base16',
  alphabet: '0123456789abcdef',
  bitsPerChar: 4
});
const base16upper = (0,bases_base/* rfc4648 */.yE)({
  prefix: 'F',
  name: 'base16upper',
  alphabet: '0123456789ABCDEF',
  bitsPerChar: 4
});
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/bases/base32.js
var base32 = __webpack_require__(633431);
;// ./node_modules/multiformats/esm/src/bases/base36.js

const base36 = (0,bases_base/* baseX */._Q)({
  prefix: 'k',
  name: 'base36',
  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'
});
const base36upper = (0,bases_base/* baseX */._Q)({
  prefix: 'K',
  name: 'base36upper',
  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'
});
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/bases/base58.js
var base58 = __webpack_require__(852807);
;// ./node_modules/multiformats/esm/src/bases/base64.js

const base64 = (0,bases_base/* rfc4648 */.yE)({
  prefix: 'm',
  name: 'base64',
  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
  bitsPerChar: 6
});
const base64pad = (0,bases_base/* rfc4648 */.yE)({
  prefix: 'M',
  name: 'base64pad',
  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',
  bitsPerChar: 6
});
const base64url = (0,bases_base/* rfc4648 */.yE)({
  prefix: 'u',
  name: 'base64url',
  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',
  bitsPerChar: 6
});
const base64urlpad = (0,bases_base/* rfc4648 */.yE)({
  prefix: 'U',
  name: 'base64urlpad',
  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',
  bitsPerChar: 6
});
;// ./node_modules/multiformats/esm/src/bases/base256emoji.js

const alphabet = Array.from('\uD83D\uDE80\uD83E\uDE90\u2604\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\u2600\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\u2764\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\u263A\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\u270C\u2728\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\u2763\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\u270B\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\u2B50\u2705\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\u2714\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\u2639\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\u261D\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\u26BD\uD83E\uDD19\u2615\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\u26A1\uD83C\uDF1E\uD83C\uDF88\u274C\u270A\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\u2708\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\u25B6\u27A1\u2753\uD83D\uDC8E\uD83D\uDCB8\u2B07\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\u26A0\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\u260E\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\u2744\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42');
const alphabetBytesToChars = alphabet.reduce((p, c, i) => {
  p[i] = c;
  return p;
}, []);
const alphabetCharsToBytes = alphabet.reduce((p, c, i) => {
  p[c.codePointAt(0)] = i;
  return p;
}, []);
function encode(data) {
  return data.reduce((p, c) => {
    p += alphabetBytesToChars[c];
    return p;
  }, '');
}
function decode(str) {
  const byts = [];
  for (const char of str) {
    const byt = alphabetCharsToBytes[char.codePointAt(0)];
    if (byt === undefined) {
      throw new Error(`Non-base256emoji character: ${ char }`);
    }
    byts.push(byt);
  }
  return new Uint8Array(byts);
}
const base256emoji = (0,bases_base/* from */.HT)({
  prefix: '\uD83D\uDE80',
  name: 'base256emoji',
  encode,
  decode
});
// EXTERNAL MODULE: external "crypto"
var external_crypto_ = __webpack_require__(776982);
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/hashes/digest.js
var hashes_digest = __webpack_require__(814403);
;// ./node_modules/multiformats/esm/src/hashes/hasher.js

const from = ({name, code, encode}) => new Hasher(name, code, encode);
class Hasher {
  constructor(name, code, encode) {
    this.name = name;
    this.code = code;
    this.encode = encode;
  }
  digest(input) {
    if (input instanceof Uint8Array) {
      const result = this.encode(input);
      return result instanceof Uint8Array ? hashes_digest/* create */.vt(this.code, result) : result.then(digest => hashes_digest/* create */.vt(this.code, digest));
    } else {
      throw Error('Unknown type, must be binary type');
    }
  }
}
;// ./node_modules/multiformats/esm/src/hashes/sha2.js



const sha256 = from({
  name: 'sha2-256',
  code: 18,
  encode: input => (0,bytes/* coerce */.au)(external_crypto_.createHash('sha256').update(input).digest())
});
const sha512 = from({
  name: 'sha2-512',
  code: 19,
  encode: input => (0,bytes/* coerce */.au)(external_crypto_.createHash('sha512').update(input).digest())
});
;// ./node_modules/multiformats/esm/src/hashes/identity.js


const code = 0;
const identity_name = 'identity';
const identity_encode = bytes/* coerce */.au;
const digest = input => hashes_digest/* create */.vt(code, identity_encode(input));
const identity_identity = {
  code,
  name: identity_name,
  encode: identity_encode,
  digest
};
;// ./node_modules/multiformats/esm/src/codecs/raw.js

const raw_name = 'raw';
const raw_code = 85;
const raw_encode = node => (0,bytes/* coerce */.au)(node);
const raw_decode = data => (0,bytes/* coerce */.au)(data);
;// ./node_modules/multiformats/esm/src/codecs/json.js
const textEncoder = new TextEncoder();
const textDecoder = new TextDecoder();
const json_name = 'json';
const json_code = 512;
const json_encode = node => textEncoder.encode(JSON.stringify(node));
const json_decode = data => JSON.parse(textDecoder.decode(data));
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/cid.js
var cid = __webpack_require__(754070);
// EXTERNAL MODULE: ./node_modules/multiformats/esm/src/varint.js + 1 modules
var varint = __webpack_require__(674973);
;// ./node_modules/multiformats/esm/src/index.js






;// ./node_modules/multiformats/esm/src/basics.js















const bases = {
  ...identity_namespaceObject,
  ...base2_namespaceObject,
  ...base8_namespaceObject,
  ...base10_namespaceObject,
  ...base16_namespaceObject,
  ...base32,
  ...base36_namespaceObject,
  ...base58,
  ...base64_namespaceObject,
  ...base256emoji_namespaceObject
};
const hashes = {
  ...sha2_namespaceObject,
  ...hashes_identity_namespaceObject
};
const codecs = {
  raw: raw_namespaceObject,
  json: json_namespaceObject
};

;// ./node_modules/uint8arrays/esm/src/util/bases.js


function createCodec(name, prefix, encode, decode) {
  return {
    name,
    prefix,
    encoder: {
      name,
      prefix,
      encode
    },
    decoder: { decode }
  };
}
const string = createCodec('utf8', 'u', buf => {
  const decoder = new TextDecoder('utf8');
  return 'u' + decoder.decode(buf);
}, str => {
  const encoder = new TextEncoder();
  return encoder.encode(str.substring(1));
});
const ascii = createCodec('ascii', 'a', buf => {
  let string = 'a';
  for (let i = 0; i < buf.length; i++) {
    string += String.fromCharCode(buf[i]);
  }
  return string;
}, str => {
  str = str.substring(1);
  const buf = allocUnsafe(str.length);
  for (let i = 0; i < str.length; i++) {
    buf[i] = str.charCodeAt(i);
  }
  return buf;
});
const BASES = {
  utf8: string,
  'utf-8': string,
  hex: bases.base16,
  latin1: ascii,
  ascii: ascii,
  binary: ascii,
  ...bases
};
/* harmony default export */ const util_bases = (BASES);
;// ./node_modules/uint8arrays/esm/src/from-string.js

function fromString(string, encoding = 'utf8') {
  const base = util_bases[encoding];
  if (!base) {
    throw new Error(`Unsupported encoding "${ encoding }"`);
  }
  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {
    return globalThis.Buffer.from(string, 'utf8');
  }
  return base.decoder.decode(`${ base.prefix }${ string }`);
}
;// ./node_modules/uint8arrays/esm/src/to-string.js

function to_string_toString(array, encoding = 'utf8') {
  const base = util_bases[encoding];
  if (!base) {
    throw new Error(`Unsupported encoding "${ encoding }"`);
  }
  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {
    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');
  }
  return base.encoder.encode(array).substring(1);
}
;// ./node_modules/uint8arrays/esm/src/index.js







;// ./node_modules/@walletconnect/relay-api/dist/index.es.js
function e(s,r,i="string"){if(!s[r]||typeof s[r]!==i)throw new Error(`Missing or invalid "${r}" param`)}function l(s,r){let i=!0;return r.forEach(t=>{t in s||(i=!1)}),i}function f(s,r){return Array.isArray(s)?s.length===r:Object.keys(s).length===r}function w(s,r){return Array.isArray(s)?s.length>=r:Object.keys(s).length>=r}function u(s,r,i){return(i.length?w(s,r.length):f(s,r.length))?l(s,r):!1}function n(s,r,i="_"){const t=s.split(i);return t[t.length-1].trim().toLowerCase()===r.trim().toLowerCase()}function R(s){return b(s.method)&&a(s.params)}function b(s){return n(s,"subscribe")}function a(s){return u(s,["topic"],[])}function index_es_P(s){return c(s.method)&&h(s.params)}function c(s){return n(s,"publish")}function h(s){return u(s,["message","topic","ttl"],["prompt","tag"])}function _(s){return o(s.method)&&p(s.params)}function o(s){return n(s,"unsubscribe")}function p(s){return u(s,["id","topic"],[])}function S(s){return m(s.method)&&d(s.params)}function m(s){return n(s,"subscription")}function d(s){return u(s,["id","data"],[])}function g(s){if(!b(s.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!a(s.params))throw new Error("JSON-RPC Request has invalid subscribe params");const r=s.params;return e(r,"topic"),r}function q(s){if(!c(s.method))throw new Error("JSON-RPC Request has invalid publish method");if(!h(s.params))throw new Error("JSON-RPC Request has invalid publish params");const r=s.params;return e(r,"topic"),e(r,"message"),e(r,"ttl","number"),r}function E(s){if(!o(s.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!p(s.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");const r=s.params;return e(r,"id"),r}function index_es_k(s){if(!m(s.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!d(s.params))throw new Error("JSON-RPC Request has invalid subscription params");const r=s.params;return e(r,"id"),e(r,"data"),r}const C={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/utils/dist/index.es.js
const se=":";function index_es_Ie(t){const[e,n]=t.split(se);return{namespace:e,reference:n}}function index_es_An(t){const{namespace:e,reference:n}=t;return[e,n].join(se)}function index_es_Ne(t){const[e,n,r]=t.split(se);return{namespace:e,reference:n,address:r}}function index_es_Bn(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(se)}function index_es_Ue(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function index_es_In(t){const{address:e}=index_es_Ne(t);return e}function index_es_Nn(t){const{namespace:e,reference:n}=index_es_Ne(t);return index_es_An({namespace:e,reference:n})}function index_es_Ho(t,e){const{namespace:n,reference:r}=index_es_Ie(e);return index_es_Bn({namespace:n,reference:r,address:t})}function index_es_qo(t){return index_es_Ue(t,index_es_In)}function index_es_Un(t){return index_es_Ue(t,index_es_Nn)}function index_es_Ko(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function index_es_Fo(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...index_es_Un(o.accounts))}),n}function index_es_zo(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...ce(r,o))}),n}function ce(t,e){return t.includes(":")?[t]:e.chains||[]}var index_es_Zo=Object.defineProperty,index_es_Yo=Object.defineProperties,index_es_Go=Object.getOwnPropertyDescriptors,index_es_Tn=Object.getOwnPropertySymbols,index_es_Wo=Object.prototype.hasOwnProperty,index_es_Xo=Object.prototype.propertyIsEnumerable,index_es_Rn=(t,e,n)=>e in t?index_es_Zo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,index_es_n=(t,e)=>{for(var n in e||(e={}))index_es_Wo.call(e,n)&&index_es_Rn(t,n,e[n]);if(index_es_Tn)for(var n of index_es_Tn(e))index_es_Xo.call(e,n)&&index_es_Rn(t,n,e[n]);return t},index_es_Jo=(t,e)=>index_es_Yo(t,index_es_Go(e));const index_es_$n="ReactNative",Y={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ae=" ",index_es_Qo=":",index_es_Ln="/",index_es_Te=2,ti=1e3,index_es_jn="js";function index_es_Re(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function pt(){return!(0,dist_cjs.getDocument)()&&!!(0,dist_cjs.getNavigator)()&&navigator.product===index_es_$n}function ei(){return pt()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function ni(){return pt()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function index_es_Yt(){return!index_es_Re()&&!!(0,dist_cjs.getNavigator)()&&!!(0,dist_cjs.getDocument)()}function index_es_xt(){return pt()?Y.reactNative:index_es_Re()?Y.node:index_es_Yt()?Y.browser:Y.unknown}function ri(){var t;try{return pt()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function index_es_Cn(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const o=e[r];o!==void 0&&n.set(r,o)}return n.toString()}function oi(t){var e,n;const r=index_es_Pn();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!=="")),index_es_Jo(index_es_n(index_es_n({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn("Error populating app metadata",o),t||r}}function index_es_Pn(){return (0,window_metadata_dist_cjs/* getWindowMetadata */.g)()||{name:"",description:"",url:"",icons:[""]}}function ii(t,e){var n;const r=index_es_xt(),o={protocol:t,version:e,env:r};return r==="browser"&&(o.host=((n=On())==null?void 0:n.host)||"unknown"),o}function index_es_kn(){if(index_es_xt()===Y.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=detect();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function index_es_Vn(){var t;const e=index_es_xt();return e===Y.browser?[e,((t=(0,dist_cjs.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function index_es_Mn(t,e,n){const r=index_es_kn(),o=index_es_Vn();return[[t,e].join("-"),[index_es_jn,n].join("-"),r,o].join("/")}function si({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:i,useOnCloseEvent:s,bundleId:c,packageName:a}){const u=n.split("?"),l=index_es_Mn(t,e,r),f={auth:o,ua:l,projectId:i,useOnCloseEvent:s||void 0,packageName:a||void 0,bundleId:c||void 0},h=index_es_Cn(u[1]||"",f);return u[0]+"?"+h}function ci(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const n=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,n].join("://")}function ai(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid "${e}" param`)}function Dn(t,e=index_es_Te){return index_es_Hn(t.split(index_es_Ln),e)}function ui(t){return Dn(t).join(ae)}function index_es_gt(t,e){return t.filter(n=>e.includes(n)).length===t.length}function index_es_Hn(t,e=index_es_Te){return t.slice(Math.max(t.length-e,0))}function fi(t){return Object.fromEntries(t.entries())}function li(t){return new Map(Object.entries(t))}function di(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const hi=t=>t;function index_es_qn(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function pi(t){return t.split(ae).map(e=>index_es_qn(e)).join(ae)}function gi(t=cjs.FIVE_MINUTES,e){const n=(0,cjs.toMiliseconds)(t||cjs.FIVE_MINUTES);let r,o,i,s;return{resolve:c=>{i&&r&&(clearTimeout(i),r(c),s=Promise.resolve(c))},reject:c=>{i&&o&&(clearTimeout(i),o(c))},done:()=>new Promise((c,a)=>{if(s)return c(s);i=setTimeout(()=>{const u=new Error(e);s=Promise.reject(u),a(u)},n),r=c,o=a})}}function yi(t,e,n){return new Promise(async(r,o)=>{const i=setTimeout(()=>o(new Error(n)),e);try{const s=await t;r(s)}catch(s){o(s)}clearTimeout(i)})}function index_es_e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function mi(t){return index_es_e("topic",t)}function wi(t){return index_es_e("id",t)}function bi(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ei(t,e){return (0,cjs.fromMiliseconds)((e||Date.now())+(0,cjs.toMiliseconds)(t))}function vi(t){return Date.now()>=(0,cjs.toMiliseconds)(t)}function xi(t,e){return`${t}${e?`:${e}`:""}`}function at(t=[],e=[]){return[...new Set([...t,...e])]}async function Si({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n=="string"?JSON.parse(n):n,i=o?.href;if(typeof i!="string")return;const s=index_es_Kn(i,t,e),c=index_es_xt();if(c===Y.browser){if(!((r=(0,dist_cjs.getDocument)())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}index_es_Fn(s)}else c===Y.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(o){console.error(o)}}function index_es_Kn(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";o=`${o}${i}${index_es_Yn(r,!0)}`}else o=`${o}/wc?${r}`;return o}function index_es_Fn(t){let e="_self";index_es_Zn()?e="_top":(index_es_zn()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Oi(t,e){let n="";try{if(index_es_Yt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function index_es_$e(t,e){return t.filter(n=>e.includes(n))}function Ai(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function index_es_Bi(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Ii(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function index_es_zn(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function index_es_Zn(){try{return window.self!==window.top}catch{return!1}}function index_es_Yn(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function index_es_Le(t){return Buffer.from(t,"base64").toString("utf-8")}function Ni(t){return new Promise(e=>setTimeout(e,t))}function index_es_Gt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ui(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function index_es_Wt(t,...e){if(!Ui(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function index_es_je(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");index_es_Gt(t.outputLen),index_es_Gt(t.blockLen)}function index_es_Tt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function index_es_Gn(t,e){index_es_Wt(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ue=BigInt(2**32-1),index_es_Wn=BigInt(32);function Ti(t,e=!1){return e?{h:Number(t&ue),l:Number(t>>index_es_Wn&ue)}:{h:Number(t>>index_es_Wn&ue)|0,l:Number(t&ue)|0}}function Ri(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=Ti(t[o],e);[n[o],r[o]]=[i,s]}return[n,r]}const _i=(t,e,n)=>t<<n|e>>>32-n,$i=(t,e,n)=>e<<n|t>>>32-n,Li=(t,e,n)=>e<<n-32|t>>>64-n,ji=(t,e,n)=>t<<n-32|e>>>64-n,index_es_Rt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ci(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function dist_index_es_Ce(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function st(t,e){return t<<32-e|t>>>e}const index_es_Xn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pi(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function index_es_Jn(t){for(let e=0;e<t.length;e++)t[e]=Pi(t[e])}function ki(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function index_es_t(t){return typeof t=="string"&&(t=ki(t)),index_es_Wt(t),t}function Vi(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];index_es_Wt(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class index_es_Pe{clone(){return this._cloneInto()}}function index_es_Qn(t){const e=r=>t().update(index_es_t(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function index_es_$t(t=32){if(index_es_Rt&&typeof index_es_Rt.getRandomValues=="function")return index_es_Rt.getRandomValues(new Uint8Array(t));if(index_es_Rt&&typeof index_es_Rt.randomBytes=="function")return index_es_Rt.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const index_es_tr=[],index_es_er=[],index_es_nr=[],Mi=BigInt(0),index_es_Xt=BigInt(1),Di=BigInt(2),Hi=BigInt(7),qi=BigInt(256),Ki=BigInt(113);for(let t=0,e=index_es_Xt,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],index_es_tr.push(2*(5*r+n)),index_es_er.push((t+1)*(t+2)/2%64);let o=Mi;for(let i=0;i<7;i++)e=(e<<index_es_Xt^(e>>Hi)*Ki)%qi,e&Di&&(o^=index_es_Xt<<(index_es_Xt<<BigInt(i))-index_es_Xt);index_es_nr.push(o)}const[Fi,zi]=Ri(index_es_nr,!0),index_es_rr=(t,e,n)=>n>32?Li(t,e,n):_i(t,e,n),index_es_or=(t,e,n)=>n>32?ji(t,e,n):$i(t,e,n);function Zi(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const c=(s+8)%10,a=(s+2)%10,u=n[a],l=n[a+1],f=index_es_rr(u,l,1)^n[c],h=index_es_or(u,l,1)^n[c+1];for(let y=0;y<50;y+=10)t[s+y]^=f,t[s+y+1]^=h}let o=t[2],i=t[3];for(let s=0;s<24;s++){const c=index_es_er[s],a=index_es_rr(o,i,c),u=index_es_or(o,i,c),l=index_es_tr[s];o=t[l],i=t[l+1],t[l]=a,t[l+1]=u}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)n[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Fi[r],t[1]^=zi[r]}n.fill(0)}class index_es_En extends index_es_Pe{constructor(e,n,r,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,index_es_Gt(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ci(this.state)}keccak(){index_es_Xn||index_es_Jn(this.state32),Zi(this.state32,this.rounds),index_es_Xn||index_es_Jn(this.state32),this.posOut=0,this.pos=0}update(e){index_es_Tt(this);const{blockLen:n,state:r}=this;e=index_es_t(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let c=0;c<s;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){index_es_Tt(this,!1),index_es_Wt(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return index_es_Gt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(index_es_Gn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new index_es_En(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Yi=(t,e,n)=>index_es_Qn(()=>new index_es_En(e,t,n)),Gi=Yi(1,136,256/8),Wi="https://rpc.walletconnect.org/v1";function index_es_ke(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Gi(n)).toString("hex")}async function index_es_ir(t,e,n,r,o,i){switch(n.t){case"eip191":return await index_es_sr(t,e,n.s);case"eip1271":return await index_es_cr(t,e,n.s,r,o,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function index_es_sr(t,e,n){return(await recoverAddress({hash:index_es_ke(e),signature:n})).toLowerCase()===t.toLowerCase()}async function index_es_cr(t,e,n,r,o,i){const s=index_es_Ie(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=n.substring(2),f=index_es_ke(e).substring(2),h=c+f+a+u+l,y=await fetch(`${i||Wi}/?chainId=${r}&projectId=${o}`,{method:"POST",body:JSON.stringify({id:Xi(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:E}=await y.json();return E?E.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function Xi(){return Date.now()+Math.floor(Math.random()*1e3)}function Ji(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const r=n[0];if(r===0)throw new Error("No signatures found");const o=1+r*64;if(n.length<o)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return src_esm.encode(i)}var Qi=Object.defineProperty,index_es_ts=Object.defineProperties,es=Object.getOwnPropertyDescriptors,index_es_ar=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,index_es_ur=(t,e,n)=>e in t?Qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,index_es_Ve=(t,e)=>{for(var n in e||(e={}))ns.call(e,n)&&index_es_ur(t,n,e[n]);if(index_es_ar)for(var n of index_es_ar(e))rs.call(e,n)&&index_es_ur(t,n,e[n]);return t},index_es_fr=(t,e)=>index_es_ts(t,es(e));const os="did:pkh:",index_es_fe=t=>t?.split(":"),index_es_lr=t=>{const e=t&&index_es_fe(t);if(e)return t.includes(os)?e[3]:e[1]},index_es_dr=t=>{const e=t&&index_es_fe(t);if(e)return e[2]+":"+e[3]},index_es_Me=t=>{const e=t&&index_es_fe(t);if(e)return e.pop()};async function is(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,i=index_es_hr(o,o.iss),s=index_es_Me(o.iss);return await index_es_ir(s,i,r,index_es_dr(o.iss),n)}const index_es_hr=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=index_es_Me(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let o=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,c=`Chain ID: ${index_es_lr(e)}`,a=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(p=>`
- ${p}`).join("")}`:void 0,E=index_es_de(t.resources);if(E){const p=index_es_yt(E);o=index_es_qe(o,p)}return[n,r,"",o,"",i,s,c,a,u,l,f,h,y].filter(p=>p!=null).join(`
`)};function ss(t,e,n){return n.includes("did:pkh:")||(n=`did:pkh:${n}`),{h:{t:"caip122"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function cs(t){var e;const{authPayload:n,chains:r,methods:o}=t,i=n.statement||"";if(!(r!=null&&r.length))return n;const s=n.chains,c=index_es_$e(s,r);if(!(c!=null&&c.length))throw new Error("No supported chains");const a=index_es_pr(n.resources);if(!a)return n;index_es_ct(a);const u=index_es_gr(a,"eip155");let l=n?.resources||[];if(u!=null&&u.length){const f=index_es_yr(u),h=index_es_$e(f,o);if(!(h!=null&&h.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(f)}, supported: ${JSON.stringify(o)}`);const y=index_es_De("request",h,{chains:c}),E=index_es_Er(a,"eip155",y);l=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],l.push(index_es_le(E))}return index_es_fr(index_es_Ve({},n),{statement:index_es_xr(i,index_es_de(l)),chains:c,resources:n!=null&&n.resources||l.length>0?l:void 0})}function index_es_pr(t){const e=index_es_de(t);if(e&&index_es_He(e))return index_es_yt(e)}function as(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function index_es_gr(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function us(t){return t?.map(e=>Object.keys(e))||[]}function index_es_yr(t){return t?.map(e=>{var n;return(n=e.split("/"))==null?void 0:n[1]})||[]}function index_es_mr(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function index_es_wr(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function index_es_ct(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const i=r[o];if(!Array.isArray(i))throw new Error(`Ability limits ${o} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);i.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${s}`)})})})}function index_es_br(t,e,n,r={}){return n?.sort((o,i)=>o.localeCompare(i)),{att:{[t]:index_es_De(e,n,r)}}}function index_es_Er(t,e,n){var r;t.att[e]=index_es_Ve({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((s,c)=>s.localeCompare(c)),i={att:{}};return o.reduce((s,c)=>(s.att[c]=t.att[c],s),i)}function index_es_De(t,e,n={}){e=e?.sort((o,i)=>o.localeCompare(i));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function index_es_le(t){return index_es_ct(t),`urn:recap:${index_es_mr(t).replace(/=/g,"")}`}function index_es_yt(t){const e=index_es_wr(t.replace("urn:recap:",""));return index_es_ct(e),e}function fs(t,e,n){const r=index_es_br(t,e,n);return index_es_le(r)}function index_es_He(t){return t&&t.includes("urn:recap:")}function ls(t,e){const n=index_es_yt(t),r=index_es_yt(e),o=index_es_vr(n,r);return index_es_le(o)}function index_es_vr(t,e){index_es_ct(t),index_es_ct(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,i)=>o.localeCompare(i)),r={att:{}};return n.forEach(o=>{var i,s;Object.keys(((i=t.att)==null?void 0:i[o])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[o])||{})).sort((c,a)=>c.localeCompare(a)).forEach(c=>{var a,u;r.att[o]=index_es_fr(index_es_Ve({},r.att[o]),{[c]:((a=t.att[o])==null?void 0:a[c])||((u=e.att[o])==null?void 0:u[c])})})}),r}function index_es_qe(t="",e){index_es_ct(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const a=Object.keys(e.att[c]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));a.sort((f,h)=>f.action.localeCompare(h.action));const u={};a.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const l=Object.keys(u).map(f=>(o++,`(${o}) '${f}': '${u[f].join("', '")}' for '${c}'.`));r.push(l.join(", ").replace(".,","."))});const i=r.join(" "),s=`${n}${i}`;return`${t?t+" ":""}${s}`}function ds(t){var e;const n=index_es_yt(t);index_es_ct(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split("/")[1]):[]}function hs(t){const e=index_es_yt(t);index_es_ct(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var i;(i=o?.[0])!=null&&i.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function index_es_xr(t,e){if(!e)return t;const n=index_es_yt(e);return index_es_ct(n),index_es_qe(t,n)}function index_es_de(t){if(!t)return;const e=t?.[t.length-1];return index_es_He(e)?e:void 0}function index_es_Ke(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function index_es_Sr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tt(t,...e){if(!index_es_Sr(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function index_es_Or(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ps(t,e){tt(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function index_es_Ar(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const mt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),gs=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ys)throw new Error("Non little-endian hardware is not supported");function ms(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function index_es_Fe(t){if(typeof t=="string")t=ms(t);else if(index_es_Sr(t))t=index_es_ze(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function ws(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function bs(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Es=(t,e)=>{function n(r,...o){if(tt(r),t.nonceLength!==void 0){const l=o[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?tt(l):tt(l,t.nonceLength)}const i=t.tagLength;i&&o[1]!==void 0&&tt(o[1]);const s=e(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error("cipher output not supported");tt(f)}};let a=!1;return{encrypt(l,f){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,tt(l),c(s.encrypt.length,f),s.encrypt(l,f)},decrypt(l,f){if(tt(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return c(s.decrypt.length,f),s.decrypt(l,f)}}}return Object.assign(n,t),n};function index_es_Br(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!vs(e))throw new Error("invalid output, must be aligned");return e}function index_es_Ir(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r)}function vs(t){return t.byteOffset%4===0}function index_es_ze(t){return Uint8Array.from(t)}function index_es_Lt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const index_es_Nr=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),xs=index_es_Nr("expand 16-byte k"),Ss=index_es_Nr("expand 32-byte k"),Os=mt(xs),As=mt(Ss);function V(t,e){return t<<e|t>>>32-e}function index_es_Ze(t){return t.byteOffset%4===0}const index_es_he=64,Bs=16,index_es_Ur=2**32-1,index_es_Tr=new Uint32Array;function Is(t,e,n,r,o,i,s,c){const a=o.length,u=new Uint8Array(index_es_he),l=mt(u),f=index_es_Ze(o)&&index_es_Ze(i),h=f?mt(o):index_es_Tr,y=f?mt(i):index_es_Tr;for(let E=0;E<a;s++){if(t(e,n,r,l,s,c),s>=index_es_Ur)throw new Error("arx: counter overflow");const p=Math.min(index_es_he,a-E);if(f&&p===index_es_he){const d=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let v=0,m;v<Bs;v++)m=d+v,y[m]=h[m]^l[v];E+=index_es_he;continue}for(let d=0,v;d<p;d++)v=E+d,i[v]=o[v]^u[d];E+=p}}function Ns(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=ws({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return index_es_Ke(o),index_es_Ke(s),index_es_Ar(i),index_es_Ar(n),(c,a,u,l,f=0)=>{tt(c),tt(a),tt(u);const h=u.length;if(l===void 0&&(l=new Uint8Array(h)),tt(l),index_es_Ke(f),f<0||f>=index_es_Ur)throw new Error("arx: counter overflow");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const y=[];let E=c.length,p,d;if(E===32)y.push(p=index_es_ze(c)),d=As;else if(E===16&&n)p=new Uint8Array(32),p.set(c),p.set(c,16),d=Os,y.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);index_es_Ze(a)||y.push(a=index_es_ze(a));const v=mt(p);if(r){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(d,v,mt(a.subarray(0,16)),v),a=a.subarray(16)}const m=16-o;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(m!==12){const N=new Uint8Array(12);N.set(a,i?0:12-a.length),a=N,y.push(a)}const O=mt(a);return Is(t,d,v,O,u,l,f,s),index_es_Lt(...y),l}}const F=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Us{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=index_es_Fe(e),tt(e,32);const n=F(e,0),r=F(e,2),o=F(e,4),i=F(e,6),s=F(e,8),c=F(e,10),a=F(e,12),u=F(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|a<<5)&8065,this.r[8]=(a>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=F(e,16+2*l)}process(e,n,r=!1){const o=r?0:2048,{h:i,r:s}=this,c=s[0],a=s[1],u=s[2],l=s[3],f=s[4],h=s[5],y=s[6],E=s[7],p=s[8],d=s[9],v=F(e,n+0),m=F(e,n+2),O=F(e,n+4),N=F(e,n+6),$=F(e,n+8),B=F(e,n+10),A=F(e,n+12),T=F(e,n+14);let S=i[0]+(v&8191),L=i[1]+((v>>>13|m<<3)&8191),U=i[2]+((m>>>10|O<<6)&8191),_=i[3]+((O>>>7|N<<9)&8191),j=i[4]+((N>>>4|$<<12)&8191),g=i[5]+($>>>1&8191),w=i[6]+(($>>>14|B<<2)&8191),b=i[7]+((B>>>11|A<<5)&8191),I=i[8]+((A>>>8|T<<8)&8191),R=i[9]+(T>>>5|o),x=0,C=x+S*c+L*(5*d)+U*(5*p)+_*(5*E)+j*(5*y);x=C>>>13,C&=8191,C+=g*(5*h)+w*(5*f)+b*(5*l)+I*(5*u)+R*(5*a),x+=C>>>13,C&=8191;let P=x+S*a+L*c+U*(5*d)+_*(5*p)+j*(5*E);x=P>>>13,P&=8191,P+=g*(5*y)+w*(5*h)+b*(5*f)+I*(5*l)+R*(5*u),x+=P>>>13,P&=8191;let k=x+S*u+L*a+U*c+_*(5*d)+j*(5*p);x=k>>>13,k&=8191,k+=g*(5*E)+w*(5*y)+b*(5*h)+I*(5*f)+R*(5*l),x+=k>>>13,k&=8191;let M=x+S*l+L*u+U*a+_*c+j*(5*d);x=M>>>13,M&=8191,M+=g*(5*p)+w*(5*E)+b*(5*y)+I*(5*h)+R*(5*f),x+=M>>>13,M&=8191;let D=x+S*f+L*l+U*u+_*a+j*c;x=D>>>13,D&=8191,D+=g*(5*d)+w*(5*p)+b*(5*E)+I*(5*y)+R*(5*h),x+=D>>>13,D&=8191;let z=x+S*h+L*f+U*l+_*u+j*a;x=z>>>13,z&=8191,z+=g*c+w*(5*d)+b*(5*p)+I*(5*E)+R*(5*y),x+=z>>>13,z&=8191;let Z=x+S*y+L*h+U*f+_*l+j*u;x=Z>>>13,Z&=8191,Z+=g*a+w*c+b*(5*d)+I*(5*p)+R*(5*E),x+=Z>>>13,Z&=8191;let it=x+S*E+L*y+U*h+_*f+j*l;x=it>>>13,it&=8191,it+=g*u+w*a+b*c+I*(5*d)+R*(5*p),x+=it>>>13,it&=8191;let W=x+S*p+L*E+U*y+_*h+j*f;x=W>>>13,W&=8191,W+=g*l+w*u+b*a+I*c+R*(5*d),x+=W>>>13,W&=8191;let J=x+S*d+L*p+U*E+_*y+j*h;x=J>>>13,J&=8191,J+=g*f+w*l+b*u+I*a+R*c,x+=J>>>13,J&=8191,x=(x<<2)+x|0,x=x+C|0,C=x&8191,x=x>>>13,P+=x,i[0]=C,i[1]=P,i[2]=k,i[3]=M,i[4]=D,i[5]=z,i[6]=Z,i[7]=it,i[8]=W,i[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let i=(o^1)-1;for(let c=0;c<10;c++)r[c]&=i;i=~i;for(let c=0;c<10;c++)e[c]=e[c]&i|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let c=1;c<8;c++)s=(e[c]+n[c]|0)+(s>>>16)|0,e[c]=s&65535;index_es_Lt(r)}update(e){index_es_Or(this);const{buffer:n,blockLen:r}=this;e=index_es_Fe(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){index_es_Lt(this.h,this.r,this.buffer,this.pad)}digestInto(e){index_es_Or(this),ps(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=r[s]>>>0,e[i++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Ts(t){const e=(r,o)=>t(o).update(index_es_Fe(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Rs=Ts(t=>new Us(t));function _s(t,e,n,r,o,i=20){let s=t[0],c=t[1],a=t[2],u=t[3],l=e[0],f=e[1],h=e[2],y=e[3],E=e[4],p=e[5],d=e[6],v=e[7],m=o,O=n[0],N=n[1],$=n[2],B=s,A=c,T=a,S=u,L=l,U=f,_=h,j=y,g=E,w=p,b=d,I=v,R=m,x=O,C=N,P=$;for(let M=0;M<i;M+=2)B=B+L|0,R=V(R^B,16),g=g+R|0,L=V(L^g,12),B=B+L|0,R=V(R^B,8),g=g+R|0,L=V(L^g,7),A=A+U|0,x=V(x^A,16),w=w+x|0,U=V(U^w,12),A=A+U|0,x=V(x^A,8),w=w+x|0,U=V(U^w,7),T=T+_|0,C=V(C^T,16),b=b+C|0,_=V(_^b,12),T=T+_|0,C=V(C^T,8),b=b+C|0,_=V(_^b,7),S=S+j|0,P=V(P^S,16),I=I+P|0,j=V(j^I,12),S=S+j|0,P=V(P^S,8),I=I+P|0,j=V(j^I,7),B=B+U|0,P=V(P^B,16),b=b+P|0,U=V(U^b,12),B=B+U|0,P=V(P^B,8),b=b+P|0,U=V(U^b,7),A=A+_|0,R=V(R^A,16),I=I+R|0,_=V(_^I,12),A=A+_|0,R=V(R^A,8),I=I+R|0,_=V(_^I,7),T=T+j|0,x=V(x^T,16),g=g+x|0,j=V(j^g,12),T=T+j|0,x=V(x^T,8),g=g+x|0,j=V(j^g,7),S=S+L|0,C=V(C^S,16),w=w+C|0,L=V(L^w,12),S=S+L|0,C=V(C^S,8),w=w+C|0,L=V(L^w,7);let k=0;r[k++]=s+B|0,r[k++]=c+A|0,r[k++]=a+T|0,r[k++]=u+S|0,r[k++]=l+L|0,r[k++]=f+U|0,r[k++]=h+_|0,r[k++]=y+j|0,r[k++]=E+g|0,r[k++]=p+w|0,r[k++]=d+b|0,r[k++]=v+I|0,r[k++]=m+R|0,r[k++]=O+x|0,r[k++]=N+C|0,r[k++]=$+P|0}const $s=Ns(_s,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ls=new Uint8Array(16),index_es_Rr=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Ls.subarray(n))},js=new Uint8Array(32);function index_es_r(t,e,n,r,o){const i=t(e,n,js),s=Rs.create(i);o&&index_es_Rr(s,o),index_es_Rr(s,r);const c=new Uint8Array(16),a=gs(c);index_es_Ir(a,0,BigInt(o?o.length:0),!0),index_es_Ir(a,8,BigInt(r.length),!0),s.update(c);const u=s.digest();return index_es_Lt(i,c),u}const Cs=t=>(e,n,r)=>({encrypt(i,s){const c=i.length;s=index_es_Br(c+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const u=index_es_r(t,e,n,a,r);return s.set(u,c),index_es_Lt(u),s},decrypt(i,s){s=index_es_Br(i.length-16,s,!1);const c=i.subarray(0,-16),a=i.subarray(-16),u=index_es_r(t,e,n,c,r);if(!bs(a,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),index_es_Lt(u),s}}),index_es_$r=Es({blockSize:64,nonceLength:12,tagLength:16},Cs($s));class index_es_Lr extends index_es_Pe{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,index_es_je(e);const r=index_es_t(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return index_es_Tt(this),this.iHash.update(e),this}digestInto(e){index_es_Tt(this),index_es_Wt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const index_es_pe=(t,e,n)=>new index_es_Lr(t,e).update(n).digest();index_es_pe.create=(t,e)=>new index_es_Lr(t,e);function Ps(t,e,n){return index_es_je(t),n===void 0&&(n=new Uint8Array(t.outputLen)),index_es_pe(t,index_es_t(n),index_es_t(e))}const index_es_Ye=new Uint8Array([0]),index_es_jr=new Uint8Array;function ks(t,e,n,r=32){if(index_es_je(t),index_es_Gt(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/t.outputLen);n===void 0&&(n=index_es_jr);const i=new Uint8Array(o*t.outputLen),s=index_es_pe.create(t,e),c=s._cloneInto(),a=new Uint8Array(s.outputLen);for(let u=0;u<o;u++)index_es_Ye[0]=u+1,c.update(u===0?index_es_jr:a).update(n).update(index_es_Ye).digestInto(a),i.set(a,t.outputLen*u),s._cloneInto(c);return s.destroy(),c.destroy(),a.fill(0),index_es_Ye.fill(0),i.slice(0,r)}const Vs=(t,e,n,r,o)=>ks(t,Ps(t,e,n),r,o);function Ms(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r)}function Ds(t,e,n){return t&e^~t&n}function Hs(t,e,n){return t&e^t&n^e&n}class qs extends index_es_Pe{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dist_index_es_Ce(this.buffer)}update(e){index_es_Tt(this);const{view:n,buffer:r,blockLen:o}=this;e=index_es_t(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(o-this.pos,i-s);if(c===o){const a=dist_index_es_Ce(e);for(;o<=i-s;s+=o)this.process(a,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){index_es_Tt(this),index_es_Gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;Ms(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=dist_index_es_Ce(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,l[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}}const Ks=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),index_es_wt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),index_es_bt=new Uint32Array(64);class Fs extends qs{constructor(){super(64,32,8,!1),this.A=index_es_wt[0]|0,this.B=index_es_wt[1]|0,this.C=index_es_wt[2]|0,this.D=index_es_wt[3]|0,this.E=index_es_wt[4]|0,this.F=index_es_wt[5]|0,this.G=index_es_wt[6]|0,this.H=index_es_wt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:s,G:c,H:a}=this;return[e,n,r,o,i,s,c,a]}set(e,n,r,o,i,s,c,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=a|0}process(e,n){for(let f=0;f<16;f++,n+=4)index_es_bt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=index_es_bt[f-15],y=index_es_bt[f-2],E=st(h,7)^st(h,18)^h>>>3,p=st(y,17)^st(y,19)^y>>>10;index_es_bt[f]=p+index_es_bt[f-7]+E+index_es_bt[f-16]|0}let{A:r,B:o,C:i,D:s,E:c,F:a,G:u,H:l}=this;for(let f=0;f<64;f++){const h=st(c,6)^st(c,11)^st(c,25),y=l+h+Ds(c,a,u)+Ks[f]+index_es_bt[f]|0,p=(st(r,2)^st(r,13)^st(r,22))+Hs(r,o,i)|0;l=u,u=a,a=c,c=s+y|0,s=i,i=o,o=r,r=y+p|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,o,i,s,c,a,u,l)}roundClean(){index_es_bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const index_es_Jt=index_es_Qn(()=>new Fs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const index_es_ge=BigInt(0),index_es_ye=BigInt(1),zs=BigInt(2);function index_es_St(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function index_es_Qt(t){if(!index_es_St(t))throw new Error("Uint8Array expected")}function index_es_jt(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Zs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ct(t){index_es_Qt(t);let e="";for(let n=0;n<t.length;n++)e+=Zs[t[n]];return e}function index_es_Pt(t){const e=t.toString(16);return e.length&1?"0"+e:e}function index_es_Ge(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?index_es_ge:BigInt("0x"+t)}const index_es_ut={_0:48,_9:57,A:65,F:70,a:97,f:102};function index_es_Cr(t){if(t>=index_es_ut._0&&t<=index_es_ut._9)return t-index_es_ut._0;if(t>=index_es_ut.A&&t<=index_es_ut.F)return t-(index_es_ut.A-10);if(t>=index_es_ut.a&&t<=index_es_ut.f)return t-(index_es_ut.a-10)}function dist_index_es_kt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=index_es_Cr(t.charCodeAt(i)),c=index_es_Cr(t.charCodeAt(i+1));if(s===void 0||c===void 0){const a=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+i)}r[o]=s*16+c}return r}function index_es_Ot(t){return index_es_Ge(Ct(t))}function dist_index_es_te(t){return index_es_Qt(t),index_es_Ge(Ct(Uint8Array.from(t).reverse()))}function index_es_Vt(t,e){return dist_index_es_kt(t.toString(16).padStart(e*2,"0"))}function index_es_me(t,e){return index_es_Vt(t,e).reverse()}function Ys(t){return dist_index_es_kt(index_es_Pt(t))}function et(t,e,n){let r;if(typeof e=="string")try{r=dist_index_es_kt(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(index_es_St(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function ee(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];index_es_Qt(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}function Gs(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Ws(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const index_es_We=t=>typeof t=="bigint"&&index_es_ge<=t;function index_es_we(t,e,n){return index_es_We(t)&&index_es_We(e)&&index_es_We(n)&&e<=t&&t<n}function index_es_ft(t,e,n,r){if(!index_es_we(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function index_es_Pr(t){let e;for(e=0;t>index_es_ge;t>>=index_es_ye,e+=1);return e}function Xs(t,e){return t>>BigInt(e)&index_es_ye}function Js(t,e,n){return t|(n?index_es_ye:index_es_ge)<<BigInt(e)}const index_es_Xe=t=>(zs<<BigInt(t-1))-index_es_ye,index_es_Je=t=>new Uint8Array(t),index_es_kr=t=>Uint8Array.from(t);function index_es_Vr(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=index_es_Je(t),o=index_es_Je(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},c=(...f)=>n(o,r,...f),a=(f=index_es_Je())=>{o=c(index_es_kr([0]),f),r=c(),f.length!==0&&(o=c(index_es_kr([1]),f),r=c())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=c();const y=r.slice();h.push(y),f+=r.length}return ee(...h)};return(f,h)=>{s(),a(f);let y;for(;!(y=h(u()));)a();return s(),y}}const Qs={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||index_es_St(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function index_es_Mt(t,e,n={}){const r=(o,i,s)=>{const c=Qs[i];if(typeof c!="function")throw new Error("invalid validator function");const a=t[o];if(!(s&&a===void 0)&&!c(a,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+a)};for(const[o,i]of Object.entries(e))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return t}const tc=()=>{throw new Error("not implemented")};function index_es_Qe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}var ec=Object.freeze({__proto__:null,isBytes:index_es_St,abytes:index_es_Qt,abool:index_es_jt,bytesToHex:Ct,numberToHexUnpadded:index_es_Pt,hexToNumber:index_es_Ge,hexToBytes:dist_index_es_kt,bytesToNumberBE:index_es_Ot,bytesToNumberLE:dist_index_es_te,numberToBytesBE:index_es_Vt,numberToBytesLE:index_es_me,numberToVarBytesBE:Ys,ensureBytes:et,concatBytes:ee,equalBytes:Gs,utf8ToBytes:Ws,inRange:index_es_we,aInRange:index_es_ft,bitLen:index_es_Pr,bitGet:Xs,bitSet:Js,bitMask:index_es_Xe,createHmacDrbg:index_es_Vr,validateObject:index_es_Mt,notImplemented:tc,memoized:index_es_Qe});const index_es_q=BigInt(0),index_es_H=BigInt(1),At=BigInt(2),nc=BigInt(3),index_es_tn=BigInt(4),index_es_Mr=BigInt(5),index_es_Dr=BigInt(8);function X(t,e){const n=t%e;return n>=index_es_q?n:e+n}function index_es_Hr(t,e,n){if(e<index_es_q)throw new Error("invalid exponent, negatives unsupported");if(n<=index_es_q)throw new Error("invalid modulus");if(n===index_es_H)return index_es_q;let r=index_es_H;for(;e>index_es_q;)e&index_es_H&&(r=r*t%n),t=t*t%n,e>>=index_es_H;return r}function ot(t,e,n){let r=t;for(;e-- >index_es_q;)r*=r,r%=n;return r}function index_es_en(t,e){if(t===index_es_q)throw new Error("invert: expected non-zero number");if(e<=index_es_q)throw new Error("invert: expected positive modulus, got "+e);let n=X(t,e),r=e,o=index_es_q,i=index_es_H;for(;n!==index_es_q;){const c=r/n,a=r%n,u=o-i*c;r=n,n=a,o=i,i=u}if(r!==index_es_H)throw new Error("invert: does not exist");return X(o,e)}function rc(t){const e=(t-index_es_H)/At;let n,r,o;for(n=t-index_es_H,r=0;n%At===index_es_q;n/=At,r++);for(o=At;o<t&&index_es_Hr(o,e,t)!==t-index_es_H;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(t+index_es_H)/index_es_tn;return function(a,u){const l=a.pow(u,s);if(!a.eql(a.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(n+index_es_H)/At;return function(c,a){if(c.pow(a,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,l=c.pow(c.mul(c.ONE,o),n),f=c.pow(a,i),h=c.pow(a,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let y=1;for(let p=c.sqr(h);y<u&&!c.eql(p,c.ONE);y++)p=c.sqr(p);const E=c.pow(l,index_es_H<<BigInt(u-y-1));l=c.sqr(E),f=c.mul(f,E),h=c.mul(h,l),u=y}return f}}function oc(t){if(t%index_es_tn===nc){const e=(t+index_es_H)/index_es_tn;return function(r,o){const i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%index_es_Dr===index_es_Mr){const e=(t-index_es_Mr)/index_es_Dr;return function(r,o){const i=r.mul(o,At),s=r.pow(i,e),c=r.mul(o,s),a=r.mul(r.mul(c,At),s),u=r.mul(c,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error("Cannot find square root");return u}}return rc(t)}const ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sc(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ic.reduce((r,o)=>(r[o]="function",r),e);return index_es_Mt(t,n)}function cc(t,e,n){if(n<index_es_q)throw new Error("invalid exponent, negatives unsupported");if(n===index_es_q)return t.ONE;if(n===index_es_H)return e;let r=t.ONE,o=e;for(;n>index_es_q;)n&index_es_H&&(r=t.mul(r,o)),o=t.sqr(o),n>>=index_es_H;return r}function ac(t,e){const n=new Array(e.length),r=e.reduce((i,s,c)=>t.is0(s)?i:(n[c]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,c)=>t.is0(s)?i:(n[c]=t.mul(i,n[c]),t.mul(i,s)),o),n}function index_es_qr(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function index_es_Kr(t,e,n=!1,r={}){if(t<=index_es_q)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:i}=index_es_qr(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:index_es_Xe(o),ZERO:index_es_q,ONE:index_es_H,create:a=>X(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return index_es_q<=a&&a<t},is0:a=>a===index_es_q,isOdd:a=>(a&index_es_H)===index_es_H,neg:a=>X(-a,t),eql:(a,u)=>a===u,sqr:a=>X(a*a,t),add:(a,u)=>X(a+u,t),sub:(a,u)=>X(a-u,t),mul:(a,u)=>X(a*u,t),pow:(a,u)=>cc(c,a,u),div:(a,u)=>X(a*index_es_en(u,t),t),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>index_es_en(a,t),sqrt:r.sqrt||(a=>(s||(s=oc(t)),s(c,a))),invertBatch:a=>ac(c,a),cmov:(a,u,l)=>l?u:a,toBytes:a=>n?index_es_me(a,i):index_es_Vt(a,i),fromBytes:a=>{if(a.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+a.length);return n?dist_index_es_te(a):index_es_Ot(a)}});return Object.freeze(c)}function index_es_Fr(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function index_es_zr(t){const e=index_es_Fr(t);return e+Math.ceil(e/2)}function uc(t,e,n=!1){const r=t.length,o=index_es_Fr(e),i=index_es_zr(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?dist_index_es_te(t):index_es_Ot(t),c=X(s,e-index_es_H)+index_es_H;return n?index_es_me(c,o):index_es_Vt(c,o)}const index_es_Zr=BigInt(0),index_es_be=BigInt(1);function index_es_nn(t,e){const n=e.negate();return t?n:e}function index_es_Yr(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function index_es_rn(t,e){index_es_Yr(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function fc(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function lc(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const index_es_on=new WeakMap,index_es_Gr=new WeakMap;function index_es_sn(t){return index_es_Gr.get(t)||1}function dc(t,e){return{constTimeNegate:index_es_nn,hasPrecomputes(n){return index_es_sn(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>index_es_Zr;)r&index_es_be&&(o=o.add(i)),i=i.double(),r>>=index_es_be;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=index_es_rn(r,e),s=[];let c=n,a=c;for(let u=0;u<o;u++){a=c,s.push(a);for(let l=1;l<i;l++)a=a.add(c),s.push(a);c=a.double()}return s},wNAF(n,r,o){const{windows:i,windowSize:s}=index_es_rn(n,e);let c=t.ZERO,a=t.BASE;const u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<i;h++){const y=h*s;let E=Number(o&u);o>>=f,E>s&&(E-=l,o+=index_es_be);const p=y,d=y+Math.abs(E)-1,v=h%2!==0,m=E<0;E===0?a=a.add(index_es_nn(v,r[p])):c=c.add(index_es_nn(m,r[d]))}return{p:c,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const{windows:s,windowSize:c}=index_es_rn(n,e),a=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let f=0;f<s;f++){const h=f*c;if(o===index_es_Zr)break;let y=Number(o&a);if(o>>=l,y>c&&(y-=u,o+=index_es_be),y===0)continue;let E=r[h+Math.abs(y)-1];y<0&&(E=E.negate()),i=i.add(E)}return i},getPrecomputes(n,r,o){let i=index_es_on.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&index_es_on.set(r,o(i))),i},wNAFCached(n,r,o){const i=index_es_sn(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=index_es_sn(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){index_es_Yr(r,e),index_es_Gr.set(n,r),index_es_on.delete(n)}}}function hc(t,e,n,r){if(fc(n,t),lc(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,i=index_es_Pr(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,a=new Array(c+1).fill(o),u=Math.floor((e.BITS-1)/s)*s;let l=o;for(let f=u;f>=0;f-=s){a.fill(o);for(let y=0;y<r.length;y++){const E=r[y],p=Number(E>>BigInt(f)&BigInt(c));a[p]=a[p].add(n[y])}let h=o;for(let y=a.length-1,E=o;y>0;y--)E=E.add(a[y]),h=h.add(E);if(l=l.add(h),f!==0)for(let y=0;y<s;y++)l=l.double()}return l}function index_es_Wr(t){return sc(t.Fp),index_es_Mt(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...index_es_qr(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const index_es_Dt=BigInt(0),cn=BigInt(1);function pc(t){return index_es_Mt(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function gc(t){const e=pc(t),{P:n}=e,r=m=>X(m,n),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,c=e.adjustScalarBytes||(m=>m),a=e.powPminus2||(m=>index_es_Hr(m,n-BigInt(2),n));function u(m,O,N){const $=r(m*(O-N));return O=r(O-$),N=r(N+$),[O,N]}const l=(e.a-BigInt(2))/BigInt(4);function f(m,O){index_es_ft("u",m,index_es_Dt,n),index_es_ft("scalar",O,index_es_Dt,n);const N=O,$=m;let B=cn,A=index_es_Dt,T=m,S=cn,L=index_es_Dt,U;for(let j=BigInt(o-1);j>=index_es_Dt;j--){const g=N>>j&cn;L^=g,U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1],L=g;const w=B+A,b=r(w*w),I=B-A,R=r(I*I),x=b-R,C=T+S,P=T-S,k=r(P*w),M=r(C*I),D=k+M,z=k-M;T=r(D*D),S=r($*r(z*z)),B=r(b*R),A=r(x*(b+r(l*x)))}U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1];const _=a(A);return r(B*_)}function h(m){return index_es_me(r(m),i)}function y(m){const O=et("u coordinate",m,i);return s===32&&(O[31]&=127),dist_index_es_te(O)}function E(m){const O=et("scalar",m),N=O.length;if(N!==i&&N!==s){let $=""+i+" or "+s;throw new Error("invalid scalar, expected "+$+" bytes, got "+N)}return dist_index_es_te(c(O))}function p(m,O){const N=y(O),$=E(m),B=f(N,$);if(B===index_es_Dt)throw new Error("invalid private or public key received");return h(B)}const d=h(e.Gu);function v(m){return p(m,d)}return{scalarMult:p,scalarMultBase:v,getSharedSecret:(m,O)=>p(m,O),getPublicKey:m=>v(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:d}}const an=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const yc=BigInt(1),index_es_Xr=BigInt(2),mc=BigInt(3),wc=BigInt(5);BigInt(8);function bc(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=an,c=t*t%i*t%i,a=ot(c,index_es_Xr,i)*c%i,u=ot(a,yc,i)*t%i,l=ot(u,wc,i)*u%i,f=ot(l,e,i)*l%i,h=ot(f,n,i)*f%i,y=ot(h,r,i)*h%i,E=ot(y,o,i)*y%i,p=ot(E,o,i)*y%i,d=ot(p,e,i)*l%i;return{pow_p_5_8:ot(d,index_es_Xr,i)*t%i,b2:c}}function Ec(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const un=gc({P:an,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=an,{pow_p_5_8:n,b2:r}=bc(t);return X(ot(n,mc,e)*r,e)},adjustScalarBytes:Ec,randomBytes:index_es_$t});function index_es_Jr(t){t.lowS!==void 0&&index_es_jt("lowS",t.lowS),t.prehash!==void 0&&index_es_jt("prehash",t.prehash)}function vc(t){const e=index_es_Wr(t);index_es_Mt(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:xc,hexToBytes:Sc}=ec;class Oc extends Error{constructor(e=""){super(e)}}const index_es_lt={Err:Oc,_tlv:{encode:(t,e)=>{const{Err:n}=index_es_lt;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=index_es_Pt(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?index_es_Pt(o.length/2|128):"";return index_es_Pt(t)+i+o+e},decode(t,e){const{Err:n}=index_es_lt;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const a=o&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)s=s<<8|l;if(r+=a,s<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+s);if(c.length!==s)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=index_es_lt;if(t<index_es_dt)throw new e("integer: negative integers are not allowed");let n=index_es_Pt(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=index_es_lt;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=index_es_lt,o=typeof t=="string"?Sc(t):t;index_es_Qt(o);const{v:i,l:s}=r.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,i),{v:u,l}=r.decode(2,a);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=index_es_lt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},index_es_dt=BigInt(0),index_es_K=BigInt(1);BigInt(2);const index_es_Qr=BigInt(3);BigInt(4);function Ac(t){const e=vc(t),{Fp:n}=e,r=index_es_Kr(e.n,e.nBitLength),o=e.toBytes||((p,d,v)=>{const m=d.toAffine();return ee(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(p=>{const d=p.subarray(1),v=n.fromBytes(d.subarray(0,n.BYTES)),m=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return{x:v,y:m}});function s(p){const{a:d,b:v}=e,m=n.sqr(p),O=n.mul(m,p);return n.add(n.add(O,n.mul(p,d)),v)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function c(p){return index_es_we(p,index_es_K,e.n)}function a(p){const{allowedPrivateKeyLengths:d,nByteLength:v,wrapPrivateKey:m,n:O}=e;if(d&&typeof p!="bigint"){if(index_es_St(p)&&(p=Ct(p)),typeof p!="string"||!d.includes(p.length))throw new Error("invalid private key");p=p.padStart(v*2,"0")}let N;try{N=typeof p=="bigint"?p:index_es_Ot(et("private key",p,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof p)}return m&&(N=X(N,O)),index_es_ft("private key",N,index_es_K,O),N}function u(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const l=index_es_Qe((p,d)=>{const{px:v,py:m,pz:O}=p;if(n.eql(O,n.ONE))return{x:v,y:m};const N=p.is0();d==null&&(d=N?n.ONE:n.inv(O));const $=n.mul(v,d),B=n.mul(m,d),A=n.mul(O,d);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:$,y:B}}),f=index_es_Qe(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:d,y:v}=p.toAffine();if(!n.isValid(d)||!n.isValid(v))throw new Error("bad point: x or y not FE");const m=n.sqr(v),O=s(d);if(!n.eql(m,O))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(d,v,m){if(this.px=d,this.py=v,this.pz=m,d==null||!n.isValid(d))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required");Object.freeze(this)}static fromAffine(d){const{x:v,y:m}=d||{};if(!d||!n.isValid(v)||!n.isValid(m))throw new Error("invalid affine point");if(d instanceof h)throw new Error("projective point not allowed");const O=N=>n.eql(N,n.ZERO);return O(v)&&O(m)?h.ZERO:new h(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const v=n.invertBatch(d.map(m=>m.pz));return d.map((m,O)=>m.toAffine(v[O])).map(h.fromAffine)}static fromHex(d){const v=h.fromAffine(i(et("pointHex",d)));return v.assertValidity(),v}static fromPrivateKey(d){return h.BASE.multiply(a(d))}static msm(d,v){return hc(h,r,d,v)}_setWindowSize(d){E.setWindowSize(this,d)}assertValidity(){f(this)}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return!n.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d,A=n.eql(n.mul(v,B),n.mul(N,O)),T=n.eql(n.mul(m,B),n.mul($,O));return A&&T}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:v}=e,m=n.mul(v,index_es_Qr),{px:O,py:N,pz:$}=this;let B=n.ZERO,A=n.ZERO,T=n.ZERO,S=n.mul(O,O),L=n.mul(N,N),U=n.mul($,$),_=n.mul(O,N);return _=n.add(_,_),T=n.mul(O,$),T=n.add(T,T),B=n.mul(d,T),A=n.mul(m,U),A=n.add(B,A),B=n.sub(L,A),A=n.add(L,A),A=n.mul(B,A),B=n.mul(_,B),T=n.mul(m,T),U=n.mul(d,U),_=n.sub(S,U),_=n.mul(d,_),_=n.add(_,T),T=n.add(S,S),S=n.add(T,S),S=n.add(S,U),S=n.mul(S,_),A=n.add(A,S),U=n.mul(N,$),U=n.add(U,U),S=n.mul(U,_),B=n.sub(B,S),T=n.mul(U,L),T=n.add(T,T),T=n.add(T,T),new h(B,A,T)}add(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d;let A=n.ZERO,T=n.ZERO,S=n.ZERO;const L=e.a,U=n.mul(e.b,index_es_Qr);let _=n.mul(v,N),j=n.mul(m,$),g=n.mul(O,B),w=n.add(v,m),b=n.add(N,$);w=n.mul(w,b),b=n.add(_,j),w=n.sub(w,b),b=n.add(v,O);let I=n.add(N,B);return b=n.mul(b,I),I=n.add(_,g),b=n.sub(b,I),I=n.add(m,O),A=n.add($,B),I=n.mul(I,A),A=n.add(j,g),I=n.sub(I,A),S=n.mul(L,b),A=n.mul(U,g),S=n.add(A,S),A=n.sub(j,S),S=n.add(j,S),T=n.mul(A,S),j=n.add(_,_),j=n.add(j,_),g=n.mul(L,g),b=n.mul(U,b),j=n.add(j,g),g=n.sub(_,g),g=n.mul(L,g),b=n.add(b,g),_=n.mul(j,b),T=n.add(T,_),_=n.mul(I,b),A=n.mul(w,A),A=n.sub(A,_),_=n.mul(w,j),S=n.mul(I,S),S=n.add(S,_),new h(A,T,S)}subtract(d){return this.add(d.negate())}is0(){return this.equals(h.ZERO)}wNAF(d){return E.wNAFCached(this,d,h.normalizeZ)}multiplyUnsafe(d){const{endo:v,n:m}=e;index_es_ft("scalar",d,index_es_dt,m);const O=h.ZERO;if(d===index_es_dt)return O;if(this.is0()||d===index_es_K)return this;if(!v||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,d,h.normalizeZ);let{k1neg:N,k1:$,k2neg:B,k2:A}=v.splitScalar(d),T=O,S=O,L=this;for(;$>index_es_dt||A>index_es_dt;)$&index_es_K&&(T=T.add(L)),A&index_es_K&&(S=S.add(L)),L=L.double(),$>>=index_es_K,A>>=index_es_K;return N&&(T=T.negate()),B&&(S=S.negate()),S=new h(n.mul(S.px,v.beta),S.py,S.pz),T.add(S)}multiply(d){const{endo:v,n:m}=e;index_es_ft("scalar",d,index_es_K,m);let O,N;if(v){const{k1neg:$,k1:B,k2neg:A,k2:T}=v.splitScalar(d);let{p:S,f:L}=this.wNAF(B),{p:U,f:_}=this.wNAF(T);S=E.constTimeNegate($,S),U=E.constTimeNegate(A,U),U=new h(n.mul(U.px,v.beta),U.py,U.pz),O=S.add(U),N=L.add(_)}else{const{p:$,f:B}=this.wNAF(d);O=$,N=B}return h.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(d,v,m){const O=h.BASE,N=(B,A)=>A===index_es_dt||A===index_es_K||!B.equals(O)?B.multiplyUnsafe(A):B.multiply(A),$=N(this,v).add(N(d,m));return $.is0()?void 0:$}toAffine(d){return l(this,d)}isTorsionFree(){const{h:d,isTorsionFree:v}=e;if(d===index_es_K)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:d,clearCofactor:v}=e;return d===index_es_K?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(d=!0){return index_es_jt("isCompressed",d),this.assertValidity(),o(h,this,d)}toHex(d=!0){return index_es_jt("isCompressed",d),Ct(this.toRawBytes(d))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,E=dc(h,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:c}}function Bc(t){const e=index_es_Wr(t);return index_es_Mt(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ic(t){const e=Bc(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(g){return X(g,r)}function c(g){return index_es_en(g,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Ac({...e,toBytes(g,w,b){const I=w.toAffine(),R=n.toBytes(I.x),x=ee;return index_es_jt("isCompressed",b),b?x(Uint8Array.from([w.hasEvenY()?2:3]),R):x(Uint8Array.from([4]),R,n.toBytes(I.y))},fromBytes(g){const w=g.length,b=g[0],I=g.subarray(1);if(w===o&&(b===2||b===3)){const R=index_es_Ot(I);if(!index_es_we(R,index_es_K,n.ORDER))throw new Error("Point is not on curve");const x=l(R);let C;try{C=n.sqrt(x)}catch(M){const D=M instanceof Error?": "+M.message:"";throw new Error("Point is not on curve"+D)}const P=(C&index_es_K)===index_es_K;return(b&1)===1!==P&&(C=n.neg(C)),{x:R,y:C}}else if(w===i&&b===4){const R=n.fromBytes(I.subarray(0,n.BYTES)),x=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:R,y:x}}else{const R=o,x=i;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+x+", got "+w)}}}),h=g=>Ct(index_es_Vt(g,e.nByteLength));function y(g){const w=r>>index_es_K;return g>w}function E(g){return y(g)?s(-g):g}const p=(g,w,b)=>index_es_Ot(g.slice(w,b));class d{constructor(w,b,I){this.r=w,this.s=b,this.recovery=I,this.assertValidity()}static fromCompact(w){const b=e.nByteLength;return w=et("compactSignature",w,b*2),new d(p(w,0,b),p(w,b,2*b))}static fromDER(w){const{r:b,s:I}=index_es_lt.toSig(et("DER",w));return new d(b,I)}assertValidity(){index_es_ft("r",this.r,index_es_K,r),index_es_ft("s",this.s,index_es_K,r)}addRecoveryBit(w){return new d(this.r,this.s,w)}recoverPublicKey(w){const{r:b,s:I,recovery:R}=this,x=B(et("msgHash",w));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const C=R===2||R===3?b+e.n:b;if(C>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const P=(R&1)===0?"02":"03",k=a.fromHex(P+h(C)),M=c(C),D=s(-x*M),z=s(I*M),Z=a.BASE.multiplyAndAddUnsafe(k,D,z);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return dist_index_es_kt(this.toDERHex())}toDERHex(){return index_es_lt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dist_index_es_kt(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(g){try{return u(g),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=index_es_zr(e.n);return uc(e.randomBytes(g),e.n)},precompute(g=8,w=a.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function m(g,w=!0){return a.fromPrivateKey(g).toRawBytes(w)}function O(g){const w=index_es_St(g),b=typeof g=="string",I=(w||b)&&g.length;return w?I===o||I===i:b?I===2*o||I===2*i:g instanceof a}function N(g,w,b=!0){if(O(g))throw new Error("first arg must be private key");if(!O(w))throw new Error("second arg must be public key");return a.fromHex(w).multiply(u(g)).toRawBytes(b)}const $=e.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=index_es_Ot(g),b=g.length*8-e.nBitLength;return b>0?w>>BigInt(b):w},B=e.bits2int_modN||function(g){return s($(g))},A=index_es_Xe(e.nBitLength);function T(g){return index_es_ft("num < 2^"+e.nBitLength,g,index_es_dt,A),index_es_Vt(g,e.nByteLength)}function S(g,w,b=L){if(["recovered","canonical"].some(W=>W in b))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:R}=e;let{lowS:x,prehash:C,extraEntropy:P}=b;x==null&&(x=!0),g=et("msgHash",g),index_es_Jr(b),C&&(g=et("prehashed msgHash",I(g)));const k=B(g),M=u(w),D=[T(M),T(k)];if(P!=null&&P!==!1){const W=P===!0?R(n.BYTES):P;D.push(et("extraEntropy",W))}const z=ee(...D),Z=k;function it(W){const J=$(W);if(!f(J))return;const Oe=c(J),Ft=a.BASE.multiply(J).toAffine(),vt=s(Ft.x);if(vt===index_es_dt)return;const zt=s(Oe*s(Z+vt*M));if(zt===index_es_dt)return;let Ut=(Ft.x===vt?0:2)|Number(Ft.y&index_es_K),vn=zt;return x&&y(zt)&&(vn=E(zt),Ut^=1),new d(vt,vn,Ut)}return{seed:z,k2sig:it}}const L={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function _(g,w,b=L){const{seed:I,k2sig:R}=S(g,w,b),x=e;return index_es_Vr(x.hash.outputLen,x.nByteLength,x.hmac)(I,R)}a.BASE._setWindowSize(8);function j(g,w,b,I=U){const R=g;w=et("msgHash",w),b=et("publicKey",b);const{lowS:x,prehash:C,format:P}=I;if(index_es_Jr(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&P!=="compact"&&P!=="der")throw new Error("format must be compact or der");const k=typeof R=="string"||index_es_St(R),M=!k&&!P&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!k&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,z;try{if(M&&(D=new d(R.r,R.s)),k){try{P!=="compact"&&(D=d.fromDER(R))}catch(Ut){if(!(Ut instanceof index_es_lt.Err))throw Ut}!D&&P!=="der"&&(D=d.fromCompact(R))}z=a.fromHex(b)}catch{return!1}if(!D||x&&D.hasHighS())return!1;C&&(w=e.hash(w));const{r:Z,s:it}=D,W=B(w),J=c(it),Oe=s(W*J),Ft=s(Z*J),vt=a.BASE.multiplyAndAddUnsafe(z,Oe,Ft)?.toAffine();return vt?s(vt.x)===Z:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:N,sign:_,verify:j,ProjectivePoint:a,Signature:d,utils:v}}function Nc(t){return{hash:t,hmac:(e,...n)=>index_es_pe(t,e,Vi(...n)),randomBytes:index_es_$t}}function Uc(t,e){const n=r=>Ic({...t,...Nc(r)});return{...n(e),create:n}}const index_es_to=index_es_Kr(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Tc=index_es_to.create(BigInt("-3")),Rc=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),_c=Uc({a:Tc,b:Rc,Fp:index_es_to,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},index_es_Jt),fn="base10",index_es_G="base16",index_es_Ht="base64pad",index_es_Ee="base64url",index_es_qt="utf8",ln=0,index_es_Kt=1,ne=2,$c=0,index_es_eo=1,re=12,dn=32;function Lc(){const t=un.utils.randomPrivateKey(),e=un.getPublicKey(t);return{privateKey:to_string_toString(t,index_es_G),publicKey:to_string_toString(e,index_es_G)}}function jc(){const t=index_es_$t(dn);return to_string_toString(t,index_es_G)}function Cc(t,e){const n=un.getSharedSecret(fromString(t,index_es_G),fromString(e,index_es_G)),r=Vs(index_es_Jt,n,void 0,void 0,dn);return to_string_toString(r,index_es_G)}function Pc(t){const e=index_es_Jt(fromString(t,index_es_G));return to_string_toString(e,index_es_G)}function kc(t){const e=index_es_Jt(fromString(t,index_es_qt));return to_string_toString(e,index_es_G)}function hn(t){return fromString(`${t}`,fn)}function index_es_Bt(t){return Number(to_string_toString(t,fn))}function index_es_no(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function index_es_ro(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Vc(t){const e=hn(typeof t.type<"u"?t.type:ln);if(index_es_Bt(e)===index_es_Kt&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?fromString(t.senderPublicKey,index_es_G):void 0,r=typeof t.iv<"u"?fromString(t.iv,index_es_G):index_es_$t(re),o=fromString(t.symKey,index_es_G),i=index_es_$r(o,r).encrypt(fromString(t.message,index_es_qt)),s=pn({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===index_es_Ee?index_es_no(s):s}function Mc(t){const e=fromString(t.symKey,index_es_G),{sealed:n,iv:r}=index_es_ve({encoded:t.encoded,encoding:t.encoding}),o=index_es_$r(e,r).decrypt(n);if(o===null)throw new Error("Failed to decrypt");return to_string_toString(o,index_es_qt)}function Dc(t,e){const n=hn(ne),r=index_es_$t(re),o=fromString(t,index_es_qt),i=pn({type:n,sealed:o,iv:r});return e===index_es_Ee?index_es_no(i):i}function Hc(t,e){const{sealed:n}=index_es_ve({encoded:t,encoding:e});return to_string_toString(n,index_es_qt)}function pn(t){if(index_es_Bt(t.type)===ne)return to_string_toString(concat([t.type,t.sealed]),index_es_Ht);if(index_es_Bt(t.type)===index_es_Kt){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return to_string_toString(concat([t.type,t.senderPublicKey,t.iv,t.sealed]),index_es_Ht)}return to_string_toString(concat([t.type,t.iv,t.sealed]),index_es_Ht)}function index_es_ve(t){const e=(t.encoding||index_es_Ht)===index_es_Ee?index_es_ro(t.encoded):t.encoded,n=fromString(e,index_es_Ht),r=n.slice($c,index_es_eo),o=index_es_eo;if(index_es_Bt(r)===index_es_Kt){const a=o+dn,u=a+re,l=n.slice(o,a),f=n.slice(a,u),h=n.slice(u);return{type:r,sealed:h,iv:f,senderPublicKey:l}}if(index_es_Bt(r)===ne){const a=n.slice(o),u=index_es_$t(re);return{type:r,sealed:a,iv:u}}const i=o+re,s=n.slice(o,i),c=n.slice(i);return{type:r,sealed:c,iv:s}}function qc(t,e){const n=index_es_ve({encoded:t,encoding:e?.encoding});return index_es_oo({type:index_es_Bt(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?to_string_toString(n.senderPublicKey,index_es_G):void 0,receiverPublicKey:e?.receiverPublicKey})}function index_es_oo(t){const e=t?.type||ln;if(e===index_es_Kt){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Kc(t){return t.type===index_es_Kt&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Fc(t){return t.type===ne}function index_es_io(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return concat([new Uint8Array([4]),e,n])}function zc(t,e){const[n,r,o]=t.split("."),i=Buffer.from(index_es_ro(o),"base64");if(i.length!==64)throw new Error("Invalid signature length");const s=i.slice(0,32),c=i.slice(32,64),a=`${n}.${r}`,u=index_es_Jt(a),l=index_es_io(e);if(!_c.verify(concat([s,c]),u,l))throw new Error("Invalid signature");return sn(t).payload}const index_es_so="irn";function Zc(t){return t?.relay||{protocol:index_es_so}}function Yc(t){const e=C[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function index_es_co(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const i=o.replace(r,""),s=t[o];n[i]=s}}),n}function Gc(t){if(!t.includes("wc:")){const u=index_es_Le(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",s=new URLSearchParams(i),c={};s.forEach((u,l)=>{c[l]=u});const a=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:index_es_ao(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:index_es_co(c),methods:a,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function index_es_ao(t){return t.startsWith("//")?t.substring(2):t}function index_es_uo(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(o=>{const i=o,s=n+e+i;t[i]&&(r[s]=t[i])}),r}function Wc(t){const e=new URLSearchParams,n=index_es_uo(t.relay);Object.keys(n).sort().forEach(o=>{e.set(o,n[o])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Xc(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Jc=Object.defineProperty,Qc=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,index_es_fo=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,index_es_lo=(t,e,n)=>e in t?Jc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ra=(t,e)=>{for(var n in e||(e={}))ea.call(e,n)&&index_es_lo(t,n,e[n]);if(index_es_fo)for(var n of index_es_fo(e))na.call(e,n)&&index_es_lo(t,n,e[n]);return t},oa=(t,e)=>Qc(t,ta(e));function index_es_It(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(":");e.push(`${r}:${o}`)}),e}function index_es_ho(t){const e=[];return Object.values(t).forEach(n=>{e.push(...index_es_It(n.accounts))}),e}function index_es_po(t,e){const n=[];return Object.values(t).forEach(r=>{index_es_It(r.accounts).includes(e)&&n.push(...r.methods)}),n}function index_es_go(t,e){const n=[];return Object.values(t).forEach(r=>{index_es_It(r.accounts).includes(e)&&n.push(...r.events)}),n}function ia(t,e){const n=index_es_Bo(t,e);if(n)throw new Error(n.message);const r={};for(const[o,i]of Object.entries(t))r[o]={methods:i.methods,events:i.events,chains:i.accounts.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)};return r}function sa(t){const{proposal:{requiredNamespaces:e,optionalNamespaces:n={}},supportedNamespaces:r}=t,o=index_es_yn(e),i=index_es_yn(n),s={};Object.keys(r).forEach(u=>{const l=r[u].chains,f=r[u].methods,h=r[u].events,y=r[u].accounts;l.forEach(E=>{if(!y.some(p=>p.includes(E)))throw new Error(`No accounts provided for chain ${E} in namespace ${u}`)}),s[u]={chains:l,methods:f,events:h,accounts:y}});const c=index_es_No(e,s,"approve()");if(c)throw new Error(c.message);const a={};return!Object.keys(e).length&&!Object.keys(n).length?s:(Object.keys(o).forEach(u=>{const l=r[u].chains.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.chains)==null?void 0:d.includes(E)}),f=r[u].methods.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.methods)==null?void 0:d.includes(E)}),h=r[u].events.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.events)==null?void 0:d.includes(E)}),y=l.map(E=>r[u].accounts.filter(p=>p.includes(`${E}:`))).flat();a[u]={chains:l,methods:f,events:h,accounts:y}}),Object.keys(i).forEach(u=>{var l,f,h,y,E,p;if(!r[u])return;const d=(f=(l=i[u])==null?void 0:l.chains)==null?void 0:f.filter(N=>r[u].chains.includes(N)),v=r[u].methods.filter(N=>{var $,B;return(B=($=i[u])==null?void 0:$.methods)==null?void 0:B.includes(N)}),m=r[u].events.filter(N=>{var $,B;return(B=($=i[u])==null?void 0:$.events)==null?void 0:B.includes(N)}),O=d?.map(N=>r[u].accounts.filter($=>$.includes(`${N}:`))).flat();a[u]={chains:at((h=a[u])==null?void 0:h.chains,d),methods:at((y=a[u])==null?void 0:y.methods,v),events:at((E=a[u])==null?void 0:E.events,m),accounts:at((p=a[u])==null?void 0:p.accounts,O)}}),a)}function index_es_gn(t){return t.includes(":")}function index_es_yo(t){return index_es_gn(t)?t.split(":")[0]:t}function index_es_yn(t){var e,n,r;const o={};if(!index_es_xe(t))return o;for(const[i,s]of Object.entries(t)){const c=index_es_gn(i)?[i]:s.chains,a=s.methods||[],u=s.events||[],l=index_es_yo(i);o[l]=oa(ra({},o[l]),{chains:at(c,(e=o[l])==null?void 0:e.chains),methods:at(a,(n=o[l])==null?void 0:n.methods),events:at(u,(r=o[l])==null?void 0:r.events)})}return o}function index_es_mo(t){const e={};return t?.forEach(n=>{var r;const[o,i]=n.split(":");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${i}`)}),e}function ca(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=index_es_mo(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=at(o.methods,t):o.methods=t,o.events=["chainChanged","accountsChanged"];return n}const index_es_wo={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},index_es_bo={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function index_es_ht(t,e){const{message:n,code:r}=index_es_bo[t];return{message:e?`${n} ${e}`:n,code:r}}function index_es_Nt(t,e){const{message:n,code:r}=index_es_wo[t];return{message:e?`${n} ${e}`:n,code:r}}function oe(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function index_es_xe(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function index_es_Et(t){return typeof t>"u"}function index_es_nt(t,e){return e&&index_es_Et(t)?!0:typeof t=="string"&&!!t.trim().length}function index_es_Se(t,e){return e&&index_es_Et(t)?!0:typeof t=="number"&&!isNaN(t)}function aa(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let i=!0;return index_es_gt(o,r)?(r.forEach(s=>{const{accounts:c,methods:a,events:u}=t.namespaces[s],l=index_es_It(c),f=n[s];(!index_es_gt(ce(s,f),l)||!index_es_gt(f.methods,a)||!index_es_gt(f.events,u))&&(i=!1)}),i):!1}function ie(t){return index_es_nt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function index_es_Eo(t){if(index_es_nt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&ie(n)}}return!1}function ua(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(index_es_nt(t,!1)){if(e(t))return!0;const n=index_es_Le(t);return e(n)}}catch{}return!1}function fa(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function la(t){return t?.topic}function da(t,e){let n=null;return index_es_nt(t?.publicKey,!1)||(n=index_es_ht("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function index_es_mn(t){let e=!0;return oe(t)?t.length&&(e=t.every(n=>index_es_nt(n,!1))):e=!1,e}function index_es_vo(t,e,n){let r=null;return oe(e)&&e.length?e.forEach(o=>{r||ie(o)||(r=index_es_Nt("UNSUPPORTED_CHAINS",`${n}, chain ${o} should be a string and conform to "namespace:chainId" format`))}):ie(t)||(r=index_es_Nt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function index_es_xo(t,e,n){let r=null;return Object.entries(t).forEach(([o,i])=>{if(r)return;const s=index_es_vo(o,ce(o,i),`${e} ${n}`);s&&(r=s)}),r}function index_es_So(t,e){let n=null;return oe(t)?t.forEach(r=>{n||index_es_Eo(r)||(n=index_es_Nt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=index_es_Nt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function index_es_Oo(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=index_es_So(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function index_es_Ao(t,e){let n=null;return index_es_mn(t?.methods)?index_es_mn(t?.events)||(n=index_es_Nt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=index_es_Nt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function wn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=index_es_Ao(r,`${e}, namespace`);o&&(n=o)}),n}function ha(t,e,n){let r=null;if(t&&index_es_xe(t)){const o=wn(t,e);o&&(r=o);const i=index_es_xo(t,e,n);i&&(r=i)}else r=index_es_ht("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function index_es_Bo(t,e){let n=null;if(t&&index_es_xe(t)){const r=wn(t,e);r&&(n=r);const o=index_es_Oo(t,e);o&&(n=o)}else n=index_es_ht("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function index_es_Io(t){return index_es_nt(t.protocol,!0)}function pa(t,e){let n=!1;return e&&!t?n=!0:t&&oe(t)&&t.length&&t.forEach(r=>{n=index_es_Io(r)}),n}function ga(t){return typeof t=="number"}function ya(t){return typeof t<"u"&&typeof t!==null}function ma(t){return!(!t||typeof t!="object"||!t.code||!index_es_Se(t.code,!1)||!t.message||!index_es_nt(t.message,!1))}function wa(t){return!(index_es_Et(t)||!index_es_nt(t.method,!1))}function ba(t){return!(index_es_Et(t)||index_es_Et(t.result)&&index_es_Et(t.error)||!index_es_Se(t.id,!1)||!index_es_nt(t.jsonrpc,!1))}function Ea(t){return!(index_es_Et(t)||!index_es_nt(t.name,!1))}function va(t,e){return!(!ie(e)||!index_es_ho(t).includes(e))}function xa(t,e,n){return index_es_nt(n,!1)?index_es_po(t,e).includes(n):!1}function Sa(t,e,n){return index_es_nt(n,!1)?index_es_go(t,e).includes(n):!1}function index_es_No(t,e,n){let r=null;const o=Oa(t),i=Aa(e),s=Object.keys(o),c=Object.keys(i),a=index_es_Uo(Object.keys(t)),u=index_es_Uo(Object.keys(e)),l=a.filter(f=>!u.includes(f));return l.length&&(r=index_es_ht("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),index_es_gt(s,c)||(r=index_es_ht("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;const h=index_es_It(e[f].accounts);h.includes(f)||(r=index_es_ht("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),s.forEach(f=>{r||(index_es_gt(o[f].methods,i[f].methods)?index_es_gt(o[f].events,i[f].events)||(r=index_es_ht("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=index_es_ht("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function Oa(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function index_es_Uo(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Aa(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=index_es_It(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(i=>i.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Ba(t,e){return index_es_Se(t,!1)&&t<=e.max&&t>=e.min}function Ia(){const t=index_es_xt();return new Promise(e=>{switch(t){case Y.browser:e(index_es_To());break;case Y.reactNative:e(index_es_Ro());break;case Y.node:e(index_es_o());break;default:e(!0)}})}function index_es_To(){return index_es_Yt()&&navigator?.onLine}async function index_es_Ro(){if(pt()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function index_es_o(){return!0}function Na(t){switch(index_es_xt()){case Y.browser:index_es_$o(t);break;case Y.reactNative:index_es_Lo(t);break;case Y.node:break}}function index_es_$o(t){!pt()&&index_es_Yt()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function index_es_Lo(t){pt()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}const bn={};class Ua{static get(e){return bn[e]}static set(e,n){bn[e]=n}static delete(e){delete bn[e]}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/events/dist/esm/events.js
class IEvents {
}
//# sourceMappingURL=events.js.map
;// ./node_modules/@walletconnect/heartbeat/dist/index.es.js
class dist_index_es_n extends IEvents{constructor(e){super()}}const s=cjs.FIVE_SECONDS,r={pulse:"heartbeat_pulse"};class index_es_i extends dist_index_es_n{constructor(e){super(e),this.events=new external_events_.EventEmitter,this.interval=s,this.interval=e?.interval||s}static async init(e){const t=new index_es_i(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,cjs.toMiliseconds)(this.interval))}pulse(){this.events.emit(r.pulse)}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/destr/dist/index.mjs
const suspectProtoRx = /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/;
const suspectConstructorRx = /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;
const JsonSigRx = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function jsonParseTransform(key, value) {
  if (key === "__proto__" || key === "constructor" && value && typeof value === "object" && "prototype" in value) {
    warnKeyDropped(key);
    return;
  }
  return value;
}
function warnKeyDropped(key) {
  console.warn(`[destr] Dropping "${key}" key to prevent prototype pollution.`);
}
function destr(value, options = {}) {
  if (typeof value !== "string") {
    return value;
  }
  if (value[0] === '"' && value[value.length - 1] === '"' && value.indexOf("\\") === -1) {
    return value.slice(1, -1);
  }
  const _value = value.trim();
  if (_value.length <= 9) {
    switch (_value.toLowerCase()) {
      case "true": {
        return true;
      }
      case "false": {
        return false;
      }
      case "undefined": {
        return void 0;
      }
      case "null": {
        return null;
      }
      case "nan": {
        return Number.NaN;
      }
      case "infinity": {
        return Number.POSITIVE_INFINITY;
      }
      case "-infinity": {
        return Number.NEGATIVE_INFINITY;
      }
    }
  }
  if (!JsonSigRx.test(value)) {
    if (options.strict) {
      throw new SyntaxError("[destr] Invalid JSON");
    }
    return value;
  }
  try {
    if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {
      if (options.strict) {
        throw new Error("[destr] Possible prototype pollution");
      }
      return JSON.parse(value, jsonParseTransform);
    }
    return JSON.parse(value);
  } catch (error) {
    if (options.strict) {
      throw error;
    }
    return value;
  }
}
function safeDestr(value, options = {}) {
  return destr(value, { ...options, strict: true });
}



;// ./node_modules/unstorage/dist/shared/unstorage.CoCt7NXC.mjs
function wrapToPromise(value) {
  if (!value || typeof value.then !== "function") {
    return Promise.resolve(value);
  }
  return value;
}
function asyncCall(function_, ...arguments_) {
  try {
    return wrapToPromise(function_(...arguments_));
  } catch (error) {
    return Promise.reject(error);
  }
}
function isPrimitive(value) {
  const type = typeof value;
  return value === null || type !== "object" && type !== "function";
}
function isPureObject(value) {
  const proto = Object.getPrototypeOf(value);
  return !proto || proto.isPrototypeOf(Object);
}
function stringify(value) {
  if (isPrimitive(value)) {
    return String(value);
  }
  if (isPureObject(value) || Array.isArray(value)) {
    return JSON.stringify(value);
  }
  if (typeof value.toJSON === "function") {
    return stringify(value.toJSON());
  }
  throw new Error("[unstorage] Cannot stringify value!");
}
const BASE64_PREFIX = "base64:";
function serializeRaw(value) {
  if (typeof value === "string") {
    return value;
  }
  return BASE64_PREFIX + base64Encode(value);
}
function deserializeRaw(value) {
  if (typeof value !== "string") {
    return value;
  }
  if (!value.startsWith(BASE64_PREFIX)) {
    return value;
  }
  return base64Decode(value.slice(BASE64_PREFIX.length));
}
function base64Decode(input) {
  if (globalThis.Buffer) {
    return Buffer.from(input, "base64");
  }
  return Uint8Array.from(
    globalThis.atob(input),
    (c) => c.codePointAt(0)
  );
}
function base64Encode(input) {
  if (globalThis.Buffer) {
    return Buffer.from(input).toString("base64");
  }
  return globalThis.btoa(String.fromCodePoint(...input));
}

const storageKeyProperties = (/* unused pure expression or super */ null && ([
  "has",
  "hasItem",
  "get",
  "getItem",
  "getItemRaw",
  "set",
  "setItem",
  "setItemRaw",
  "del",
  "remove",
  "removeItem",
  "getMeta",
  "setMeta",
  "removeMeta",
  "getKeys",
  "clear",
  "mount",
  "unmount"
]));
function prefixStorage(storage, base) {
  base = unstorage_CoCt7NXC_normalizeBaseKey(base);
  if (!base) {
    return storage;
  }
  const nsStorage = { ...storage };
  for (const property of storageKeyProperties) {
    nsStorage[property] = (key = "", ...args) => (
      // @ts-ignore
      storage[property](base + key, ...args)
    );
  }
  nsStorage.getKeys = (key = "", ...arguments_) => storage.getKeys(base + key, ...arguments_).then((keys) => keys.map((key2) => key2.slice(base.length)));
  nsStorage.getItems = async (items, commonOptions) => {
    const prefixedItems = items.map(
      (item) => typeof item === "string" ? base + item : { ...item, key: base + item.key }
    );
    const results = await storage.getItems(prefixedItems, commonOptions);
    return results.map((entry) => ({
      key: entry.key.slice(base.length),
      value: entry.value
    }));
  };
  nsStorage.setItems = async (items, commonOptions) => {
    const prefixedItems = items.map((item) => ({
      key: base + item.key,
      value: item.value,
      options: item.options
    }));
    return storage.setItems(prefixedItems, commonOptions);
  };
  return nsStorage;
}
function normalizeKey(key) {
  if (!key) {
    return "";
  }
  return key.split("?")[0]?.replace(/[/\\]/g, ":").replace(/:+/g, ":").replace(/^:|:$/g, "") || "";
}
function joinKeys(...keys) {
  return normalizeKey(keys.join(":"));
}
function unstorage_CoCt7NXC_normalizeBaseKey(base) {
  base = normalizeKey(base);
  return base ? base + ":" : "";
}
function filterKeyByDepth(key, depth) {
  if (depth === void 0) {
    return true;
  }
  let substrCount = 0;
  let index = key.indexOf(":");
  while (index > -1) {
    substrCount++;
    index = key.indexOf(":", index + 1);
  }
  return substrCount <= depth;
}
function filterKeyByBase(key, base) {
  if (base) {
    return key.startsWith(base) && key[key.length - 1] !== "$";
  }
  return key[key.length - 1] !== "$";
}



;// ./node_modules/unstorage/dist/index.mjs




function defineDriver(factory) {
  return factory;
}

const DRIVER_NAME = "memory";
const memory = defineDriver(() => {
  const data = /* @__PURE__ */ new Map();
  return {
    name: DRIVER_NAME,
    getInstance: () => data,
    hasItem(key) {
      return data.has(key);
    },
    getItem(key) {
      return data.get(key) ?? null;
    },
    getItemRaw(key) {
      return data.get(key) ?? null;
    },
    setItem(key, value) {
      data.set(key, value);
    },
    setItemRaw(key, value) {
      data.set(key, value);
    },
    removeItem(key) {
      data.delete(key);
    },
    getKeys() {
      return [...data.keys()];
    },
    clear() {
      data.clear();
    },
    dispose() {
      data.clear();
    }
  };
});

function createStorage(options = {}) {
  const context = {
    mounts: { "": options.driver || memory() },
    mountpoints: [""],
    watching: false,
    watchListeners: [],
    unwatch: {}
  };
  const getMount = (key) => {
    for (const base of context.mountpoints) {
      if (key.startsWith(base)) {
        return {
          base,
          relativeKey: key.slice(base.length),
          driver: context.mounts[base]
        };
      }
    }
    return {
      base: "",
      relativeKey: key,
      driver: context.mounts[""]
    };
  };
  const getMounts = (base, includeParent) => {
    return context.mountpoints.filter(
      (mountpoint) => mountpoint.startsWith(base) || includeParent && base.startsWith(mountpoint)
    ).map((mountpoint) => ({
      relativeBase: base.length > mountpoint.length ? base.slice(mountpoint.length) : void 0,
      mountpoint,
      driver: context.mounts[mountpoint]
    }));
  };
  const onChange = (event, key) => {
    if (!context.watching) {
      return;
    }
    key = normalizeKey(key);
    for (const listener of context.watchListeners) {
      listener(event, key);
    }
  };
  const startWatch = async () => {
    if (context.watching) {
      return;
    }
    context.watching = true;
    for (const mountpoint in context.mounts) {
      context.unwatch[mountpoint] = await watch(
        context.mounts[mountpoint],
        onChange,
        mountpoint
      );
    }
  };
  const stopWatch = async () => {
    if (!context.watching) {
      return;
    }
    for (const mountpoint in context.unwatch) {
      await context.unwatch[mountpoint]();
    }
    context.unwatch = {};
    context.watching = false;
  };
  const runBatch = (items, commonOptions, cb) => {
    const batches = /* @__PURE__ */ new Map();
    const getBatch = (mount) => {
      let batch = batches.get(mount.base);
      if (!batch) {
        batch = {
          driver: mount.driver,
          base: mount.base,
          items: []
        };
        batches.set(mount.base, batch);
      }
      return batch;
    };
    for (const item of items) {
      const isStringItem = typeof item === "string";
      const key = normalizeKey(isStringItem ? item : item.key);
      const value = isStringItem ? void 0 : item.value;
      const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };
      const mount = getMount(key);
      getBatch(mount).items.push({
        key,
        value,
        relativeKey: mount.relativeKey,
        options: options2
      });
    }
    return Promise.all([...batches.values()].map((batch) => cb(batch))).then(
      (r) => r.flat()
    );
  };
  const storage = {
    // Item
    hasItem(key, opts = {}) {
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      return asyncCall(driver.hasItem, relativeKey, opts);
    },
    getItem(key, opts = {}) {
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      return asyncCall(driver.getItem, relativeKey, opts).then(
        (value) => destr(value)
      );
    },
    getItems(items, commonOptions = {}) {
      return runBatch(items, commonOptions, (batch) => {
        if (batch.driver.getItems) {
          return asyncCall(
            batch.driver.getItems,
            batch.items.map((item) => ({
              key: item.relativeKey,
              options: item.options
            })),
            commonOptions
          ).then(
            (r) => r.map((item) => ({
              key: joinKeys(batch.base, item.key),
              value: destr(item.value)
            }))
          );
        }
        return Promise.all(
          batch.items.map((item) => {
            return asyncCall(
              batch.driver.getItem,
              item.relativeKey,
              item.options
            ).then((value) => ({
              key: item.key,
              value: destr(value)
            }));
          })
        );
      });
    },
    getItemRaw(key, opts = {}) {
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      if (driver.getItemRaw) {
        return asyncCall(driver.getItemRaw, relativeKey, opts);
      }
      return asyncCall(driver.getItem, relativeKey, opts).then(
        (value) => deserializeRaw(value)
      );
    },
    async setItem(key, value, opts = {}) {
      if (value === void 0) {
        return storage.removeItem(key);
      }
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      if (!driver.setItem) {
        return;
      }
      await asyncCall(driver.setItem, relativeKey, stringify(value), opts);
      if (!driver.watch) {
        onChange("update", key);
      }
    },
    async setItems(items, commonOptions) {
      await runBatch(items, commonOptions, async (batch) => {
        if (batch.driver.setItems) {
          return asyncCall(
            batch.driver.setItems,
            batch.items.map((item) => ({
              key: item.relativeKey,
              value: stringify(item.value),
              options: item.options
            })),
            commonOptions
          );
        }
        if (!batch.driver.setItem) {
          return;
        }
        await Promise.all(
          batch.items.map((item) => {
            return asyncCall(
              batch.driver.setItem,
              item.relativeKey,
              stringify(item.value),
              item.options
            );
          })
        );
      });
    },
    async setItemRaw(key, value, opts = {}) {
      if (value === void 0) {
        return storage.removeItem(key, opts);
      }
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      if (driver.setItemRaw) {
        await asyncCall(driver.setItemRaw, relativeKey, value, opts);
      } else if (driver.setItem) {
        await asyncCall(driver.setItem, relativeKey, serializeRaw(value), opts);
      } else {
        return;
      }
      if (!driver.watch) {
        onChange("update", key);
      }
    },
    async removeItem(key, opts = {}) {
      if (typeof opts === "boolean") {
        opts = { removeMeta: opts };
      }
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      if (!driver.removeItem) {
        return;
      }
      await asyncCall(driver.removeItem, relativeKey, opts);
      if (opts.removeMeta || opts.removeMata) {
        await asyncCall(driver.removeItem, relativeKey + "$", opts);
      }
      if (!driver.watch) {
        onChange("remove", key);
      }
    },
    // Meta
    async getMeta(key, opts = {}) {
      if (typeof opts === "boolean") {
        opts = { nativeOnly: opts };
      }
      key = normalizeKey(key);
      const { relativeKey, driver } = getMount(key);
      const meta = /* @__PURE__ */ Object.create(null);
      if (driver.getMeta) {
        Object.assign(meta, await asyncCall(driver.getMeta, relativeKey, opts));
      }
      if (!opts.nativeOnly) {
        const value = await asyncCall(
          driver.getItem,
          relativeKey + "$",
          opts
        ).then((value_) => destr(value_));
        if (value && typeof value === "object") {
          if (typeof value.atime === "string") {
            value.atime = new Date(value.atime);
          }
          if (typeof value.mtime === "string") {
            value.mtime = new Date(value.mtime);
          }
          Object.assign(meta, value);
        }
      }
      return meta;
    },
    setMeta(key, value, opts = {}) {
      return this.setItem(key + "$", value, opts);
    },
    removeMeta(key, opts = {}) {
      return this.removeItem(key + "$", opts);
    },
    // Keys
    async getKeys(base, opts = {}) {
      base = unstorage_CoCt7NXC_normalizeBaseKey(base);
      const mounts = getMounts(base, true);
      let maskedMounts = [];
      const allKeys = [];
      let allMountsSupportMaxDepth = true;
      for (const mount of mounts) {
        if (!mount.driver.flags?.maxDepth) {
          allMountsSupportMaxDepth = false;
        }
        const rawKeys = await asyncCall(
          mount.driver.getKeys,
          mount.relativeBase,
          opts
        );
        for (const key of rawKeys) {
          const fullKey = mount.mountpoint + normalizeKey(key);
          if (!maskedMounts.some((p) => fullKey.startsWith(p))) {
            allKeys.push(fullKey);
          }
        }
        maskedMounts = [
          mount.mountpoint,
          ...maskedMounts.filter((p) => !p.startsWith(mount.mountpoint))
        ];
      }
      const shouldFilterByDepth = opts.maxDepth !== void 0 && !allMountsSupportMaxDepth;
      return allKeys.filter(
        (key) => (!shouldFilterByDepth || filterKeyByDepth(key, opts.maxDepth)) && filterKeyByBase(key, base)
      );
    },
    // Utils
    async clear(base, opts = {}) {
      base = unstorage_CoCt7NXC_normalizeBaseKey(base);
      await Promise.all(
        getMounts(base, false).map(async (m) => {
          if (m.driver.clear) {
            return asyncCall(m.driver.clear, m.relativeBase, opts);
          }
          if (m.driver.removeItem) {
            const keys = await m.driver.getKeys(m.relativeBase || "", opts);
            return Promise.all(
              keys.map((key) => m.driver.removeItem(key, opts))
            );
          }
        })
      );
    },
    async dispose() {
      await Promise.all(
        Object.values(context.mounts).map((driver) => dispose(driver))
      );
    },
    async watch(callback) {
      await startWatch();
      context.watchListeners.push(callback);
      return async () => {
        context.watchListeners = context.watchListeners.filter(
          (listener) => listener !== callback
        );
        if (context.watchListeners.length === 0) {
          await stopWatch();
        }
      };
    },
    async unwatch() {
      context.watchListeners = [];
      await stopWatch();
    },
    // Mount
    mount(base, driver) {
      base = unstorage_CoCt7NXC_normalizeBaseKey(base);
      if (base && context.mounts[base]) {
        throw new Error(`already mounted at ${base}`);
      }
      if (base) {
        context.mountpoints.push(base);
        context.mountpoints.sort((a, b) => b.length - a.length);
      }
      context.mounts[base] = driver;
      if (context.watching) {
        Promise.resolve(watch(driver, onChange, base)).then((unwatcher) => {
          context.unwatch[base] = unwatcher;
        }).catch(console.error);
      }
      return storage;
    },
    async unmount(base, _dispose = true) {
      base = unstorage_CoCt7NXC_normalizeBaseKey(base);
      if (!base || !context.mounts[base]) {
        return;
      }
      if (context.watching && base in context.unwatch) {
        context.unwatch[base]?.();
        delete context.unwatch[base];
      }
      if (_dispose) {
        await dispose(context.mounts[base]);
      }
      context.mountpoints = context.mountpoints.filter((key) => key !== base);
      delete context.mounts[base];
    },
    getMount(key = "") {
      key = normalizeKey(key) + ":";
      const m = getMount(key);
      return {
        driver: m.driver,
        base: m.base
      };
    },
    getMounts(base = "", opts = {}) {
      base = normalizeKey(base);
      const mounts = getMounts(base, opts.parents);
      return mounts.map((m) => ({
        driver: m.driver,
        base: m.mountpoint
      }));
    },
    // Aliases
    keys: (base, opts = {}) => storage.getKeys(base, opts),
    get: (key, opts = {}) => storage.getItem(key, opts),
    set: (key, value, opts = {}) => storage.setItem(key, value, opts),
    has: (key, opts = {}) => storage.hasItem(key, opts),
    del: (key, opts = {}) => storage.removeItem(key, opts),
    remove: (key, opts = {}) => storage.removeItem(key, opts)
  };
  return storage;
}
async function snapshot(storage, base) {
  base = normalizeBaseKey(base);
  const keys = await storage.getKeys(base);
  const snapshot2 = {};
  await Promise.all(
    keys.map(async (key) => {
      snapshot2[key.slice(base.length)] = await storage.getItem(key);
    })
  );
  return snapshot2;
}
async function restoreSnapshot(driver, snapshot2, base = "") {
  base = normalizeBaseKey(base);
  await Promise.all(
    Object.entries(snapshot2).map((e) => driver.setItem(base + e[0], e[1]))
  );
}
function watch(driver, onChange, base) {
  return driver.watch ? driver.watch((event, key) => onChange(event, base + key)) : () => {
  };
}
async function dispose(driver) {
  if (typeof driver.dispose === "function") {
    await asyncCall(driver.dispose);
  }
}

const builtinDrivers = {
  "azure-app-configuration": "unstorage/drivers/azure-app-configuration",
  "azureAppConfiguration": "unstorage/drivers/azure-app-configuration",
  "azure-cosmos": "unstorage/drivers/azure-cosmos",
  "azureCosmos": "unstorage/drivers/azure-cosmos",
  "azure-key-vault": "unstorage/drivers/azure-key-vault",
  "azureKeyVault": "unstorage/drivers/azure-key-vault",
  "azure-storage-blob": "unstorage/drivers/azure-storage-blob",
  "azureStorageBlob": "unstorage/drivers/azure-storage-blob",
  "azure-storage-table": "unstorage/drivers/azure-storage-table",
  "azureStorageTable": "unstorage/drivers/azure-storage-table",
  "capacitor-preferences": "unstorage/drivers/capacitor-preferences",
  "capacitorPreferences": "unstorage/drivers/capacitor-preferences",
  "cloudflare-kv-binding": "unstorage/drivers/cloudflare-kv-binding",
  "cloudflareKVBinding": "unstorage/drivers/cloudflare-kv-binding",
  "cloudflare-kv-http": "unstorage/drivers/cloudflare-kv-http",
  "cloudflareKVHttp": "unstorage/drivers/cloudflare-kv-http",
  "cloudflare-r2-binding": "unstorage/drivers/cloudflare-r2-binding",
  "cloudflareR2Binding": "unstorage/drivers/cloudflare-r2-binding",
  "db0": "unstorage/drivers/db0",
  "deno-kv-node": "unstorage/drivers/deno-kv-node",
  "denoKVNode": "unstorage/drivers/deno-kv-node",
  "deno-kv": "unstorage/drivers/deno-kv",
  "denoKV": "unstorage/drivers/deno-kv",
  "fs-lite": "unstorage/drivers/fs-lite",
  "fsLite": "unstorage/drivers/fs-lite",
  "fs": "unstorage/drivers/fs",
  "github": "unstorage/drivers/github",
  "http": "unstorage/drivers/http",
  "indexedb": "unstorage/drivers/indexedb",
  "localstorage": "unstorage/drivers/localstorage",
  "lru-cache": "unstorage/drivers/lru-cache",
  "lruCache": "unstorage/drivers/lru-cache",
  "memory": "unstorage/drivers/memory",
  "mongodb": "unstorage/drivers/mongodb",
  "netlify-blobs": "unstorage/drivers/netlify-blobs",
  "netlifyBlobs": "unstorage/drivers/netlify-blobs",
  "null": "unstorage/drivers/null",
  "overlay": "unstorage/drivers/overlay",
  "planetscale": "unstorage/drivers/planetscale",
  "redis": "unstorage/drivers/redis",
  "s3": "unstorage/drivers/s3",
  "session-storage": "unstorage/drivers/session-storage",
  "sessionStorage": "unstorage/drivers/session-storage",
  "uploadthing": "unstorage/drivers/uploadthing",
  "upstash": "unstorage/drivers/upstash",
  "vercel-blob": "unstorage/drivers/vercel-blob",
  "vercelBlob": "unstorage/drivers/vercel-blob",
  "vercel-kv": "unstorage/drivers/vercel-kv",
  "vercelKV": "unstorage/drivers/vercel-kv"
};



;// ./node_modules/idb-keyval/dist/index.js
function promisifyRequest(request) {
    return new Promise((resolve, reject) => {
        // @ts-ignore - file size hacks
        request.oncomplete = request.onsuccess = () => resolve(request.result);
        // @ts-ignore - file size hacks
        request.onabort = request.onerror = () => reject(request.error);
    });
}
function createStore(dbName, storeName) {
    const request = indexedDB.open(dbName);
    request.onupgradeneeded = () => request.result.createObjectStore(storeName);
    const dbp = promisifyRequest(request);
    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));
}
let defaultGetStoreFunc;
function defaultGetStore() {
    if (!defaultGetStoreFunc) {
        defaultGetStoreFunc = createStore('keyval-store', 'keyval');
    }
    return defaultGetStoreFunc;
}
/**
 * Get a value by its key.
 *
 * @param key
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function get(key, customStore = defaultGetStore()) {
    return customStore('readonly', (store) => promisifyRequest(store.get(key)));
}
/**
 * Set a value with a key.
 *
 * @param key
 * @param value
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function set(key, value, customStore = defaultGetStore()) {
    return customStore('readwrite', (store) => {
        store.put(value, key);
        return promisifyRequest(store.transaction);
    });
}
/**
 * Set multiple values at once. This is faster than calling set() multiple times.
 * It's also atomic  if one of the pairs can't be added, none will be added.
 *
 * @param entries Array of entries, where each entry is an array of `[key, value]`.
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function setMany(entries, customStore = defaultGetStore()) {
    return customStore('readwrite', (store) => {
        entries.forEach((entry) => store.put(entry[1], entry[0]));
        return promisifyRequest(store.transaction);
    });
}
/**
 * Get multiple values by their keys
 *
 * @param keys
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function getMany(keys, customStore = defaultGetStore()) {
    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));
}
/**
 * Update a value. This lets you see the old value and update it as an atomic operation.
 *
 * @param key
 * @param updater A callback that takes the old value and returns a new value.
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function update(key, updater, customStore = defaultGetStore()) {
    return customStore('readwrite', (store) => 
    // Need to create the promise manually.
    // If I try to chain promises, the transaction closes in browsers
    // that use a promise polyfill (IE10/11).
    new Promise((resolve, reject) => {
        store.get(key).onsuccess = function () {
            try {
                store.put(updater(this.result), key);
                resolve(promisifyRequest(store.transaction));
            }
            catch (err) {
                reject(err);
            }
        };
    }));
}
/**
 * Delete a particular key from the store.
 *
 * @param key
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function del(key, customStore = defaultGetStore()) {
    return customStore('readwrite', (store) => {
        store.delete(key);
        return promisifyRequest(store.transaction);
    });
}
/**
 * Delete multiple keys at once.
 *
 * @param keys List of keys to delete.
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function delMany(keys, customStore = defaultGetStore()) {
    return customStore('readwrite', (store) => {
        keys.forEach((key) => store.delete(key));
        return promisifyRequest(store.transaction);
    });
}
/**
 * Clear all values in the store.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function clear(customStore = defaultGetStore()) {
    return customStore('readwrite', (store) => {
        store.clear();
        return promisifyRequest(store.transaction);
    });
}
function eachCursor(store, callback) {
    store.openCursor().onsuccess = function () {
        if (!this.result)
            return;
        callback(this.result);
        this.result.continue();
    };
    return promisifyRequest(store.transaction);
}
/**
 * Get all keys in the store.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function keys(customStore = defaultGetStore()) {
    return customStore('readonly', (store) => {
        // Fast path for modern browsers
        if (store.getAllKeys) {
            return promisifyRequest(store.getAllKeys());
        }
        const items = [];
        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);
    });
}
/**
 * Get all values in the store.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function values(customStore = defaultGetStore()) {
    return customStore('readonly', (store) => {
        // Fast path for modern browsers
        if (store.getAll) {
            return promisifyRequest(store.getAll());
        }
        const items = [];
        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);
    });
}
/**
 * Get all entries in the store. Each entry is an array of `[key, value]`.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function entries(customStore = defaultGetStore()) {
    return customStore('readonly', (store) => {
        // Fast path for modern browsers
        // (although, hopefully we'll get a simpler path some day)
        if (store.getAll && store.getAllKeys) {
            return Promise.all([
                promisifyRequest(store.getAllKeys()),
                promisifyRequest(store.getAll()),
            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));
        }
        const items = [];
        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));
    });
}



;// ./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js
function index_es_C(i){return i}const index_es_x="idb-keyval";var z=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:"",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=createStore(i.dbName,i.storeName)),{name:index_es_x,options:i,async hasItem(s){return!(typeof await get(e(s),n)>"u")},async getItem(s){return await get(e(s),n)??null},setItem(s,a){return set(e(s),a,n)},removeItem(s){return del(e(s),n)},getKeys(){return keys(n)},clear(){return clear(n)}}};const D="WALLET_CONNECT_V2_INDEXED_DB",index_es_E="keyvaluestorage";class index_es_{constructor(){this.indexedDb=createStorage({driver:z({dbName:D,storeName:index_es_E})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,safeJsonStringify(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var index_es_l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},index_es_c={exports:{}};(function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(n){e[n]=void 0,delete e[n]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof index_es_l<"u"&&index_es_l.localStorage?index_es_c.exports=index_es_l.localStorage:typeof window<"u"&&window.localStorage?index_es_c.exports=window.localStorage:index_es_c.exports=new t})();function dist_index_es_k(i){var t;return[i[0],safeJsonParse((t=i[1])!=null?t:"")]}class dist_index_es_K{constructor(){this.localStorage=index_es_c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(dist_index_es_k)}async getItem(t){const e=this.localStorage.getItem(t);if(e!==null)return safeJsonParse(e)}async setItem(t,e){this.localStorage.setItem(t,safeJsonStringify(e))}async removeItem(t){this.localStorage.removeItem(t)}}const index_es_N="wc_storage_version",y=1,O=async(i,t,e)=>{const n=index_es_N,s=await t.getItem(n);if(s&&s>=y){e(t);return}const a=await i.getKeys();if(!a.length){e(t);return}const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes("wc@")||o.includes("walletconnect")||o.includes("wc_")||o.includes("wallet_connect")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r)}}await t.setItem(n,y),e(t),index_es_j(i,m)},index_es_j=async(i,t)=>{t.length&&t.forEach(async e=>{await i.removeItem(e)})};class index_es_h{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new dist_index_es_K;this.storage=t;try{const e=new index_es_;O(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t())},20)})}}
//# sourceMappingURL=index.es.js.map

// EXTERNAL MODULE: ./node_modules/pino/pino.js
var pino = __webpack_require__(894308);
var pino_default = /*#__PURE__*/__webpack_require__.n(pino);
;// ./node_modules/@walletconnect/logger/dist/index.es.js
const dist_index_es_c={level:"info"},logger_dist_index_es_n="custom_context",dist_index_es_l=1e3*1024;class index_es_O{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class index_es_d{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new index_es_O(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class L{constructor(e,t=dist_index_es_l){this.level=e??"error",this.levelValue=pino.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new index_es_d(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===pino.levels.values.error?console.error(e):t===pino.levels.values.warn?console.warn(e):t===pino.levels.values.debug?console.debug(e):t===pino.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new index_es_d(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(safeJsonStringify({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class index_es_m{constructor(e,t=dist_index_es_l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),o=document.createElement("a");o.href=t,o.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}}class B{constructor(e,t=dist_index_es_l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var dist_index_es_x=Object.defineProperty,index_es_S=Object.defineProperties,dist_index_es_=Object.getOwnPropertyDescriptors,index_es_p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,index_es_z=Object.prototype.propertyIsEnumerable,index_es_f=(r,e,t)=>e in r?dist_index_es_x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i=(r,e)=>{for(var t in e||(e={}))T.call(e,t)&&index_es_f(r,t,e[t]);if(index_es_p)for(var t of index_es_p(e))index_es_z.call(e,t)&&index_es_f(r,t,e[t]);return r},index_es_g=(r,e)=>index_es_S(r,dist_index_es_(e));function logger_dist_index_es_k(r){return index_es_g(i({},r),{level:r?.level||dist_index_es_c.level})}function v(r,e=logger_dist_index_es_n){return r[e]||""}function index_es_b(r,e,t=logger_dist_index_es_n){return r[t]=e,r}function index_es_y(r,e=logger_dist_index_es_n){let t="";return typeof r.bindings>"u"?t=v(r,e):t=r.bindings().context||"",t}function index_es_w(r,e,t=logger_dist_index_es_n){const o=index_es_y(r,t);return o.trim()?`${o}/${e}`:e}function dist_index_es_E(r,e,t=logger_dist_index_es_n){const o=index_es_w(r,e,t),a=r.child({context:o});return index_es_b(a,o,t)}function dist_index_es_C(r){var e,t;const o=new index_es_m((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino_default()(index_es_g(i({},r.opts),{level:"trace",browser:index_es_g(i({},(t=r.opts)==null?void 0:t.browser),{write:a=>o.write(a)})})),chunkLoggerController:o}}function I(r){var e;const t=new B((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino_default()(index_es_g(i({},r.opts),{level:"trace"}),t),chunkLoggerController:t}}function A(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?dist_index_es_C(r):I(r)}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/sign-client/node_modules/@walletconnect/types/dist/index.es.js
var index_es_a=Object.defineProperty,index_es_u=(e,s,r)=>s in e?index_es_a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,types_dist_index_es_c=(e,s,r)=>index_es_u(e,typeof s!="symbol"?s+"":s,r);class dist_index_es_h extends IEvents{constructor(s){super(),this.opts=s,types_dist_index_es_c(this,"protocol","wc"),types_dist_index_es_c(this,"version",2)}}class dist_index_es_g{constructor(s,r,t){this.core=s,this.logger=r}}var dist_index_es_p=Object.defineProperty,dist_index_es_b=(e,s,r)=>s in e?dist_index_es_p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,index_es_v=(e,s,r)=>dist_index_es_b(e,typeof s!="symbol"?s+"":s,r);class index_es_I extends IEvents{constructor(s,r){super(),this.core=s,this.logger=r,index_es_v(this,"records",new Map)}}class dist_index_es_y{constructor(s,r){this.logger=s,this.core=r}}class dist_index_es_m extends IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class dist_index_es_d extends IEvents{constructor(s){super()}}class dist_index_es_f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var types_dist_index_es_E=Object.defineProperty,types_dist_index_es_x=(e,s,r)=>s in e?types_dist_index_es_E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,dist_index_es_w=(e,s,r)=>types_dist_index_es_x(e,typeof s!="symbol"?s+"":s,r);class types_dist_index_es_C{constructor(){dist_index_es_w(this,"map",new Map)}}class dist_index_es_P extends IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class dist_index_es_j{constructor(s,r){this.core=s,this.logger=r}}class dist_index_es_S extends IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class index_es_M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class dist_index_es_O{constructor(s,r){this.projectId=s,this.logger=r}}class index_es_R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var index_es_T=Object.defineProperty,types_dist_index_es_k=(e,s,r)=>s in e?index_es_T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,dist_index_es_i=(e,s,r)=>types_dist_index_es_k(e,typeof s!="symbol"?s+"":s,r);class dist_index_es_H extends (external_events_default()){constructor(){super()}}class index_es_J{constructor(s){this.opts=s,dist_index_es_i(this,"protocol","wc"),dist_index_es_i(this,"version",2)}}class types_dist_index_es_K extends external_events_.EventEmitter{constructor(){super()}}class index_es_V{constructor(s){this.client=s}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js
const PARSE_ERROR = "PARSE_ERROR";
const INVALID_REQUEST = "INVALID_REQUEST";
const METHOD_NOT_FOUND = "METHOD_NOT_FOUND";
const INVALID_PARAMS = "INVALID_PARAMS";
const INTERNAL_ERROR = "INTERNAL_ERROR";
const SERVER_ERROR = "SERVER_ERROR";
const RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];
const constants_SERVER_ERROR_CODE_RANGE = (/* unused pure expression or super */ null && ([-32000, -32099]));
const constants_STANDARD_ERROR_MAP = {
    [PARSE_ERROR]: { code: -32700, message: "Parse error" },
    [INVALID_REQUEST]: { code: -32600, message: "Invalid Request" },
    [METHOD_NOT_FOUND]: { code: -32601, message: "Method not found" },
    [INVALID_PARAMS]: { code: -32602, message: "Invalid params" },
    [INTERNAL_ERROR]: { code: -32603, message: "Internal error" },
    [SERVER_ERROR]: { code: -32000, message: "Server error" },
};
const constants_DEFAULT_ERROR = SERVER_ERROR;
//# sourceMappingURL=constants.js.map
;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js

function isServerErrorCode(code) {
    return code <= SERVER_ERROR_CODE_RANGE[0] && code >= SERVER_ERROR_CODE_RANGE[1];
}
function isReservedErrorCode(code) {
    return RESERVED_ERROR_CODES.includes(code);
}
function isValidErrorCode(code) {
    return typeof code === "number";
}
function getError(type) {
    if (!Object.keys(constants_STANDARD_ERROR_MAP).includes(type)) {
        return constants_STANDARD_ERROR_MAP[constants_DEFAULT_ERROR];
    }
    return constants_STANDARD_ERROR_MAP[type];
}
function getErrorByCode(code) {
    const match = Object.values(constants_STANDARD_ERROR_MAP).find(e => e.code === code);
    if (!match) {
        return constants_STANDARD_ERROR_MAP[constants_DEFAULT_ERROR];
    }
    return match;
}
function validateJsonRpcError(response) {
    if (typeof response.error.code === "undefined") {
        return { valid: false, error: "Missing code for JSON-RPC error" };
    }
    if (typeof response.error.message === "undefined") {
        return { valid: false, error: "Missing message for JSON-RPC error" };
    }
    if (!isValidErrorCode(response.error.code)) {
        return {
            valid: false,
            error: `Invalid error code type for JSON-RPC: ${response.error.code}`,
        };
    }
    if (isReservedErrorCode(response.error.code)) {
        const error = getErrorByCode(response.error.code);
        if (error.message !== STANDARD_ERROR_MAP[DEFAULT_ERROR].message &&
            response.error.message === error.message) {
            return {
                valid: false,
                error: `Invalid error code message for JSON-RPC: ${response.error.code}`,
            };
        }
    }
    return { valid: true };
}
function parseConnectionError(e, url, type) {
    return e.message.includes("getaddrinfo ENOTFOUND") || e.message.includes("connect ECONNREFUSED")
        ? new Error(`Unavailable ${type} RPC url at ${url}`)
        : e;
}
//# sourceMappingURL=error.js.map
// EXTERNAL MODULE: ./node_modules/@walletconnect/environment/dist/cjs/index.js
var environment_dist_cjs = __webpack_require__(525682);
;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js

const isNodeJs = (/* unused pure expression or super */ null && (isNode));

//# sourceMappingURL=env.js.map
;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js


function payloadId(entropy = 3) {
    const date = Date.now() * Math.pow(10, entropy);
    const extra = Math.floor(Math.random() * Math.pow(10, entropy));
    return date + extra;
}
function getBigIntRpcId(entropy = 6) {
    return BigInt(payloadId(entropy));
}
function formatJsonRpcRequest(method, params, id) {
    return {
        id: id || payloadId(),
        jsonrpc: "2.0",
        method,
        params,
    };
}
function formatJsonRpcResult(id, result) {
    return {
        id,
        jsonrpc: "2.0",
        result,
    };
}
function formatJsonRpcError(id, error, data) {
    return {
        id,
        jsonrpc: "2.0",
        error: formatErrorMessage(error, data),
    };
}
function formatErrorMessage(error, data) {
    if (typeof error === "undefined") {
        return getError(INTERNAL_ERROR);
    }
    if (typeof error === "string") {
        error = Object.assign(Object.assign({}, getError(SERVER_ERROR)), { message: error });
    }
    if (typeof data !== "undefined") {
        error.data = data;
    }
    if (isReservedErrorCode(error.code)) {
        error = getErrorByCode(error.code);
    }
    return error;
}
//# sourceMappingURL=format.js.map
;// ./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js
class dist_index_es_e{}class dist_index_es_o extends dist_index_es_e{constructor(c){super()}}class jsonrpc_types_dist_index_es_n extends dist_index_es_e{constructor(){super()}}class dist_index_es_r extends jsonrpc_types_dist_index_es_n{constructor(c){super()}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js

//# sourceMappingURL=types.js.map
;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js
const HTTP_REGEX = "^https?:";
const WS_REGEX = "^wss?:";
function getUrlProtocol(url) {
    const matches = url.match(new RegExp(/^\w+:/, "gi"));
    if (!matches || !matches.length)
        return;
    return matches[0];
}
function matchRegexProtocol(url, regex) {
    const protocol = getUrlProtocol(url);
    if (typeof protocol === "undefined")
        return false;
    return new RegExp(regex).test(protocol);
}
function isHttpUrl(url) {
    return matchRegexProtocol(url, HTTP_REGEX);
}
function isWsUrl(url) {
    return matchRegexProtocol(url, WS_REGEX);
}
function isLocalhostUrl(url) {
    return new RegExp("wss?://localhost(:d{2,5})?").test(url);
}
//# sourceMappingURL=url.js.map
;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js
function isJsonRpcPayload(payload) {
    return (typeof payload === "object" &&
        "id" in payload &&
        "jsonrpc" in payload &&
        payload.jsonrpc === "2.0");
}
function isJsonRpcRequest(payload) {
    return isJsonRpcPayload(payload) && "method" in payload;
}
function isJsonRpcResponse(payload) {
    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));
}
function isJsonRpcResult(payload) {
    return "result" in payload;
}
function isJsonRpcError(payload) {
    return "error" in payload;
}
function isJsonRpcValidationInvalid(validation) {
    return "error" in validation && validation.valid === false;
}
//# sourceMappingURL=validators.js.map
;// ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js








//# sourceMappingURL=index.js.map
;// ./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js
class jsonrpc_provider_dist_index_es_o extends dist_index_es_r{constructor(t){super(t),this.events=new external_events_.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict(formatJsonRpcRequest(t.method,t.params||[],t.id||getBigIntRpcId().toString()),e)}async requestStrict(t,e){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${t.id}`,n=>{isJsonRpcError(n)?s(n.error):i(n.result)});try{await this.connection.send(t,e)}catch(n){s(n)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),isJsonRpcResponse(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js
const dist_index_es_v=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:__webpack_require__(792784),jsonrpc_ws_connection_dist_index_es_w=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",jsonrpc_ws_connection_dist_index_es_d=r=>r.split("?")[0],jsonrpc_ws_connection_dist_index_es_h=10,jsonrpc_ws_connection_dist_index_es_b=dist_index_es_v();class jsonrpc_ws_connection_dist_index_es_f{constructor(e){if(this.url=e,this.events=new external_events_.EventEmitter,this.registering=!1,!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const s=(0,environment_dist_cjs.isReactNative)()?void 0:{rejectUnauthorized:!isLocalhostUrl(e)},o=new jsonrpc_ws_connection_dist_index_es_b(e,[],s);jsonrpc_ws_connection_dist_index_es_w()?o.onerror=i=>{const a=i;n(this.emitError(a.error))}:o.on("error",i=>{n(this.emitError(i))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?safeJsonParse(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=formatJsonRpcError(e,s);this.events.emit("payload",o)}parseError(e,t=this.url){return parseConnectionError(e,jsonrpc_ws_connection_dist_index_es_d(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>jsonrpc_ws_connection_dist_index_es_h&&this.events.setMaxListeners(jsonrpc_ws_connection_dist_index_es_h)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${jsonrpc_ws_connection_dist_index_es_d(this.url)}`));return this.events.emit("register_error",t),t}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/sign-client/node_modules/@walletconnect/core/dist/index.es.js
const dist_index_es_ze="wc",dist_index_es_Le=2,dist_index_es_he="core",index_es_B=`${dist_index_es_ze}@2:${dist_index_es_he}:`,dist_index_es_Et={name:dist_index_es_he,logger:"error"},dist_index_es_It={database:":memory:"},dist_index_es_Tt="crypto",dist_index_es_ke="client_ed25519_seed",index_es_Ct=cjs.ONE_DAY,dist_index_es_Pt="keychain",dist_index_es_St="0.3",dist_index_es_Rt="messages",dist_index_es_Ot="0.3",dist_index_es_je=cjs.SIX_HOURS,index_es_At="publisher",dist_index_es_xt="irn",dist_index_es_Nt="error",dist_index_es_Ue="wss://relay.walletconnect.org",dist_index_es_$t="relayer",core_dist_index_es_C={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},index_es_zt="_subscription",index_es_L={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dist_index_es_Lt=.1,index_es_qs={database:":memory:"},core_dist_index_es_e="2.20.2",index_es_Gs=1e4,index_es_Q={link_mode:"link_mode",relay:"relay"},dist_index_es_le={inbound:"inbound",outbound:"outbound"},core_dist_index_es_kt="0.3",dist_index_es_jt="WALLETCONNECT_CLIENT_ID",dist_index_es_Fe="WALLETCONNECT_LINK_MODE_APPS",index_es_$={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},index_es_Ws=(/* unused pure expression or super */ null && (Ce)),index_es_Ut="subscription",index_es_Ft="0.3",index_es_Hs=cjs.FIVE_SECONDS*1e3,dist_index_es_Mt="pairing",dist_index_es_Kt="0.3",index_es_Ys=(/* unused pure expression or super */ null && (Ce)),index_es_ie={wc_pairingDelete:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:0}}},index_es_se={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},index_es_F={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},dist_index_es_Bt="history",dist_index_es_Vt="0.3",dist_index_es_qt="expirer",dist_index_es_M={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},dist_index_es_Gt="0.3",index_es_Js=(/* unused pure expression or super */ null && (te)),dist_index_es_Wt="verify-api",index_es_Xs="https://verify.walletconnect.com",dist_index_es_Ht="https://verify.walletconnect.org",index_es_ue=dist_index_es_Ht,dist_index_es_Yt=`${index_es_ue}/v3`,dist_index_es_Jt=[index_es_Xs,dist_index_es_Ht],dist_index_es_Xt="echo",index_es_Zt="https://echo.walletconnect.com",index_es_Zs="event-client",dist_index_es_G={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},index_es_Y={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},index_es_Qs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},dist_index_es_er={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},dist_index_es_tr={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},dist_index_es_ir={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},dist_index_es_Qt=.1,index_es_ei="event-client",index_es_ti=86400,index_es_ii="https://pulse.walletconnect.org/batch";function dist_index_es_sr(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+" is ambiguous");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var b=0,x=0,I=0,D=u.length;I!==D&&u[I]===0;)I++,b++;for(var j=(D-I)*l+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=u[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error("Non-zero carry");x=J,I++}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var b=0;if(u[b]!==" "){for(var x=0,I=0;u[b]===c;)x++,b++;for(var D=(u.length-b)*h+1>>>0,j=new Uint8Array(D);u[b];){var T=t[u.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");I=q,b++}if(u[b]!==" "){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(u){var b=g(u);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:_}}var dist_index_es_rr=dist_index_es_sr,dist_index_es_nr=dist_index_es_rr;const index_es_si=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},dist_index_es_or=r=>new TextEncoder().encode(r),dist_index_es_ar=r=>new TextDecoder().decode(r);class dist_index_es_cr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dist_index_es_hr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return index_es_ri(this,e)}}class dist_index_es_lr{constructor(e){this.decoders=e}or(e){return index_es_ri(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const index_es_ri=(r,e)=>new dist_index_es_lr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class dist_index_es_ur{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new dist_index_es_cr(e,t,i),this.decoder=new dist_index_es_hr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const dist_index_es_Ee=({name:r,prefix:e,encode:t,decode:i})=>new dist_index_es_ur(r,e,t,i),dist_index_es_de=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=dist_index_es_nr(t,e);return dist_index_es_Ee({prefix:r,name:e,encode:i,decode:n=>index_es_si(s(n))})},dist_index_es_dr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]==="=";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const d=s[r[l]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},dist_index_es_gr=(r,e,t)=>{const i=e[e.length-1]==="=",s=(1<<t)-1;let n="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+="=";return n},core_dist_index_es_P=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>dist_index_es_Ee({prefix:e,name:r,encode(s){return dist_index_es_gr(s,i,t)},decode(s){return dist_index_es_dr(s,i,t,r)}}),dist_index_es_pr=dist_index_es_Ee({prefix:"\0",name:"identity",encode:r=>dist_index_es_ar(r),decode:r=>dist_index_es_or(r)});var dist_index_es_yr=Object.freeze({__proto__:null,identity:dist_index_es_pr});const dist_index_es_br=core_dist_index_es_P({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var dist_index_es_mr=Object.freeze({__proto__:null,base2:dist_index_es_br});const dist_index_es_fr=core_dist_index_es_P({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var dist_index_es_Dr=Object.freeze({__proto__:null,base8:dist_index_es_fr});const dist_index_es_vr=dist_index_es_de({prefix:"9",name:"base10",alphabet:"0123456789"});var dist_index_es_wr=Object.freeze({__proto__:null,base10:dist_index_es_vr});const core_dist_index_es_r=core_dist_index_es_P({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dist_index_es_Er=core_dist_index_es_P({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var dist_index_es_Ir=Object.freeze({__proto__:null,base16:core_dist_index_es_r,base16upper:dist_index_es_Er});const dist_index_es_Tr=core_dist_index_es_P({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dist_index_es_Cr=core_dist_index_es_P({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dist_index_es_Pr=core_dist_index_es_P({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dist_index_es_Sr=core_dist_index_es_P({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dist_index_es_Rr=core_dist_index_es_P({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dist_index_es_Or=core_dist_index_es_P({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dist_index_es_Ar=core_dist_index_es_P({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dist_index_es_xr=core_dist_index_es_P({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dist_index_es_Nr=core_dist_index_es_P({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dist_index_es_$r=Object.freeze({__proto__:null,base32:dist_index_es_Tr,base32upper:dist_index_es_Cr,base32pad:dist_index_es_Pr,base32padupper:dist_index_es_Sr,base32hex:dist_index_es_Rr,base32hexupper:dist_index_es_Or,base32hexpad:dist_index_es_Ar,base32hexpadupper:dist_index_es_xr,base32z:dist_index_es_Nr});const dist_index_es_zr=dist_index_es_de({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dist_index_es_Lr=dist_index_es_de({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var dist_index_es_kr=Object.freeze({__proto__:null,base36:dist_index_es_zr,base36upper:dist_index_es_Lr});const dist_index_es_jr=dist_index_es_de({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dist_index_es_Ur=dist_index_es_de({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var dist_index_es_Fr=Object.freeze({__proto__:null,base58btc:dist_index_es_jr,base58flickr:dist_index_es_Ur});const dist_index_es_Mr=core_dist_index_es_P({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dist_index_es_Kr=core_dist_index_es_P({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dist_index_es_Br=core_dist_index_es_P({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dist_index_es_Vr=core_dist_index_es_P({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var dist_index_es_qr=Object.freeze({__proto__:null,base64:dist_index_es_Mr,base64pad:dist_index_es_Kr,base64url:dist_index_es_Br,base64urlpad:dist_index_es_Vr});const index_es_ni=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),dist_index_es_Gr=index_es_ni.reduce((r,e,t)=>(r[t]=e,r),[]),dist_index_es_Wr=index_es_ni.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function dist_index_es_Hr(r){return r.reduce((e,t)=>(e+=dist_index_es_Gr[t],e),"")}function dist_index_es_Yr(r){const e=[];for(const t of r){const i=dist_index_es_Wr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const dist_index_es_Jr=dist_index_es_Ee({prefix:"\u{1F680}",name:"base256emoji",encode:dist_index_es_Hr,decode:dist_index_es_Yr});var dist_index_es_Xr=Object.freeze({__proto__:null,base256emoji:dist_index_es_Jr}),dist_index_es_Zr=index_es_ai,index_es_oi=128,dist_index_es_Qr=127,dist_index_es_en=~dist_index_es_Qr,dist_index_es_tn=Math.pow(2,31);function index_es_ai(r,e,t){e=e||[],t=t||0;for(var i=t;r>=dist_index_es_tn;)e[t++]=r&255|index_es_oi,r/=128;for(;r&dist_index_es_en;)e[t++]=r&255|index_es_oi,r>>>=7;return e[t]=r|0,index_es_ai.bytes=t-i+1,e}var dist_index_es_sn=dist_index_es_Me,dist_index_es_rn=128,index_es_ci=127;function dist_index_es_Me(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw dist_index_es_Me.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=s<28?(o&index_es_ci)<<s:(o&index_es_ci)*Math.pow(2,s),s+=7}while(o>=dist_index_es_rn);return dist_index_es_Me.bytes=n-i,t}var dist_index_es_nn=Math.pow(2,7),dist_index_es_on=Math.pow(2,14),index_es_an=Math.pow(2,21),index_es_cn=Math.pow(2,28),index_es_hn=Math.pow(2,35),index_es_ln=Math.pow(2,42),index_es_un=Math.pow(2,49),index_es_dn=Math.pow(2,56),dist_index_es_gn=Math.pow(2,63),index_es_pn=function(r){return r<dist_index_es_nn?1:r<dist_index_es_on?2:r<index_es_an?3:r<index_es_cn?4:r<index_es_hn?5:r<index_es_ln?6:r<index_es_un?7:r<index_es_dn?8:r<dist_index_es_gn?9:10},dist_index_es_yn={encode:dist_index_es_Zr,decode:dist_index_es_sn,encodingLength:index_es_pn},index_es_hi=dist_index_es_yn;const index_es_li=(r,e,t=0)=>(index_es_hi.encode(r,e,t),e),index_es_ui=r=>index_es_hi.encodingLength(r),dist_index_es_Ke=(r,e)=>{const t=e.byteLength,i=index_es_ui(r),s=i+index_es_ui(t),n=new Uint8Array(s+t);return index_es_li(r,n,0),index_es_li(t,n,i),n.set(e,s),new index_es_bn(r,t,e,n)};class index_es_bn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const index_es_di=({name:r,code:e,encode:t})=>new dist_index_es_mn(r,e,t);class dist_index_es_mn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?dist_index_es_Ke(this.code,t):t.then(i=>dist_index_es_Ke(this.code,i))}else throw Error("Unknown type, must be binary type")}}const index_es_gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),index_es_fn=index_es_di({name:"sha2-256",code:18,encode:index_es_gi("SHA-256")}),index_es_Dn=index_es_di({name:"sha2-512",code:19,encode:index_es_gi("SHA-512")});var index_es_vn=Object.freeze({__proto__:null,sha256:index_es_fn,sha512:index_es_Dn});const index_es_pi=0,index_es_wn="identity",index_es_yi=index_es_si,core_dist_index_es_n=r=>dist_index_es_Ke(index_es_pi,index_es_yi(r)),dist_index_es_En={code:index_es_pi,name:index_es_wn,encode:index_es_yi,digest:core_dist_index_es_n};var dist_index_es_In=Object.freeze({__proto__:null,identity:dist_index_es_En});new TextEncoder,new TextDecoder;const index_es_bi={...dist_index_es_yr,...dist_index_es_mr,...dist_index_es_Dr,...dist_index_es_wr,...dist_index_es_Ir,...dist_index_es_$r,...dist_index_es_kr,...dist_index_es_Fr,...dist_index_es_qr,...dist_index_es_Xr};({...index_es_vn,...dist_index_es_In});function dist_index_es_Tn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function index_es_mi(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const index_es_fi=index_es_mi("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),index_es_Be=index_es_mi("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=dist_index_es_Tn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),dist_index_es_Cn={utf8:index_es_fi,"utf-8":index_es_fi,hex:index_es_bi.base16,latin1:index_es_Be,ascii:index_es_Be,binary:index_es_Be,...index_es_bi};function dist_index_es_Pn(r,e="utf8"){const t=dist_index_es_Cn[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var index_es_Sn=Object.defineProperty,dist_index_es_Rn=(r,e,t)=>e in r?index_es_Sn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_W=(r,e,t)=>dist_index_es_Rn(r,typeof e!="symbol"?e+"":e,t);class index_es_Di{constructor(e,t){this.core=e,this.logger=t,index_es_W(this,"keychain",new Map),index_es_W(this,"name",dist_index_es_Pt),index_es_W(this,"version",dist_index_es_St),index_es_W(this,"initialized",!1),index_es_W(this,"storagePrefix",index_es_B),index_es_W(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),index_es_W(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),index_es_W(this,"set",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),index_es_W(this,"get",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>"u"){const{message:n}=index_es_ht("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(n)}return s}),index_es_W(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=dist_index_es_E(t,this.name)}get context(){return index_es_y(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fi(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?li(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dist_index_es_On=Object.defineProperty,dist_index_es_An=(r,e,t)=>e in r?dist_index_es_On(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,core_dist_index_es_S=(r,e,t)=>dist_index_es_An(r,typeof e!="symbol"?e+"":e,t);class index_es_vi{constructor(e,t,i){this.core=e,this.logger=t,core_dist_index_es_S(this,"name",dist_index_es_Tt),core_dist_index_es_S(this,"keychain"),core_dist_index_es_S(this,"randomSessionIdentifier",jc()),core_dist_index_es_S(this,"initialized",!1),core_dist_index_es_S(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),core_dist_index_es_S(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),core_dist_index_es_S(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=Po(s);return Qe(n.publicKey)}),core_dist_index_es_S(this,"generateKeyPair",()=>{this.isInitialized();const s=Lc();return this.setPrivateKey(s.publicKey,s.privateKey)}),core_dist_index_es_S(this,"signJWT",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=Po(n),a=this.randomSessionIdentifier,c=index_es_Ct;return await Qo(a,s,c,o)}),core_dist_index_es_S(this,"generateSharedKey",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Cc(a,n);return this.setSymKey(c,o)}),core_dist_index_es_S(this,"setSymKey",async(s,n)=>{this.isInitialized();const o=n||Pc(s);return await this.keychain.set(o,s),o}),core_dist_index_es_S(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),core_dist_index_es_S(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),core_dist_index_es_S(this,"encode",async(s,n,o)=>{this.isInitialized();const a=index_es_oo(o),c=safeJsonStringify(n);if(Fc(a))return Dc(c,o?.encoding);if(Kc(a)){const g=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(g,_)}const h=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return Vc({type:l,symKey:h,message:c,senderPublicKey:d,encoding:o?.encoding})}),core_dist_index_es_S(this,"decode",async(s,n,o)=>{this.isInitialized();const a=qc(n,o);if(Fc(a)){const c=Hc(n,o?.encoding);return safeJsonParse(c)}if(Kc(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=Mc({symKey:c,encoded:n,encoding:o?.encoding});return safeJsonParse(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),core_dist_index_es_S(this,"getPayloadType",(s,n=index_es_Ht)=>{const o=index_es_ve({encoded:s,encoding:n});return index_es_Bt(o.type)}),core_dist_index_es_S(this,"getPayloadSenderPublicKey",(s,n=index_es_Ht)=>{const o=index_es_ve({encoded:s,encoding:n});return o.senderPublicKey?to_string_toString(o.senderPublicKey,index_es_G):void 0}),this.core=e,this.logger=dist_index_es_E(t,this.name),this.keychain=i||new index_es_Di(this.core,this.logger)}get context(){return index_es_y(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(dist_index_es_ke)}catch{e=jc(),await this.keychain.set(dist_index_es_ke,e)}return dist_index_es_Pn(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var index_es_xn=Object.defineProperty,dist_index_es_Nn=Object.defineProperties,dist_index_es_$n=Object.getOwnPropertyDescriptors,index_es_wi=Object.getOwnPropertySymbols,dist_index_es_zn=Object.prototype.hasOwnProperty,dist_index_es_Ln=Object.prototype.propertyIsEnumerable,dist_index_es_Ve=(r,e,t)=>e in r?index_es_xn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dist_index_es_kn=(r,e)=>{for(var t in e||(e={}))dist_index_es_zn.call(e,t)&&dist_index_es_Ve(r,t,e[t]);if(index_es_wi)for(var t of index_es_wi(e))dist_index_es_Ln.call(e,t)&&dist_index_es_Ve(r,t,e[t]);return r},dist_index_es_jn=(r,e)=>dist_index_es_Nn(r,dist_index_es_$n(e)),core_dist_index_es_k=(r,e,t)=>dist_index_es_Ve(r,typeof e!="symbol"?e+"":e,t);class core_dist_index_es_i extends dist_index_es_y{constructor(e,t){super(e,t),this.logger=e,this.core=t,core_dist_index_es_k(this,"messages",new Map),core_dist_index_es_k(this,"messagesWithoutClientAck",new Map),core_dist_index_es_k(this,"name",dist_index_es_Rt),core_dist_index_es_k(this,"version",dist_index_es_Ot),core_dist_index_es_k(this,"initialized",!1),core_dist_index_es_k(this,"storagePrefix",index_es_B),core_dist_index_es_k(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),core_dist_index_es_k(this,"set",async(i,s,n)=>{this.isInitialized();const o=kc(s);let a=this.messages.get(i);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(i,a),n===dist_index_es_le.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,dist_index_es_jn(dist_index_es_kn({},c),{[o]:s}))}return await this.persist(),o}),core_dist_index_es_k(this,"get",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>"u"&&(s={}),s}),core_dist_index_es_k(this,"getWithoutAck",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),core_dist_index_es_k(this,"has",(i,s)=>{this.isInitialized();const n=this.get(i),o=kc(s);return typeof n[o]<"u"}),core_dist_index_es_k(this,"ack",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>"u")return;const o=kc(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),core_dist_index_es_k(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=dist_index_es_E(e,this.name),this.core=t}get context(){return index_es_y(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fi(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,fi(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?li(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?li(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dist_index_es_Un=Object.defineProperty,dist_index_es_Fn=Object.defineProperties,dist_index_es_Mn=Object.getOwnPropertyDescriptors,index_es_Ei=Object.getOwnPropertySymbols,dist_index_es_Kn=Object.prototype.hasOwnProperty,dist_index_es_Bn=Object.prototype.propertyIsEnumerable,dist_index_es_qe=(r,e,t)=>e in r?dist_index_es_Un(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dist_index_es_Ie=(r,e)=>{for(var t in e||(e={}))dist_index_es_Kn.call(e,t)&&dist_index_es_qe(r,t,e[t]);if(index_es_Ei)for(var t of index_es_Ei(e))dist_index_es_Bn.call(e,t)&&dist_index_es_qe(r,t,e[t]);return r},dist_index_es_Ge=(r,e)=>dist_index_es_Fn(r,dist_index_es_Mn(e)),dist_index_es_V=(r,e,t)=>dist_index_es_qe(r,typeof e!="symbol"?e+"":e,t);class dist_index_es_Vn extends dist_index_es_m{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,dist_index_es_V(this,"events",new external_events_.EventEmitter),dist_index_es_V(this,"name",index_es_At),dist_index_es_V(this,"queue",new Map),dist_index_es_V(this,"publishTimeout",(0,cjs.toMiliseconds)(cjs.ONE_MINUTE)),dist_index_es_V(this,"initialPublishTimeout",(0,cjs.toMiliseconds)(cjs.ONE_SECOND*15)),dist_index_es_V(this,"needsTransportRestart",!1),dist_index_es_V(this,"publish",async(i,s,n)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:n}});const a=n?.ttl||dist_index_es_je,c=Zc(n),h=n?.prompt||!1,l=n?.tag||0,d=n?.id||getBigIntRpcId().toString(),g={topic:i,message:s,opts:{ttl:a,relay:c,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}},_=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const u=new Promise(async b=>{const x=({id:D})=>{g.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(core_dist_index_es_C.publish,x),b(g))};this.relayer.events.on(core_dist_index_es_C.publish,x);const I=yi(new Promise((D,j)=>{this.rpcPublish({topic:i,message:s,ttl:a,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(D).catch(T=>{this.logger.warn(T,T?.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await I,this.events.removeListener(core_dist_index_es_C.publish,x)}catch(D){this.queue.set(d,dist_index_es_Ge(dist_index_es_Ie({},g),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:i,message:s,opts:n}}),await yi(u,this.publishTimeout,_)}catch(u){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(u),(o=n?.internal)!=null&&o.throwOnFailedPublish)throw u}finally{this.queue.delete(d)}}),dist_index_es_V(this,"on",(i,s)=>{this.events.on(i,s)}),dist_index_es_V(this,"once",(i,s)=>{this.events.once(i,s)}),dist_index_es_V(this,"off",(i,s)=>{this.events.off(i,s)}),dist_index_es_V(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=dist_index_es_E(t,this.name),this.registerEventListeners()}get context(){return index_es_y(this.logger)}async rpcPublish(e){var t,i,s,n;const{topic:o,message:a,ttl:c=dist_index_es_je,prompt:h,tag:l,id:d,attestation:g,tvf:_}=e,u={method:Yc(Zc().protocol).publish,params:dist_index_es_Ie({topic:o,message:a,ttl:c,prompt:h,tag:l,attestation:g},_),id:d};index_es_Et((t=u.params)==null?void 0:t.prompt)&&((i=u.params)==null||delete i.prompt),index_es_Et((s=u.params)==null?void 0:s.tag)&&((n=u.params)==null||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:u});const b=await this.relayer.request(u);return this.relayer.events.emit(core_dist_index_es_C.publish,e),this.logger.debug("Successfully Published Payload"),b}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,dist_index_es_Ge(dist_index_es_Ie({},e),{attempt:i}));const{topic:s,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(dist_index_es_Ge(dist_index_es_Ie({},e),{topic:s,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(r.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(core_dist_index_es_C.connection_stalled);return}this.checkQueue()}),this.relayer.on(core_dist_index_es_C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var dist_index_es_qn=Object.defineProperty,dist_index_es_Gn=(r,e,t)=>e in r?dist_index_es_qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_re=(r,e,t)=>dist_index_es_Gn(r,typeof e!="symbol"?e+"":e,t);class dist_index_es_Wn{constructor(){index_es_re(this,"map",new Map),index_es_re(this,"set",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),index_es_re(this,"get",e=>this.map.get(e)||[]),index_es_re(this,"exists",(e,t)=>this.get(e).includes(t)),index_es_re(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),index_es_re(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var dist_index_es_Hn=Object.defineProperty,dist_index_es_Yn=Object.defineProperties,dist_index_es_Jn=Object.getOwnPropertyDescriptors,index_es_Ii=Object.getOwnPropertySymbols,dist_index_es_Xn=Object.prototype.hasOwnProperty,dist_index_es_Zn=Object.prototype.propertyIsEnumerable,dist_index_es_We=(r,e,t)=>e in r?dist_index_es_Hn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dist_index_es_ge=(r,e)=>{for(var t in e||(e={}))dist_index_es_Xn.call(e,t)&&dist_index_es_We(r,t,e[t]);if(index_es_Ii)for(var t of index_es_Ii(e))dist_index_es_Zn.call(e,t)&&dist_index_es_We(r,t,e[t]);return r},dist_index_es_He=(r,e)=>dist_index_es_Yn(r,dist_index_es_Jn(e)),core_dist_index_es_f=(r,e,t)=>dist_index_es_We(r,typeof e!="symbol"?e+"":e,t);class index_es_Ti extends dist_index_es_P{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,core_dist_index_es_f(this,"subscriptions",new Map),core_dist_index_es_f(this,"topicMap",new dist_index_es_Wn),core_dist_index_es_f(this,"events",new external_events_.EventEmitter),core_dist_index_es_f(this,"name",index_es_Ut),core_dist_index_es_f(this,"version",index_es_Ft),core_dist_index_es_f(this,"pending",new Map),core_dist_index_es_f(this,"cached",[]),core_dist_index_es_f(this,"initialized",!1),core_dist_index_es_f(this,"storagePrefix",index_es_B),core_dist_index_es_f(this,"subscribeTimeout",(0,cjs.toMiliseconds)(cjs.ONE_MINUTE)),core_dist_index_es_f(this,"initialSubscribeTimeout",(0,cjs.toMiliseconds)(cjs.ONE_SECOND*15)),core_dist_index_es_f(this,"clientId"),core_dist_index_es_f(this,"batchSubscribeTopicsLimit",500),core_dist_index_es_f(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),core_dist_index_es_f(this,"subscribe",async(i,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}});try{const n=Zc(s),o={topic:i,relay:n,transportType:s?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,n,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}})),a}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}}),core_dist_index_es_f(this,"unsubscribe",async(i,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),core_dist_index_es_f(this,"isSubscribed",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),core_dist_index_es_f(this,"isKnownTopic",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),core_dist_index_es_f(this,"on",(i,s)=>{this.events.on(i,s)}),core_dist_index_es_f(this,"once",(i,s)=>{this.events.once(i,s)}),core_dist_index_es_f(this,"off",(i,s)=>{this.events.off(i,s)}),core_dist_index_es_f(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),core_dist_index_es_f(this,"start",async()=>{await this.onConnect()}),core_dist_index_es_f(this,"stop",async()=>{await this.onDisconnect()}),core_dist_index_es_f(this,"restart",async()=>{await this.restore(),await this.onRestart()}),core_dist_index_es_f(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),core_dist_index_es_f(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r.pulse,async()=>{await this.checkPending()}),this.events.on(index_es_$.created,async i=>{const s=index_es_$.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:i}),await this.persist()}),this.events.on(index_es_$.deleted,async i=>{const s=index_es_$.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=dist_index_es_E(t,this.name),this.clientId=""}get context(){return index_es_y(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const s=Zc(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=index_es_Nt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s;(!i||i?.transportType===index_es_Q.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:Yc(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const o=(s=i?.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===index_es_Q.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l))},(0,cjs.toMiliseconds)(cjs.ONE_SECOND)),a;const c=new Promise(async l=>{const d=g=>{g.topic===e&&(this.events.removeListener(index_es_$.created,d),l(g.id))};this.events.on(index_es_$.created,d);try{const g=await yi(new Promise((_,u)=>{this.relayer.request(n).catch(b=>{this.logger.warn(b,b?.message),u(b)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(index_es_$.created,d),l(g)}catch{}}),h=await yi(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(core_dist_index_es_C.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:Yc(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await yi(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(core_dist_index_es_C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:Yc(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let s;try{s=await await yi(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(core_dist_index_es_C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:Yc(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,dist_index_es_He(dist_index_es_ge({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,dist_index_es_ge({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,dist_index_es_ge({},t)),this.topicMap.set(t.topic,e),this.events.emit(index_es_$.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=index_es_ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(index_es_$.deleted,dist_index_es_He(dist_index_es_ge({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(index_es_$.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(index_es_$.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=index_es_ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>dist_index_es_He(dist_index_es_ge({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await Ni((0,cjs.toMiliseconds)(cjs.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return kc(e+await this.getClientId())}}var dist_index_es_Qn=Object.defineProperty,index_es_Ci=Object.getOwnPropertySymbols,dist_index_es_eo=Object.prototype.hasOwnProperty,dist_index_es_to=Object.prototype.propertyIsEnumerable,dist_index_es_Ye=(r,e,t)=>e in r?dist_index_es_Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_Pi=(r,e)=>{for(var t in e||(e={}))dist_index_es_eo.call(e,t)&&dist_index_es_Ye(r,t,e[t]);if(index_es_Ci)for(var t of index_es_Ci(e))dist_index_es_to.call(e,t)&&dist_index_es_Ye(r,t,e[t]);return r},core_dist_index_es_y=(r,e,t)=>dist_index_es_Ye(r,typeof e!="symbol"?e+"":e,t);class index_es_Si extends dist_index_es_d{constructor(e){super(e),core_dist_index_es_y(this,"protocol","wc"),core_dist_index_es_y(this,"version",2),core_dist_index_es_y(this,"core"),core_dist_index_es_y(this,"logger"),core_dist_index_es_y(this,"events",new external_events_.EventEmitter),core_dist_index_es_y(this,"provider"),core_dist_index_es_y(this,"messages"),core_dist_index_es_y(this,"subscriber"),core_dist_index_es_y(this,"publisher"),core_dist_index_es_y(this,"name",dist_index_es_$t),core_dist_index_es_y(this,"transportExplicitlyClosed",!1),core_dist_index_es_y(this,"initialized",!1),core_dist_index_es_y(this,"connectionAttemptInProgress",!1),core_dist_index_es_y(this,"relayUrl"),core_dist_index_es_y(this,"projectId"),core_dist_index_es_y(this,"packageName"),core_dist_index_es_y(this,"bundleId"),core_dist_index_es_y(this,"hasExperiencedNetworkDisruption",!1),core_dist_index_es_y(this,"pingTimeout"),core_dist_index_es_y(this,"heartBeatTimeout",(0,cjs.toMiliseconds)(cjs.THIRTY_SECONDS+cjs.FIVE_SECONDS)),core_dist_index_es_y(this,"reconnectTimeout"),core_dist_index_es_y(this,"connectPromise"),core_dist_index_es_y(this,"reconnectInProgress",!1),core_dist_index_es_y(this,"requestsInFlight",[]),core_dist_index_es_y(this,"connectTimeout",(0,cjs.toMiliseconds)(cjs.ONE_SECOND*15)),core_dist_index_es_y(this,"request",async t=>{var i,s;this.logger.debug("Publishing Request Payload");const n=t.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),core_dist_index_es_y(this,"resetPingTimeout",()=>{index_es_Re()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),core_dist_index_es_y(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),core_dist_index_es_y(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(core_dist_index_es_C.connect)}),core_dist_index_es_y(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),core_dist_index_es_y(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(core_dist_index_es_C.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),core_dist_index_es_y(this,"registerProviderListeners",()=>{this.provider.on(index_es_L.payload,this.onPayloadHandler),this.provider.on(index_es_L.connect,this.onConnectHandler),this.provider.on(index_es_L.disconnect,this.onDisconnectHandler),this.provider.on(index_es_L.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?dist_index_es_E(e.logger,this.name):pino_default()(logger_dist_index_es_k({level:e.logger||dist_index_es_Nt})),this.messages=new core_dist_index_es_i(this.logger,e.core),this.subscriber=new index_es_Ti(this,this.logger),this.publisher=new dist_index_es_Vn(this,this.logger),this.relayUrl=e?.relayUrl||dist_index_es_Ue,this.projectId=e.projectId,ei()?this.packageName=ri():ni()&&(this.bundleId=ri()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return index_es_y(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:index_es_Q.relay},dist_index_es_le.outbound)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",c;const h=l=>{l.topic===e&&(this.subscriber.off(index_es_$.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(index_es_$.created,h)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,index_es_Pi({internal:{throwOnFailedPublish:o}},t)).catch(g=>{o&&d(g)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await yi(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ia())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=Ei(cjs.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(core_dist_index_es_C.message,e),await this.recordMessageEvent(e,dist_index_es_le.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(index_es_L.disconnect,n),await yi(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(index_es_L.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(index_es_L.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(index_es_L.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,cjs.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if(index_es_Re())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new jsonrpc_provider_dist_index_es_o(new jsonrpc_ws_connection_dist_index_es_f(si({sdkVersion:core_dist_index_es_e,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),isJsonRpcRequest(e)){if(!e.method.endsWith(index_es_zt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:index_es_Q.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(index_es_Pi({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else isJsonRpcResponse(e)&&this.events.emit(core_dist_index_es_C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,dist_index_es_le.inbound),this.events.emit(core_dist_index_es_C.message,e))}async acknowledgePayload(e){const t=formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(index_es_L.payload,this.onPayloadHandler),this.provider.off(index_es_L.connect,this.onConnectHandler),this.provider.off(index_es_L.disconnect,this.onDisconnectHandler),this.provider.off(index_es_L.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Ia();Na(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(core_dist_index_es_C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,cjs.toMiliseconds)(dist_index_es_Lt)))))}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function dist_index_es_io(){}function index_es_Ri(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function index_es_Oi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function index_es_Ai(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const dist_index_es_so="[object RegExp]",dist_index_es_ro="[object String]",dist_index_es_no="[object Number]",dist_index_es_oo="[object Boolean]",index_es_xi="[object Arguments]",dist_index_es_ao="[object Symbol]",dist_index_es_co="[object Date]",dist_index_es_ho="[object Map]",dist_index_es_lo="[object Set]",dist_index_es_uo="[object Array]",dist_index_es_go="[object Function]",dist_index_es_po="[object ArrayBuffer]",dist_index_es_Je="[object Object]",dist_index_es_yo="[object Error]",dist_index_es_bo="[object DataView]",dist_index_es_mo="[object Uint8Array]",dist_index_es_fo="[object Uint8ClampedArray]",index_es_Do="[object Uint16Array]",dist_index_es_vo="[object Uint32Array]",dist_index_es_wo="[object BigUint64Array]",core_dist_index_es_o="[object Int8Array]",dist_index_es_Eo="[object Int16Array]",dist_index_es_Io="[object Int32Array]",dist_index_es_To="[object BigInt64Array]",index_es_Co="[object Float32Array]",index_es_Po="[object Float64Array]";function dist_index_es_So(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function dist_index_es_Ro(r,e,t){return dist_index_es_pe(r,e,void 0,void 0,void 0,void 0,t)}function dist_index_es_pe(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return r===e;case"number":return r===e||Object.is(r,e);case"function":return r===e;case"object":return dist_index_es_ye(r,e,n,o)}return dist_index_es_ye(r,e,n,o)}function dist_index_es_ye(r,e,t,i){if(Object.is(r,e))return!0;let s=index_es_Ai(r),n=index_es_Ai(e);if(s===index_es_xi&&(s=dist_index_es_Je),n===index_es_xi&&(n=dist_index_es_Je),s!==n)return!1;switch(s){case dist_index_es_ro:return r.toString()===e.toString();case dist_index_es_no:{const c=r.valueOf(),h=e.valueOf();return dist_index_es_So(c,h)}case dist_index_es_oo:case dist_index_es_co:case dist_index_es_ao:return Object.is(r.valueOf(),e.valueOf());case dist_index_es_so:return r.source===e.source&&r.flags===e.flags;case dist_index_es_go:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case dist_index_es_ho:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!dist_index_es_pe(h,e.get(c),c,r,e,t,i))return!1;return!0}case dist_index_es_lo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],g=h.findIndex(_=>dist_index_es_pe(d,_,void 0,r,e,t,i));if(g===-1)return!1;h.splice(g,1)}return!0}case dist_index_es_uo:case dist_index_es_mo:case dist_index_es_fo:case index_es_Do:case dist_index_es_vo:case dist_index_es_wo:case core_dist_index_es_o:case dist_index_es_Eo:case dist_index_es_Io:case dist_index_es_To:case index_es_Co:case index_es_Po:{if(typeof Buffer<"u"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!dist_index_es_pe(r[c],e[c],c,r,e,t,i))return!1;return!0}case dist_index_es_po:return r.byteLength!==e.byteLength?!1:dist_index_es_ye(new Uint8Array(r),new Uint8Array(e),t,i);case dist_index_es_bo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:dist_index_es_ye(new Uint8Array(r),new Uint8Array(e),t,i);case dist_index_es_yo:return r.name===e.name&&r.message===e.message;case dist_index_es_Je:{if(!(dist_index_es_ye(r.constructor,e.constructor,t,i)||index_es_Ri(r)&&index_es_Ri(e)))return!1;const h=[...Object.keys(r),...index_es_Oi(r)],l=[...Object.keys(e),...index_es_Oi(e)];if(h.length!==l.length)return!1;for(let d=0;d<h.length;d++){const g=h[d],_=r[g];if(!Object.hasOwn(e,g))return!1;const u=e[g];if(!dist_index_es_pe(_,u,g,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function dist_index_es_Oo(r,e){return dist_index_es_Ro(r,e,dist_index_es_io)}var dist_index_es_Ao=Object.defineProperty,index_es_Ni=Object.getOwnPropertySymbols,dist_index_es_xo=Object.prototype.hasOwnProperty,dist_index_es_No=Object.prototype.propertyIsEnumerable,dist_index_es_Xe=(r,e,t)=>e in r?dist_index_es_Ao(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_$i=(r,e)=>{for(var t in e||(e={}))dist_index_es_xo.call(e,t)&&dist_index_es_Xe(r,t,e[t]);if(index_es_Ni)for(var t of index_es_Ni(e))dist_index_es_No.call(e,t)&&dist_index_es_Xe(r,t,e[t]);return r},dist_index_es_z=(r,e,t)=>dist_index_es_Xe(r,typeof e!="symbol"?e+"":e,t);class index_es_zi extends dist_index_es_f{constructor(e,t,i,s=index_es_B,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,dist_index_es_z(this,"map",new Map),dist_index_es_z(this,"version",core_dist_index_es_kt),dist_index_es_z(this,"cached",[]),dist_index_es_z(this,"initialized",!1),dist_index_es_z(this,"getKey"),dist_index_es_z(this,"storagePrefix",index_es_B),dist_index_es_z(this,"recentlyDeleted",[]),dist_index_es_z(this,"recentlyDeletedLimit",200),dist_index_es_z(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!index_es_Et(o)?this.map.set(this.getKey(o),o):fa(o)?this.map.set(o.id,o):la(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),dist_index_es_z(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),dist_index_es_z(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),dist_index_es_z(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>dist_index_es_Oo(a[c],o[c]))):this.values)),dist_index_es_z(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=index_es_$i(index_es_$i({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),dist_index_es_z(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=dist_index_es_E(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return index_es_y(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=index_es_ht("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=index_es_ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=index_es_ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dist_index_es_$o=Object.defineProperty,dist_index_es_zo=(r,e,t)=>e in r?dist_index_es_$o(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,core_dist_index_es_p=(r,e,t)=>dist_index_es_zo(r,typeof e!="symbol"?e+"":e,t);class index_es_Li{constructor(e,t){this.core=e,this.logger=t,core_dist_index_es_p(this,"name",dist_index_es_Mt),core_dist_index_es_p(this,"version",dist_index_es_Kt),core_dist_index_es_p(this,"events",new (external_events_default())),core_dist_index_es_p(this,"pairings"),core_dist_index_es_p(this,"initialized",!1),core_dist_index_es_p(this,"storagePrefix",index_es_B),core_dist_index_es_p(this,"ignoredPayloadTypes",[index_es_Kt]),core_dist_index_es_p(this,"registeredMethods",[]),core_dist_index_es_p(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),core_dist_index_es_p(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),core_dist_index_es_p(this,"create",async i=>{this.isInitialized();const s=jc(),n=await this.core.crypto.setSymKey(s),o=Ei(cjs.FIVE_MINUTES),a={protocol:dist_index_es_xt},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=Wc({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(index_es_se.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType}),{topic:n,uri:h}}),core_dist_index_es_p(this,"pair",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[dist_index_es_G.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=Gc(i.uri);s.props.properties.topic=n,s.addTrace(dist_index_es_G.pairing_uri_validation_success),s.addTrace(dist_index_es_G.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(dist_index_es_G.existing_pairing),l.active)throw s.setError(index_es_Y.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(dist_index_es_G.pairing_not_expired)}const d=c||Ei(cjs.FIVE_MINUTES),g={topic:n,relay:a,expiry:d,active:!1,methods:h};this.core.expirer.set(n,d),await this.pairings.set(n,g),s.addTrace(dist_index_es_G.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(index_es_se.create,g),s.addTrace(dist_index_es_G.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(dist_index_es_G.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(index_es_Y.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw s.setError(index_es_Y.subscribe_pairing_topic_failure),_}return s.addTrace(dist_index_es_G.subscribe_pairing_topic_success),g}),core_dist_index_es_p(this,"activate",async({topic:i})=>{this.isInitialized();const s=Ei(cjs.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),core_dist_index_es_p(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=gi();this.events.once(xi("pairing_ping",n),({error:h})=>{h?c(h):a()}),await o()}}),core_dist_index_es_p(this,"updateExpiry",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),core_dist_index_es_p(this,"updateMetadata",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),core_dist_index_es_p(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),core_dist_index_es_p(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",index_es_Nt("USER_DISCONNECTED")),await this.deletePairing(s))}),core_dist_index_es_p(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return Wc({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),core_dist_index_es_p(this,"sendRequest",async(i,s,n)=>{const o=formatJsonRpcRequest(s,n),a=await this.core.crypto.encode(i,o),c=index_es_ie[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),core_dist_index_es_p(this,"sendResult",async(i,s,n)=>{const o=formatJsonRpcResult(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=index_es_ie[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),core_dist_index_es_p(this,"sendError",async(i,s,n)=>{const o=formatJsonRpcError(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=index_es_ie[c]?index_es_ie[c].res:index_es_ie.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),core_dist_index_es_p(this,"deletePairing",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,index_es_Nt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),core_dist_index_es_p(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(s=>vi(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),core_dist_index_es_p(this,"onRelayEventRequest",async i=>{const{topic:s,payload:n}=i;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),core_dist_index_es_p(this,"onRelayEventResponse",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),core_dist_index_es_p(this,"onPairingPingRequest",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(index_es_se.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),core_dist_index_es_p(this,"onPairingPingResponse",(i,s)=>{const{id:n}=s;setTimeout(()=>{isJsonRpcResult(s)?this.events.emit(xi("pairing_ping",n),{}):isJsonRpcError(s)&&this.events.emit(xi("pairing_ping",n),{error:s.error})},500)}),core_dist_index_es_p(this,"onPairingDeleteRequest",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(index_es_se.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),core_dist_index_es_p(this,"onUnknownRpcMethodRequest",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=index_es_Nt("WC_METHOD_UNSUPPORTED",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),core_dist_index_es_p(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(index_es_Nt("WC_METHOD_UNSUPPORTED",i))}),core_dist_index_es_p(this,"isValidPair",(i,s)=>{var n;if(!ya(i)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`pair() params: ${i}`);throw s.setError(index_es_Y.malformed_pairing_uri),new Error(a)}if(!ua(i.uri)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw s.setError(index_es_Y.malformed_pairing_uri),new Error(a)}const o=Gc(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=index_es_ht("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(index_es_Y.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=index_es_ht("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(index_es_Y.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,cjs.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(index_es_Y.pairing_expired);const{message:a}=index_es_ht("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),core_dist_index_es_p(this,"isValidPing",async i=>{if(!ya(i)){const{message:n}=index_es_ht("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),core_dist_index_es_p(this,"isValidDisconnect",async i=>{if(!ya(i)){const{message:n}=index_es_ht("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),core_dist_index_es_p(this,"isValidPairingTopic",async i=>{if(!index_es_nt(i,!1)){const{message:s}=index_es_ht("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=index_es_ht("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if(vi(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=index_es_ht("EXPIRED",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=dist_index_es_E(t,this.name),this.pairings=new index_es_zi(this.core,this.logger,this.name,this.storagePrefix)}get context(){return index_es_y(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(core_dist_index_es_C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==index_es_Q.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);isJsonRpcRequest(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):isJsonRpcResponse(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(dist_index_es_M.expired,async e=>{const{topic:t}=bi(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(index_es_se.expire,{topic:t}))})}}var dist_index_es_Lo=Object.defineProperty,index_es_ko=(r,e,t)=>e in r?dist_index_es_Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dist_index_es_R=(r,e,t)=>index_es_ko(r,typeof e!="symbol"?e+"":e,t);class index_es_ki extends index_es_I{constructor(e,t){super(e,t),this.core=e,this.logger=t,dist_index_es_R(this,"records",new Map),dist_index_es_R(this,"events",new external_events_.EventEmitter),dist_index_es_R(this,"name",dist_index_es_Bt),dist_index_es_R(this,"version",dist_index_es_Vt),dist_index_es_R(this,"cached",[]),dist_index_es_R(this,"initialized",!1),dist_index_es_R(this,"storagePrefix",index_es_B),dist_index_es_R(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),dist_index_es_R(this,"set",(i,s,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:Ei(cjs.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(index_es_F.created,o)}),dist_index_es_R(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>"u"&&(s.response=isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(index_es_F.updated,s))}),dist_index_es_R(this,"get",async(i,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:s}),await this.getRecord(s))),dist_index_es_R(this,"delete",(i,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<"u"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(index_es_F.deleted,n)}}),this.persist()}),dist_index_es_R(this,"exists",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),dist_index_es_R(this,"on",(i,s)=>{this.events.on(i,s)}),dist_index_es_R(this,"once",(i,s)=>{this.events.once(i,s)}),dist_index_es_R(this,"off",(i,s)=>{this.events.off(i,s)}),dist_index_es_R(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),this.logger=dist_index_es_E(t,this.name)}get context(){return index_es_y(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=index_es_ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(index_es_F.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=index_es_ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(index_es_F.created,e=>{const t=index_es_F.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(index_es_F.updated,e=>{const t=index_es_F.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(index_es_F.deleted,e=>{const t=index_es_F.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(r.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,cjs.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(index_es_F.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var index_es_jo=Object.defineProperty,dist_index_es_Uo=(r,e,t)=>e in r?index_es_jo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_A=(r,e,t)=>dist_index_es_Uo(r,typeof e!="symbol"?e+"":e,t);class index_es_ji extends dist_index_es_S{constructor(e,t){super(e,t),this.core=e,this.logger=t,index_es_A(this,"expirations",new Map),index_es_A(this,"events",new external_events_.EventEmitter),index_es_A(this,"name",dist_index_es_qt),index_es_A(this,"version",dist_index_es_Gt),index_es_A(this,"cached",[]),index_es_A(this,"initialized",!1),index_es_A(this,"storagePrefix",index_es_B),index_es_A(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),index_es_A(this,"has",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<"u"}catch{return!1}}),index_es_A(this,"set",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(dist_index_es_M.created,{target:n,expiration:o})}),index_es_A(this,"get",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),index_es_A(this,"del",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(dist_index_es_M.deleted,{target:s,expiration:n})}}),index_es_A(this,"on",(i,s)=>{this.events.on(i,s)}),index_es_A(this,"once",(i,s)=>{this.events.once(i,s)}),index_es_A(this,"off",(i,s)=>{this.events.off(i,s)}),index_es_A(this,"removeListener",(i,s)=>{this.events.removeListener(i,s)}),this.logger=dist_index_es_E(t,this.name)}get context(){return index_es_y(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return mi(e);if(typeof e=="number")return wi(e);const{message:t}=index_es_ht("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dist_index_es_M.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=index_es_ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=index_es_ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,cjs.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(dist_index_es_M.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(r.pulse,()=>this.checkExpirations()),this.events.on(dist_index_es_M.created,e=>{const t=dist_index_es_M.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(dist_index_es_M.expired,e=>{const t=dist_index_es_M.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(dist_index_es_M.deleted,e=>{const t=dist_index_es_M.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dist_index_es_Fo=Object.defineProperty,index_es_Mo=(r,e,t)=>e in r?dist_index_es_Fo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,core_dist_index_es_w=(r,e,t)=>index_es_Mo(r,typeof e!="symbol"?e+"":e,t);class index_es_Ui extends index_es_M{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,core_dist_index_es_w(this,"name",dist_index_es_Wt),core_dist_index_es_w(this,"abortController"),core_dist_index_es_w(this,"isDevEnv"),core_dist_index_es_w(this,"verifyUrlV3",dist_index_es_Yt),core_dist_index_es_w(this,"storagePrefix",index_es_B),core_dist_index_es_w(this,"version",dist_index_es_Le),core_dist_index_es_w(this,"publicKey"),core_dist_index_es_w(this,"fetchPromise"),core_dist_index_es_w(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,cjs.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),core_dist_index_es_w(this,"register",async s=>{if(!index_es_Yt()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,dist_cjs.getDocument)(),l=this.startAbortTimer(cjs.ONE_SECOND*5),d=await new Promise((g,_)=>{const u=()=>{window.removeEventListener("message",x),h.body.removeChild(b),_("attestation aborted")};this.abortController.signal.addEventListener("abort",u);const b=h.createElement("iframe");b.src=c,b.style.display="none",b.addEventListener("error",u,{signal:this.abortController.signal});const x=I=>{if(I.data&&typeof I.data=="string")try{const D=JSON.parse(I.data);if(D.type==="verify_attestation"){if(sn(D.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(b),this.abortController.signal.removeEventListener("abort",u),window.removeEventListener("message",x),g(D.attestation===null?"":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(b),window.addEventListener("message",x,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(h){this.logger.warn(h)}return""}),core_dist_index_es_w(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(n){if(sn(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),core_dist_index_es_w(this,"fetchAttestation",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(cjs.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),core_dist_index_es_w(this,"getVerifyUrl",s=>{let n=s||index_es_ue;return dist_index_es_Jt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${index_es_ue}`),n=index_es_ue),n}),core_dist_index_es_w(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(cjs.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),core_dist_index_es_w(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),core_dist_index_es_w(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),core_dist_index_es_w(this,"isValidJwtAttestation",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),core_dist_index_es_w(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),core_dist_index_es_w(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),core_dist_index_es_w(this,"validateAttestation",(s,n)=>{const o=zc(s,n.publicKey),a={hasExpired:(0,cjs.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=dist_index_es_E(t,this.name),this.abortController=new AbortController,this.isDevEnv=Ii(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return index_es_y(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,cjs.toMiliseconds)(e))}}var dist_index_es_Ko=Object.defineProperty,dist_index_es_Bo=(r,e,t)=>e in r?dist_index_es_Ko(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_Fi=(r,e,t)=>dist_index_es_Bo(r,typeof e!="symbol"?e+"":e,t);class index_es_Mi extends dist_index_es_O{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,index_es_Fi(this,"context",dist_index_es_Xt),index_es_Fi(this,"registerDeviceToken",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${index_es_Zt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=dist_index_es_E(t,this.context)}}var index_es_Vo=Object.defineProperty,index_es_Ki=Object.getOwnPropertySymbols,dist_index_es_qo=Object.prototype.hasOwnProperty,dist_index_es_Go=Object.prototype.propertyIsEnumerable,dist_index_es_Ze=(r,e,t)=>e in r?index_es_Vo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dist_index_es_be=(r,e)=>{for(var t in e||(e={}))dist_index_es_qo.call(e,t)&&dist_index_es_Ze(r,t,e[t]);if(index_es_Ki)for(var t of index_es_Ki(e))dist_index_es_Go.call(e,t)&&dist_index_es_Ze(r,t,e[t]);return r},core_dist_index_es_E=(r,e,t)=>dist_index_es_Ze(r,typeof e!="symbol"?e+"":e,t);class Bi extends index_es_R{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,core_dist_index_es_E(this,"context",index_es_ei),core_dist_index_es_E(this,"storagePrefix",index_es_B),core_dist_index_es_E(this,"storageVersion",dist_index_es_Qt),core_dist_index_es_E(this,"events",new Map),core_dist_index_es_E(this,"shouldPersist",!1),core_dist_index_es_E(this,"init",async()=>{if(!Ii())try{const s={eventId:index_es_Bi(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:index_es_Mn(this.core.relayer.protocol,this.core.relayer.version,core_dist_index_es_e)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),core_dist_index_es_E(this,"createEvent",s=>{const{event:n="ERROR",type:o="",properties:{topic:a,trace:c}}=s,h=index_es_Bi(),l=this.core.projectId||"",d=Date.now(),g=dist_index_es_be({eventId:h,timestamp:d,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,g),this.shouldPersist=!0),g}),core_dist_index_es_E(this,"getEvent",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return dist_index_es_be(dist_index_es_be({},a),this.setMethods(a.eventId))}),core_dist_index_es_E(this,"deleteEvent",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),core_dist_index_es_E(this,"setEventListeners",()=>{this.core.heartbeat.on(r.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,cjs.fromMiliseconds)(Date.now())-(0,cjs.fromMiliseconds)(s.timestamp)>index_es_ti&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),core_dist_index_es_E(this,"setMethods",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),core_dist_index_es_E(this,"addTrace",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),core_dist_index_es_E(this,"setError",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),core_dist_index_es_E(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),core_dist_index_es_E(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,dist_index_es_be(dist_index_es_be({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),core_dist_index_es_E(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),core_dist_index_es_E(this,"sendEvent",async s=>{const n=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${index_es_ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${core_dist_index_es_e}${n}`,{method:"POST",body:JSON.stringify(s)})}),core_dist_index_es_E(this,"getAppDomain",()=>index_es_Pn().url),this.logger=dist_index_es_E(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var dist_index_es_Wo=Object.defineProperty,index_es_Vi=Object.getOwnPropertySymbols,dist_index_es_Ho=Object.prototype.hasOwnProperty,dist_index_es_Yo=Object.prototype.propertyIsEnumerable,dist_index_es_Qe=(r,e,t)=>e in r?dist_index_es_Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_qi=(r,e)=>{for(var t in e||(e={}))dist_index_es_Ho.call(e,t)&&dist_index_es_Qe(r,t,e[t]);if(index_es_Vi)for(var t of index_es_Vi(e))dist_index_es_Yo.call(e,t)&&dist_index_es_Qe(r,t,e[t]);return r},core_dist_index_es_v=(r,e,t)=>dist_index_es_Qe(r,typeof e!="symbol"?e+"":e,t);class dist_index_es_Te extends dist_index_es_h{constructor(e){var t;super(e),core_dist_index_es_v(this,"protocol",dist_index_es_ze),core_dist_index_es_v(this,"version",dist_index_es_Le),core_dist_index_es_v(this,"name",dist_index_es_he),core_dist_index_es_v(this,"relayUrl"),core_dist_index_es_v(this,"projectId"),core_dist_index_es_v(this,"customStoragePrefix"),core_dist_index_es_v(this,"events",new external_events_.EventEmitter),core_dist_index_es_v(this,"logger"),core_dist_index_es_v(this,"heartbeat"),core_dist_index_es_v(this,"relayer"),core_dist_index_es_v(this,"crypto"),core_dist_index_es_v(this,"storage"),core_dist_index_es_v(this,"history"),core_dist_index_es_v(this,"expirer"),core_dist_index_es_v(this,"pairing"),core_dist_index_es_v(this,"verify"),core_dist_index_es_v(this,"echoClient"),core_dist_index_es_v(this,"linkModeSupportedApps"),core_dist_index_es_v(this,"eventClient"),core_dist_index_es_v(this,"initialized",!1),core_dist_index_es_v(this,"logChunkController"),core_dist_index_es_v(this,"on",(a,c)=>this.events.on(a,c)),core_dist_index_es_v(this,"once",(a,c)=>this.events.once(a,c)),core_dist_index_es_v(this,"off",(a,c)=>this.events.off(a,c)),core_dist_index_es_v(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),core_dist_index_es_v(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:index_es_Q.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||dist_index_es_Ue,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=logger_dist_index_es_k({level:typeof e?.logger=="string"&&e.logger?e.logger:dist_index_es_Et.logger,name:dist_index_es_he}),{logger:n,chunkLoggerController:o}=A({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=dist_index_es_E(n,this.name),this.heartbeat=new index_es_i,this.crypto=new index_es_vi(this,this.logger,e?.keychain),this.history=new index_es_ki(this,this.logger),this.expirer=new index_es_ji(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new index_es_h(index_es_qi(index_es_qi({},dist_index_es_It),e?.storageOptions)),this.relayer=new index_es_Si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new index_es_Li(this,this.logger),this.verify=new index_es_Ui(this,this.logger,this.storage),this.echoClient=new index_es_Mi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Bi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new dist_index_es_Te(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(dist_index_es_jt,i),t}get context(){return index_es_y(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(dist_index_es_Fe,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(dist_index_es_Fe)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[i]=e}catch(i){console.warn("Failed to set global WalletConnect core",i)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const dist_index_es_Jo=dist_index_es_Te;
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/sign-client/dist/index.es.js
const dist_index_es_De="wc",sign_client_dist_index_es_Le=2,sign_client_dist_index_es_ke="client",dist_index_es_we=`${dist_index_es_De}@${sign_client_dist_index_es_Le}:${sign_client_dist_index_es_ke}:`,dist_index_es_me={name:sign_client_dist_index_es_ke,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},index_es_ys={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire",session_authenticate:"session_authenticate",session_request_expire:"session_request_expire",session_connect:"session_connect"},index_es_ws={database:":memory:"},sign_client_dist_index_es_Me="WALLETCONNECT_DEEPLINK_CHOICE",index_es_ms={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},index_es_s="history",index_es_Es="0.3",index_es_pt="proposal",index_es_fs=(/* unused pure expression or super */ null && (kt)),dist_index_es_$e="Proposal expired",dist_index_es_ht="session",dist_index_es_J=cjs.SEVEN_DAYS,dist_index_es_dt="engine",dist_index_es_N={wc_sessionPropose:{req:{ttl:cjs.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1119}}},sign_client_dist_index_es_e={min:cjs.FIVE_MINUTES,max:cjs.SEVEN_DAYS},dist_index_es_$={idle:"IDLE",active:"ACTIVE"},sign_client_dist_index_es_Ue={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},dist_index_es_ut="request",dist_index_es_gt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],dist_index_es_yt="wc",index_es_Ss=1.5,dist_index_es_wt="auth",index_es_mt="authKeys",dist_index_es_t="pairingTopics",sign_client_dist_index_es_Et="requests",index_es_ae=`${dist_index_es_yt}@${1.5}:${dist_index_es_wt}:`,index_es_ce=`${index_es_ae}:PUB_KEY`;var index_es_Rs=Object.defineProperty,index_es_vs=Object.defineProperties,index_es_Is=Object.getOwnPropertyDescriptors,dist_index_es_ft=Object.getOwnPropertySymbols,index_es_Ts=Object.prototype.hasOwnProperty,dist_index_es_qs=Object.prototype.propertyIsEnumerable,sign_client_dist_index_es_Ke=(S,n,e)=>n in S?index_es_Rs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,sign_client_dist_index_es_v=(S,n)=>{for(var e in n||(n={}))index_es_Ts.call(n,e)&&sign_client_dist_index_es_Ke(S,e,n[e]);if(dist_index_es_ft)for(var e of dist_index_es_ft(n))dist_index_es_qs.call(n,e)&&sign_client_dist_index_es_Ke(S,e,n[e]);return S},sign_client_dist_index_es_b=(S,n)=>index_es_vs(S,index_es_Is(n)),sign_client_dist_index_es_c=(S,n,e)=>sign_client_dist_index_es_Ke(S,typeof n!="symbol"?n+"":n,e);class index_es_Ps extends index_es_V{constructor(n){super(n),sign_client_dist_index_es_c(this,"name",dist_index_es_dt),sign_client_dist_index_es_c(this,"events",new (external_events_default())),sign_client_dist_index_es_c(this,"initialized",!1),sign_client_dist_index_es_c(this,"requestQueue",{state:dist_index_es_$.idle,queue:[]}),sign_client_dist_index_es_c(this,"sessionRequestQueue",{state:dist_index_es_$.idle,queue:[]}),sign_client_dist_index_es_c(this,"requestQueueDelay",cjs.ONE_SECOND),sign_client_dist_index_es_c(this,"expectedPairingMethodMap",new Map),sign_client_dist_index_es_c(this,"recentlyDeletedMap",new Map),sign_client_dist_index_es_c(this,"recentlyDeletedLimit",200),sign_client_dist_index_es_c(this,"relayMessageCache",[]),sign_client_dist_index_es_c(this,"pendingSessions",new Map),sign_client_dist_index_es_c(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(dist_index_es_N)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,cjs.toMiliseconds)(this.requestQueueDelay)))}),sign_client_dist_index_es_c(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=sign_client_dist_index_es_b(sign_client_dist_index_es_v({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:o,scopedProperties:a,relays:l}=t;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:U}=await this.client.core.pairing.create();p=T,h=U}if(!p){const{message:T}=index_es_ht("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),w=dist_index_es_N.wc_sessionPropose.req.ttl||cjs.FIVE_MINUTES,m=Ei(w),f=sign_client_dist_index_es_b(sign_client_dist_index_es_v(sign_client_dist_index_es_v({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:dist_index_es_xt}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:p},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:payloadId()}),_=xi("session_connect",f.id),{reject:g,resolve:A,done:D}=gi(w,dist_index_es_$e),I=({id:T})=>{T===f.id&&(this.client.events.off("proposal_expire",I),this.pendingSessions.delete(f.id),this.events.emit(_,{error:{message:dist_index_es_$e,code:0}}))};return this.client.events.on("proposal_expire",I),this.events.once(_,({error:T,session:U})=>{this.client.events.off("proposal_expire",I),T?g(T):U&&A(U)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:f,throwOnFailedPublish:!0,clientRpcId:f.id}),await this.setProposal(f.id,f),{uri:h,approval:D}}),sign_client_dist_index_es_c(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}}),sign_client_dist_index_es_c(this,"approve",async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[index_es_Qs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(q){throw r.setError(dist_index_es_er.no_internet_connection),q}try{await this.isValidProposalId(e?.id)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(dist_index_es_er.proposal_not_found),q}try{await this.isValidApprove(e)}catch(q){throw this.client.logger.error("approve() -> isValidApprove() failed"),r.setError(dist_index_es_er.session_approve_namespace_validation_failure),q}const{id:o,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e,d=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:w,proposer:m,requiredNamespaces:f,optionalNamespaces:_}=d;let g=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:w});g||(g=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:index_es_Qs.session_approve_started,properties:{topic:w,trace:[index_es_Qs.session_approve_started,index_es_Qs.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),D=m.publicKey,I=await this.client.core.crypto.generateSharedKey(A,D),T=sign_client_dist_index_es_v(sign_client_dist_index_es_v(sign_client_dist_index_es_v({relay:{protocol:a??"irn"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:Ei(dist_index_es_J)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),U=index_es_Q.relay;g.addTrace(index_es_Qs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:U})}catch(q){throw g.setError(dist_index_es_er.subscribe_session_topic_failure),q}g.addTrace(index_es_Qs.subscribe_session_topic_success);const fe=sign_client_dist_index_es_b(sign_client_dist_index_es_v({},T),{topic:I,requiredNamespaces:f,optionalNamespaces:_,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:A,transportType:index_es_Q.relay});await this.client.session.set(I,fe),g.addTrace(index_es_Qs.store_session);try{g.addTrace(index_es_Qs.publishing_session_settle),await this.sendRequest({topic:I,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(dist_index_es_er.session_settle_publish_failure),q}),g.addTrace(index_es_Qs.session_settle_publish_success),g.addTrace(index_es_Qs.publishing_session_approve),await this.sendResult({id:o,topic:w,result:{relay:{protocol:a??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(dist_index_es_er.session_approve_publish_failure),q}),g.addTrace(index_es_Qs.session_approve_publish_success)}catch(q){throw this.client.logger.error(q),this.client.session.delete(I,index_es_Nt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(I),q}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:m.metadata}),await this.client.proposal.delete(o,index_es_Nt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(I,Ei(dist_index_es_J)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),sign_client_dist_index_es_c(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(r){throw this.client.logger.error("reject() -> isValidReject() failed"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:dist_index_es_N.wc_sessionPropose.reject}),await this.client.proposal.delete(t,index_es_Nt("USER_DISCONNECTED")))}),sign_client_dist_index_es_c(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:o}=gi(),a=payloadId(),l=getBigIntRpcId().toString(),p=this.client.session.get(t).namespaces;return this.events.once(xi("session_update",a),({error:h})=>{h?o(h):r()}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(t,{namespaces:p}),o(h)}),{acknowledged:i}}),sign_client_dist_index_es_c(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(a){throw this.client.logger.error("extend() -> isValidExtend() failed"),a}const{topic:t}=e,s=payloadId(),{done:i,resolve:r,reject:o}=gi();return this.events.once(xi("session_extend",s),({error:a})=>{a?o(a):r()}),await this.setExpiry(t,Ei(dist_index_es_J)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{o(a)}),{acknowledged:i}}),sign_client_dist_index_es_c(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(_){throw this.client.logger.error("request() -> isValidRequest() failed"),_}const{chainId:t,request:s,topic:i,expiry:r=dist_index_es_N.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(i);o?.transportType===index_es_Q.relay&&await this.confirmOnlineStateOrThrow();const a=payloadId(),l=getBigIntRpcId().toString(),{done:p,resolve:h,reject:u}=gi(r,"Request expired. Please try again.");this.events.once(xi("session_request",a),({error:_,result:g})=>{_?u(_):h(g)});const d="wc_sessionRequest",w=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(w)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:sign_client_dist_index_es_b(sign_client_dist_index_es_v({},s),{expiryTimestamp:Ei(r)}),chainId:t},expiry:r,throwOnFailedPublish:!0,appLink:w}).catch(_=>u(_)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:t,id:a}),await p();const m={request:sign_client_dist_index_es_b(sign_client_dist_index_es_v({},s),{expiryTimestamp:Ei(r)}),chainId:t},f=this.shouldSetTVF(d,m);return await Promise.all([new Promise(async _=>{await this.sendRequest(sign_client_dist_index_es_v({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:m,expiry:r,throwOnFailedPublish:!0},f&&{tvf:this.getTVFParams(a,m)})).catch(g=>u(g)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:t,id:a}),_()}),new Promise(async _=>{var g;if(!((g=o.sessionConfig)!=null&&g.disableDeepLink)){const A=await Oi(this.client.core.storage,sign_client_dist_index_es_Me);await Si({id:a,topic:i,wcDeepLink:A})}_()}),p()]).then(_=>_[2])}),sign_client_dist_index_es_c(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===index_es_Q.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);isJsonRpcResult(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:!0,appLink:o}):isJsonRpcError(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:o}),this.cleanupAfterResponse(e)}),sign_client_dist_index_es_c(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=payloadId(),i=getBigIntRpcId().toString(),{done:r,resolve:o,reject:a}=gi();this.events.once(xi("session_ping",s),({error:l})=>{l?a(l):o()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),sign_client_dist_index_es_c(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=getBigIntRpcId().toString(),o=payloadId();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:o})}),sign_client_dist_index_es_c(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:index_es_Nt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{const{message:s}=index_es_ht("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(s)}}),sign_client_dist_index_es_c(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>aa(t,e)))),sign_client_dist_index_es_c(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),sign_client_dist_index_es_c(this,"authenticate",async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?index_es_Q.link_mode:index_es_Q.relay;r===index_es_Q.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:a="",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:w,methods:m=[],expiry:f}=e,_=[...e.resources||[]],{topic:g,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:r});this.client.logger.info({message:"Generated new pairing",pairing:{topic:g,uri:A}});const D=await this.client.core.crypto.generateKeyPair(),I=Pc(D);if(await Promise.all([this.client.auth.authKeys.set(index_es_ce,{responseTopic:I,publicKey:D}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:g})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${g}`),m.length>0){const{namespace:x}=index_es_Ie(o[0]);let L=fs(x,"request",m);index_es_de(_)&&(L=ls(L,_.pop())),_.push(L)}const T=f&&f>dist_index_es_N.wc_sessionAuthenticate.req.ttl?f:dist_index_es_N.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:u??"caip122",chains:o,statement:a,aud:l,domain:p,version:"1",nonce:h,iat:new Date().toISOString(),exp:d,nbf:w,resources:_},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Ei(T)},fe={eip155:{chains:o,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},q={requiredNamespaces:{},optionalNamespaces:fe,relays:[{protocol:"irn"}],pairingTopic:g,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Ei(dist_index_es_N.wc_sessionPropose.req.ttl),id:payloadId()},{done:Rt,resolve:je,reject:Se}=gi(T,"Request expired"),te=payloadId(),le=xi("session_connect",q.id),Re=xi("session_request",te),pe=async({error:x,session:L})=>{this.events.off(Re,ve),x?Se(x):L&&je({session:L})},ve=async x=>{var L,Fe,Qe;if(await this.deletePendingAuthRequest(te,{message:"fulfilled",code:0}),x.error){const ie=index_es_Nt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return x.error.code===ie.code?void 0:(this.events.off(le,pe),Se(x.error.message))}await this.deleteProposal(q.id),this.events.off(le,pe);const{cacaos:He,responder:Q}=x.result,Te=[],ze=[];for(const ie of He){await is({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,"Signature verification failed"),Se(index_es_Nt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:qe}=ie,Pe=index_es_de(qe.resources),Ye=[index_es_dr(qe.iss)],vt=index_es_Me(qe.iss);if(Pe){const Ne=ds(Pe),It=hs(Pe);Te.push(...Ne),Ye.push(...It)}for(const Ne of Ye)ze.push(`${Ne}:${vt}`)}const se=await this.client.core.crypto.generateSharedKey(D,Q.publicKey);let he;Te.length>0&&(he={topic:se,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:Ei(dist_index_es_J),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:g,namespaces:ca([...new Set(Te)],[...new Set(ze)]),transportType:r},await this.client.core.relayer.subscribe(se,{transportType:r}),await this.client.session.set(se,he),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:Q.metadata}),he=this.client.session.get(se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(Fe=Q.metadata.redirect)!=null&&Fe.linkMode&&(Qe=Q.metadata.redirect)!=null&&Qe.universal&&t&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(se,{transportType:index_es_Q.link_mode})),je({auths:He,session:he})};this.events.once(le,pe),this.events.once(Re,ve);let Ie;try{if(i){const x=formatJsonRpcRequest("wc_sessionAuthenticate",U,te);this.client.core.history.set(g,x);const L=await this.client.core.crypto.encode("",x,{type:ne,encoding:index_es_Ee});Ie=Xc(t,g,L)}else await Promise.all([this.sendRequest({topic:g,method:"wc_sessionAuthenticate",params:U,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:te}),this.sendRequest({topic:g,method:"wc_sessionPropose",params:q,expiry:dist_index_es_N.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})])}catch(x){throw this.events.off(le,pe),this.events.off(Re,ve),x}return await this.setProposal(q.id,q),await this.setAuthRequest(te,{request:sign_client_dist_index_es_b(sign_client_dist_index_es_v({},U),{verifyContext:{}}),pairingTopic:g,transportType:r}),{uri:Ie??A,response:Rt}}),sign_client_dist_index_es_c(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[dist_index_es_tr.authenticated_session_approve_started]}});try{this.isInitialized()}catch(f){throw i.setError(dist_index_es_ir.no_internet_connection),f}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(dist_index_es_ir.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const o=r.transportType||index_es_Q.relay;o===index_es_Q.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=Pc(a),h={type:index_es_Kt,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const f of s){if(!await is({cacao:f,projectId:this.client.core.projectId})){i.setError(dist_index_es_ir.invalid_cacao);const I=index_es_Nt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(dist_index_es_tr.cacaos_verified);const{p:_}=f,g=index_es_de(_.resources),A=[index_es_dr(_.iss)],D=index_es_Me(_.iss);if(g){const I=ds(g),T=hs(g);u.push(...I),A.push(...T)}for(const I of A)d.push(`${I}:${D}`)}const w=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(dist_index_es_tr.create_authenticated_session_topic);let m;if(u?.length>0){m={topic:w,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:Ei(dist_index_es_J),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:r.pairingTopic,namespaces:ca([...new Set(u)],[...new Set(d)]),transportType:o},i.addTrace(dist_index_es_tr.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:o})}catch(f){throw i.setError(dist_index_es_ir.subscribe_authenticated_session_topic_failure),f}i.addTrace(dist_index_es_tr.subscribe_authenticated_session_topic_success),await this.client.session.set(w,m),i.addTrace(dist_index_es_tr.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(dist_index_es_tr.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:t,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,o)})}catch(f){throw i.setError(dist_index_es_ir.authenticated_session_approve_publish_failure),f}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),sign_client_dist_index_es_c(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===index_es_Q.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=Pc(r),l={type:index_es_Kt,receiverPublicKey:r,senderPublicKey:o};await this.sendError({id:t,topic:a,error:s,encodeOpts:l,rpcOpts:dist_index_es_N.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,index_es_Nt("USER_DISCONNECTED"))}),sign_client_dist_index_es_c(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:s}=e;return index_es_hr(t,s)}),sign_client_dist_index_es_c(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),sign_client_dist_index_es_c(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,o;return((r=i.peerMetadata)==null?void 0:r.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}}),sign_client_dist_index_es_c(this,"deleteSession",async e=>{var t;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:o=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,index_es_Nt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(sign_client_dist_index_es_Me).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,index_es_Nt("USER_DISCONNECTED"))}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=dist_index_es_$.idle),r&&this.client.events.emit("session_delete",{id:o,topic:s})}),sign_client_dist_index_es_c(this,"deleteProposal",async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(dist_index_es_er.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,index_es_Nt("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),sign_client_dist_index_es_c(this,"deletePendingSessionRequest",async(e,t,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=dist_index_es_$.idle,this.client.events.emit("session_request_expire",{id:e}))}),sign_client_dist_index_es_c(this,"deletePendingAuthRequest",async(e,t,s=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)])}),sign_client_dist_index_es_c(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),sign_client_dist_index_es_c(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Ei(dist_index_es_N.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),sign_client_dist_index_es_c(this,"setAuthRequest",async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=index_es_Q.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),sign_client_dist_index_es_c(this,"setPendingSessionRequest",async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,o=i.request.expiryTimestamp||Ei(dist_index_es_N.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r})}),sign_client_dist_index_es_c(this,"sendRequest",async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h}=e,u=formatJsonRpcRequest(s,i,a);let d;const w=!!p;try{const _=w?index_es_Ee:index_es_Ht;d=await this.client.core.crypto.encode(t,u,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),_}let m;if(dist_index_es_gt.includes(s)){const _=kc(JSON.stringify(u)),g=kc(d);m=await this.client.core.verify.register({id:g,decryptedId:_})}const f=dist_index_es_N[s].req;if(f.attestation=m,r&&(f.ttl=r),o&&(f.id=o),this.client.core.history.set(t,u),w){const _=Xc(p,t,d);await global.Linking.openURL(_,this.client.name)}else{const _=dist_index_es_N[s].req;r&&(_.ttl=r),o&&(_.id=o),_.tvf=sign_client_dist_index_es_b(sign_client_dist_index_es_v({},h),{correlationId:u.id}),l?(_.internal=sign_client_dist_index_es_b(sign_client_dist_index_es_v({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,_)):this.client.core.relayer.publish(t,d,_).catch(g=>this.client.logger.error(g))}return u.id}),sign_client_dist_index_es_c(this,"sendResult",async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:o,appLink:a}=e,l=formatJsonRpcResult(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<"u";try{const w=h?index_es_Ee:index_es_Ht;p=await this.client.core.crypto.encode(s,l,sign_client_dist_index_es_b(sign_client_dist_index_es_v({},o||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),w}let u,d;try{u=await this.client.core.history.get(s,t);const w=u.request;try{this.shouldSetTVF(w.method,w.params)&&(d=this.getTVFParams(t,w.params,i))}catch(m){this.client.logger.warn("sendResult() -> getTVFParams() failed",m)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),w}if(h){const w=Xc(a,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=u.request.method,m=dist_index_es_N[w].res;m.tvf=sign_client_dist_index_es_b(sign_client_dist_index_es_v({},d),{correlationId:t}),r?(m.internal=sign_client_dist_index_es_b(sign_client_dist_index_es_v({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,m)):this.client.core.relayer.publish(s,p,m).catch(f=>this.client.logger.error(f))}await this.client.core.history.resolve(l)}),sign_client_dist_index_es_c(this,"sendError",async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:o,appLink:a}=e,l=formatJsonRpcError(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<"u";try{const d=h?index_es_Ee:index_es_Ht;p=await this.client.core.crypto.encode(s,l,sign_client_dist_index_es_b(sign_client_dist_index_es_v({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,t)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),d}if(h){const d=Xc(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,w=o||dist_index_es_N[d].res;this.client.core.relayer.publish(s,p,w)}await this.client.core.history.resolve(l)}),sign_client_dist_index_es_c(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=!1;vi(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&e.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{vi(s.expiryTimestamp)&&t.push(s.id)}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))])}),sign_client_dist_index_es_c(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),sign_client_dist_index_es_c(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),sign_client_dist_index_es_c(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===dist_index_es_$.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=dist_index_es_$.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=dist_index_es_$.idle}),sign_client_dist_index_es_c(this,"processRequest",async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:o}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,s);case"wc_sessionPing":return await this.onSessionPingRequest(t,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});case"wc_sessionEvent":return await this.onSessionEventRequest(t,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),sign_client_dist_index_es_c(this,"onRelayEventResponse",async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case"wc_sessionPropose":return this.onSessionProposeResponse(t,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(t,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,s);case"wc_sessionExtend":return this.onSessionExtendResponse(t,s);case"wc_sessionPing":return this.onSessionPingResponse(t,s);case"wc_sessionRequest":return this.onSessionRequestResponse(t,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),sign_client_dist_index_es_c(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:s}=index_es_ht("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),sign_client_dist_index_es_c(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),sign_client_dist_index_es_c(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:o,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(index_es_Y.proposal_listener_not_found)),this.isValidConnect(sign_client_dist_index_es_v({},s.params));const p=o.expiryTimestamp||Ei(dist_index_es_N.wc_sessionPropose.req.ttl),h=sign_client_dist_index_es_v({id:a,pairingTopic:t,expiryTimestamp:p},o);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:kc(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(dist_index_es_G.emit_session_proposal),this.client.events.emit("session_proposal",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:t,error:l,rpcOpts:dist_index_es_N.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),sign_client_dist_index_es_c(this,"onSessionProposeResponse",async(e,t,s)=>{const{id:i}=t;if(isJsonRpcResult(t)){const{result:r}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:r});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:e,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:e})}else if(isJsonRpcError(t)){await this.client.proposal.delete(i,index_es_Nt("USER_DISCONNECTED"));const r=xi("session_connect",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:t.error})}}),sign_client_dist_index_es_c(this,"onSessionSettleRequest",async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:o,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t.params,d=[...this.pendingSessions.values()].find(f=>f.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);const w=this.client.proposal.get(d.proposalId),m=sign_client_dist_index_es_b(sign_client_dist_index_es_v(sign_client_dist_index_es_v(sign_client_dist_index_es_v({topic:e,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:o.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:index_es_Q.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(xi("session_connect",d.proposalId),{session:m}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),sign_client_dist_index_es_c(this,"onSessionSettleResponse",async(e,t)=>{const{id:s}=t;isJsonRpcResult(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(xi("session_approve",s),{})):isJsonRpcError(t)&&(await this.client.session.delete(e,index_es_Nt("USER_DISCONNECTED")),this.events.emit(xi("session_approve",s),{error:t.error}))}),sign_client_dist_index_es_c(this,"onSessionUpdateRequest",async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,o=Ua.get(r);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:index_es_Nt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(sign_client_dist_index_es_v({topic:e},s));try{Ua.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(a){throw Ua.delete(r),a}this.client.events.emit("session_update",{id:i,topic:e,params:s})}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r)}}),sign_client_dist_index_es_c(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),sign_client_dist_index_es_c(this,"onSessionUpdateResponse",(e,t)=>{const{id:s}=t,i=xi("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(xi("session_update",s),{}):isJsonRpcError(t)&&this.events.emit(xi("session_update",s),{error:t.error})}),sign_client_dist_index_es_c(this,"onSessionExtendRequest",async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Ei(dist_index_es_J)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),sign_client_dist_index_es_c(this,"onSessionExtendResponse",(e,t)=>{const{id:s}=t,i=xi("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(xi("session_extend",s),{}):isJsonRpcError(t)&&this.events.emit(xi("session_extend",s),{error:t.error})}),sign_client_dist_index_es_c(this,"onSessionPingRequest",async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),sign_client_dist_index_es_c(this,"onSessionPingResponse",(e,t)=>{const{id:s}=t,i=xi("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);isJsonRpcResult(t)?this.events.emit(xi("session_ping",s),{}):isJsonRpcError(t)&&this.events.emit(xi("session_ping",s),{error:t.error})},500)}),sign_client_dist_index_es_c(this,"onSessionDeleteRequest",async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(core_dist_index_es_C.publish,async()=>{i(await this.deleteSession({topic:e,id:s}))})}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:index_es_Nt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),sign_client_dist_index_es_c(this,"onSessionRequest",async e=>{var t,s,i;const{topic:r,payload:o,attestation:a,encryptedId:l,transportType:p}=e,{id:h,params:u}=o;try{await this.isValidRequest(sign_client_dist_index_es_v({topic:r},u));const d=this.client.session.get(r),w=await this.getVerifyContext({attestationId:a,hash:kc(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),m={id:h,topic:r,params:u,verifyContext:w};await this.setPendingSessionRequest(m),p===index_es_Q.link_mode&&(t=d.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),sign_client_dist_index_es_c(this,"onSessionRequestResponse",(e,t)=>{const{id:s}=t,i=xi("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(xi("session_request",s),{result:t.result}):isJsonRpcError(t)&&this.events.emit(xi("session_request",s),{error:t.error})}),sign_client_dist_index_es_c(this,"onSessionEventRequest",async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,o=Ua.get(r);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(sign_client_dist_index_es_v({topic:e},i)),this.client.events.emit("session_event",{id:s,topic:e,params:i}),Ua.set(r,s)}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),sign_client_dist_index_es_c(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:s}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),isJsonRpcResult(t)?this.events.emit(xi("session_request",s),{result:t.result}):isJsonRpcError(t)&&this.events.emit(xi("session_request",s),{error:t.error})}),sign_client_dist_index_es_c(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:o,transportType:a}=e;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:kc(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===index_es_Q.link_mode&&(t=l.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:index_es_Kt,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:dist_index_es_N.wc_sessionAuthenticate.autoReject,appLink:u})}}),sign_client_dist_index_es_c(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),sign_client_dist_index_es_c(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=dist_index_es_$.idle,this.processSessionRequestQueue()},(0,cjs.toMiliseconds)(this.requestQueueDelay))}),sign_client_dist_index_es_c(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method==="wc_sessionRequest").forEach(i=>{const r=i.request.id,o=xi("session_request",r);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(xi("session_request",i.request.id),{error:t})})}),sign_client_dist_index_es_c(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===dist_index_es_$.active){this.client.logger.info("session request queue is already active.");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=dist_index_es_$.active,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}}),sign_client_dist_index_es_c(this,"emitSessionRequest",e=>{this.client.events.emit("session_request",e)}),sign_client_dist_index_es_c(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:formatJsonRpcRequest("wc_sessionPropose",sign_client_dist_index_es_b(sign_client_dist_index_es_v({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}),sign_client_dist_index_es_c(this,"isValidConnect",async e=>{if(!ya(e)){const{message:l}=index_es_ht("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(l)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:o,relays:a}=e;if(index_es_Et(t)||await this.isValidPairingTopic(t),!pa(a,!0)){const{message:l}=index_es_ht("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(l)}if(!index_es_Et(s)&&index_es_xe(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!index_es_Et(i)&&index_es_xe(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),index_es_Et(r)||this.validateSessionProps(r,"sessionProperties"),!index_es_Et(o)){this.validateSessionProps(o,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(p=>l.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),sign_client_dist_index_es_c(this,"validateNamespaces",(e,t)=>{const s=ha(e,"connect()",t);if(s)throw new Error(s.message)}),sign_client_dist_index_es_c(this,"isValidApprove",async e=>{if(!ya(e))throw new Error(index_es_ht("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const a=this.client.proposal.get(t),l=index_es_Bo(s,"approve()");if(l)throw new Error(l.message);const p=index_es_No(a.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!index_es_nt(i,!0)){const{message:h}=index_es_ht("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(h)}if(index_es_Et(r)||this.validateSessionProps(r,"sessionProperties"),!index_es_Et(o)){this.validateSessionProps(o,"scopedProperties");const h=new Set(Object.keys(s));if(!Object.keys(o).every(u=>h.has(u)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),sign_client_dist_index_es_c(this,"isValidReject",async e=>{if(!ya(e)){const{message:i}=index_es_ht("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!ma(s)){const{message:i}=index_es_ht("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),sign_client_dist_index_es_c(this,"isValidSessionSettleRequest",e=>{if(!ya(e)){const{message:l}=index_es_ht("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(l)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!index_es_Io(t)){const{message:l}=index_es_ht("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=da(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const a=index_es_Bo(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);if(vi(r)){const{message:l}=index_es_ht("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),sign_client_dist_index_es_c(this,"isValidUpdate",async e=>{if(!ya(e)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=index_es_Bo(s,"update()");if(r)throw new Error(r.message);const o=index_es_No(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)}),sign_client_dist_index_es_c(this,"isValidExtend",async e=>{if(!ya(e)){const{message:s}=index_es_ht("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),sign_client_dist_index_es_c(this,"isValidRequest",async e=>{if(!ya(e)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!va(o,i)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(a)}if(!wa(s)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!xa(o,i,s.method)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(a)}if(r&&!Ba(r,sign_client_dist_index_es_e)){const{message:a}=index_es_ht("MISSING_OR_INVALID",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${sign_client_dist_index_es_e.min} and ${sign_client_dist_index_es_e.max}`);throw new Error(a)}}),sign_client_dist_index_es_c(this,"isValidRespond",async e=>{var t;if(!ya(e)){const{message:r}=index_es_ht("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s)}catch(r){throw(t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!ba(i)){const{message:r}=index_es_ht("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),sign_client_dist_index_es_c(this,"isValidPing",async e=>{if(!ya(e)){const{message:s}=index_es_ht("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),sign_client_dist_index_es_c(this,"isValidEmit",async e=>{if(!ya(e)){const{message:o}=index_es_ht("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(o)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!va(r,i)){const{message:o}=index_es_ht("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!Ea(s)){const{message:o}=index_es_ht("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!Sa(r,i,s.name)){const{message:o}=index_es_ht("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),sign_client_dist_index_es_c(this,"isValidDisconnect",async e=>{if(!ya(e)){const{message:s}=index_es_ht("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),sign_client_dist_index_es_c(this,"isValidAuthenticate",e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error("chains is required and must be a non-empty array");if(!index_es_nt(s,!1))throw new Error("uri is required parameter");if(!index_es_nt(i,!1))throw new Error("domain is required parameter");if(!index_es_nt(r,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(a=>index_es_Ie(a).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=index_es_Ie(t[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),sign_client_dist_index_es_c(this,"getVerifyContext",async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:o}=e,a={verified:{verifyUrl:r.verifyUrl||index_es_ue,validation:"UNKNOWN",origin:r.url||""}};try{if(o===index_es_Q.link_mode){const p=this.getAppLinkIfEnabled(r,o);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?"VALID":"INVALID",a}const l=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),sign_client_dist_index_es_c(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((s,i)=>{if(s==null){const{message:r}=index_es_ht("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${s} for key ${Object.keys(e)[i]}`);throw new Error(r)}})}),sign_client_dist_index_es_c(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return typeof t=="object"?t:void 0}),sign_client_dist_index_es_c(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),sign_client_dist_index_es_c(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=index_es_ht("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}}),sign_client_dist_index_es_c(this,"isLinkModeEnabled",(e,t)=>{var s,i,r,o,a,l,p,h,u;return!e||t!==index_es_Q.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==""&&((p=e?.redirect)==null?void 0:p.universal)!==void 0&&((h=e?.redirect)==null?void 0:h.universal)!==""&&((u=e?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),sign_client_dist_index_es_c(this,"getAppLinkIfEnabled",(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0}),sign_client_dist_index_es_c(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=Ai(e,"topic")||"",s=decodeURIComponent(Ai(e,"wc_ev")||""),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:index_es_Q.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i})}),sign_client_dist_index_es_c(this,"registerLinkModeListeners",async()=>{var e;if(Ii()||pt()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<"u"){t.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),sign_client_dist_index_es_c(this,"shouldSetTVF",(e,t)=>{if(!t||e!=="wc_sessionRequest")return!1;const{request:s}=t;return Object.keys(sign_client_dist_index_es_Ue).includes(s.method)}),sign_client_dist_index_es_c(this,"getTVFParams",(e,t,s)=>{var i,r;try{const o=t.request.method,a=this.extractTxHashesFromResult(o,s);return sign_client_dist_index_es_b(sign_client_dist_index_es_v({correlationId:e,rpcMethods:[o],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[(r=(i=t.request.params)==null?void 0:i[0])==null?void 0:r.to]}),{txHashes:a})}catch(o){this.client.logger.warn("Error getting TVF params",o)}return{}}),sign_client_dist_index_es_c(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const s=e?.data||((t=e?.[0])==null?void 0:t.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),sign_client_dist_index_es_c(this,"extractTxHashesFromResult",(e,t)=>{try{const s=sign_client_dist_index_es_Ue[e];if(typeof t=="string")return[t];const i=t[s.key];if(oe(i))return e==="solana_signAllTransactions"?i.map(r=>Ji(r)):i;if(typeof i=="string")return[i]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const n=this.client.session.keys,e=this.client.core.relayer.messages.getWithoutAck(n);for(const[t,s]of Object.entries(e))for(const i of s)try{await this.onProviderMessageEvent({topic:t,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${t}, message: ${i}`)}}catch(n){this.client.logger.warn("processPendingMessageEvents failed",n)}}isInitialized(){if(!this.initialized){const{message:n}=index_es_ht("NOT_INITIALIZED",this.name);throw new Error(n)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(core_dist_index_es_C.message,n=>{this.onProviderMessageEvent(n)})}async onRelayMessage(n){const{topic:e,message:t,attestation:s,transportType:i}=n,{publicKey:r}=this.client.auth.authKeys.keys.includes(index_es_ce)?this.client.auth.authKeys.get(index_es_ce):{responseTopic:void 0,publicKey:void 0};try{const o=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===index_es_Q.link_mode?index_es_Ee:index_es_Ht});isJsonRpcRequest(o)?(this.client.core.history.set(e,o),await this.onRelayEventRequest({topic:e,payload:o,attestation:s,transportType:i,encryptedId:kc(t)})):isJsonRpcResponse(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):await this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i}),await this.client.core.relayer.messages.ack(e,t)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(dist_index_es_M.expired,async n=>{const{topic:e,id:t}=bi(n.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,index_es_ht("EXPIRED"),!0);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,index_es_ht("EXPIRED"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:e})):t&&(await this.deleteProposal(t,!0),this.client.events.emit("proposal_expire",{id:t}))})}registerPairingEvents(){this.client.core.pairing.events.on(index_es_se.create,n=>this.onPairingCreated(n)),this.client.core.pairing.events.on(index_es_se.delete,n=>{this.addToRecentlyDeleted(n.topic,"pairing")})}isValidPairingTopic(n){if(!index_es_nt(n,!1)){const{message:e}=index_es_ht("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:e}=index_es_ht("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(e)}if(vi(this.client.core.pairing.pairings.get(n).expiry)){const{message:e}=index_es_ht("EXPIRED",`pairing topic: ${n}`);throw new Error(e)}}async isValidSessionTopic(n){if(!index_es_nt(n,!1)){const{message:e}=index_es_ht("MISSING_OR_INVALID",`session topic should be a string: ${n}`);throw new Error(e)}if(this.checkRecentlyDeleted(n),!this.client.session.keys.includes(n)){const{message:e}=index_es_ht("NO_MATCHING_KEY",`session topic doesn't exist: ${n}`);throw new Error(e)}if(vi(this.client.session.get(n).expiry)){await this.deleteSession({topic:n});const{message:e}=index_es_ht("EXPIRED",`session topic: ${n}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(n)){const{message:e}=index_es_ht("MISSING_OR_INVALID",`session topic does not exist in keychain: ${n}`);throw await this.deleteSession({topic:n}),new Error(e)}}async isValidSessionOrPairingTopic(n){if(this.checkRecentlyDeleted(n),this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if(index_es_nt(n,!1)){const{message:e}=index_es_ht("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${n}`);throw new Error(e)}else{const{message:e}=index_es_ht("MISSING_OR_INVALID",`session or pairing topic should be a string: ${n}`);throw new Error(e)}}async isValidProposalId(n){if(!ga(n)){const{message:e}=index_es_ht("MISSING_OR_INVALID",`proposal id should be a number: ${n}`);throw new Error(e)}if(!this.client.proposal.keys.includes(n)){const{message:e}=index_es_ht("NO_MATCHING_KEY",`proposal id doesn't exist: ${n}`);throw new Error(e)}if(vi(this.client.proposal.get(n).expiryTimestamp)){await this.deleteProposal(n);const{message:e}=index_es_ht("EXPIRED",`proposal id: ${n}`);throw new Error(e)}}}class index_es_Ns extends index_es_zi{constructor(n,e){super(n,e,index_es_pt,dist_index_es_we),this.core=n,this.logger=e}}class sign_client_dist_index_es_St extends index_es_zi{constructor(n,e){super(n,e,dist_index_es_ht,dist_index_es_we),this.core=n,this.logger=e}}class index_es_Os extends index_es_zi{constructor(n,e){super(n,e,dist_index_es_ut,dist_index_es_we,t=>t.id),this.core=n,this.logger=e}}class index_es_bs extends index_es_zi{constructor(n,e){super(n,e,index_es_mt,index_es_ae,()=>index_es_ce),this.core=n,this.logger=e}}class index_es_As extends index_es_zi{constructor(n,e){super(n,e,dist_index_es_t,index_es_ae),this.core=n,this.logger=e}}class index_es_xs extends index_es_zi{constructor(n,e){super(n,e,sign_client_dist_index_es_Et,index_es_ae,t=>t.id),this.core=n,this.logger=e}}var index_es_Cs=Object.defineProperty,index_es_Vs=(S,n,e)=>n in S?index_es_Cs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,sign_client_dist_index_es_Ge=(S,n,e)=>index_es_Vs(S,typeof n!="symbol"?n+"":n,e);class index_es_Ds{constructor(n,e){this.core=n,this.logger=e,sign_client_dist_index_es_Ge(this,"authKeys"),sign_client_dist_index_es_Ge(this,"pairingTopics"),sign_client_dist_index_es_Ge(this,"requests"),this.authKeys=new index_es_bs(this.core,this.logger),this.pairingTopics=new index_es_As(this.core,this.logger),this.requests=new index_es_xs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var index_es_Ls=Object.defineProperty,index_es_ks=(S,n,e)=>n in S?index_es_Ls(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,sign_client_dist_index_es_E=(S,n,e)=>index_es_ks(S,typeof n!="symbol"?n+"":n,e);class sign_client_dist_index_es_Ee extends index_es_J{constructor(n){super(n),sign_client_dist_index_es_E(this,"protocol",dist_index_es_De),sign_client_dist_index_es_E(this,"version",sign_client_dist_index_es_Le),sign_client_dist_index_es_E(this,"name",dist_index_es_me.name),sign_client_dist_index_es_E(this,"metadata"),sign_client_dist_index_es_E(this,"core"),sign_client_dist_index_es_E(this,"logger"),sign_client_dist_index_es_E(this,"events",new external_events_.EventEmitter),sign_client_dist_index_es_E(this,"engine"),sign_client_dist_index_es_E(this,"session"),sign_client_dist_index_es_E(this,"proposal"),sign_client_dist_index_es_E(this,"pendingRequest"),sign_client_dist_index_es_E(this,"auth"),sign_client_dist_index_es_E(this,"signConfig"),sign_client_dist_index_es_E(this,"on",(t,s)=>this.events.on(t,s)),sign_client_dist_index_es_E(this,"once",(t,s)=>this.events.once(t,s)),sign_client_dist_index_es_E(this,"off",(t,s)=>this.events.off(t,s)),sign_client_dist_index_es_E(this,"removeListener",(t,s)=>this.events.removeListener(t,s)),sign_client_dist_index_es_E(this,"removeAllListeners",t=>this.events.removeAllListeners(t)),sign_client_dist_index_es_E(this,"connect",async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"pair",async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"approve",async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"reject",async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"update",async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"extend",async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"request",async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"respond",async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"ping",async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"emit",async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"disconnect",async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"find",t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}}),sign_client_dist_index_es_E(this,"authenticate",async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}}),sign_client_dist_index_es_E(this,"formatAuthMessage",t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"approveSessionAuthenticate",async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),sign_client_dist_index_es_E(this,"rejectSessionAuthenticate",async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),this.name=n?.name||dist_index_es_me.name,this.metadata=oi(n?.metadata),this.signConfig=n?.signConfig;const e=typeof n?.logger<"u"&&typeof n?.logger!="string"?n.logger:pino_default()(logger_dist_index_es_k({level:n?.logger||dist_index_es_me.logger}));this.core=n?.core||new dist_index_es_Jo(n),this.logger=dist_index_es_E(e,this.name),this.session=new sign_client_dist_index_es_St(this.core,this.logger),this.proposal=new index_es_Ns(this.core,this.logger),this.pendingRequest=new index_es_Os(this.core,this.logger),this.engine=new index_es_Ps(this),this.auth=new index_es_Ds(this.core,this.logger)}static async init(n){const e=new sign_client_dist_index_es_Ee(n);return await e.initialize(),e}get context(){return index_es_y(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,cjs.toMiliseconds)(cjs.ONE_SECOND))}catch(n){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(n.message),n}}}const index_es_Ms=(/* unused pure expression or super */ null && (sign_client_dist_index_es_St)),index_es_$s=(/* unused pure expression or super */ null && (sign_client_dist_index_es_Ee));
//# sourceMappingURL=index.es.js.map

// EXTERNAL MODULE: ./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js
var node_ponyfill = __webpack_require__(144484);
var node_ponyfill_default = /*#__PURE__*/__webpack_require__.n(node_ponyfill);
;// ./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js
var jsonrpc_http_connection_dist_index_es_P=Object.defineProperty,jsonrpc_http_connection_dist_index_es_w=Object.defineProperties,jsonrpc_http_connection_dist_index_es_E=Object.getOwnPropertyDescriptors,jsonrpc_http_connection_dist_index_es_c=Object.getOwnPropertySymbols,dist_index_es_L=Object.prototype.hasOwnProperty,jsonrpc_http_connection_dist_index_es_O=Object.prototype.propertyIsEnumerable,jsonrpc_http_connection_dist_index_es_l=(r,t,e)=>t in r?jsonrpc_http_connection_dist_index_es_P(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,jsonrpc_http_connection_dist_index_es_p=(r,t)=>{for(var e in t||(t={}))dist_index_es_L.call(t,e)&&jsonrpc_http_connection_dist_index_es_l(r,e,t[e]);if(jsonrpc_http_connection_dist_index_es_c)for(var e of jsonrpc_http_connection_dist_index_es_c(t))jsonrpc_http_connection_dist_index_es_O.call(t,e)&&jsonrpc_http_connection_dist_index_es_l(r,e,t[e]);return r},jsonrpc_http_connection_dist_index_es_v=(r,t)=>jsonrpc_http_connection_dist_index_es_w(r,jsonrpc_http_connection_dist_index_es_E(t));const jsonrpc_http_connection_dist_index_es_j={Accept:"application/json","Content-Type":"application/json"},dist_index_es_T="POST",jsonrpc_http_connection_dist_index_es_d={headers:jsonrpc_http_connection_dist_index_es_j,method:dist_index_es_T},jsonrpc_http_connection_dist_index_es_g=10;class jsonrpc_http_connection_dist_index_es_f{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new external_events_.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=safeJsonStringify(t),s=await(await node_ponyfill_default()(this.url,jsonrpc_http_connection_dist_index_es_v(jsonrpc_http_connection_dist_index_es_p({},jsonrpc_http_connection_dist_index_es_d),{body:e}))).json();this.onPayload({data:s})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((s,i)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),i(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));s()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await node_ponyfill_default()(t,jsonrpc_http_connection_dist_index_es_v(jsonrpc_http_connection_dist_index_es_p({},jsonrpc_http_connection_dist_index_es_d),{body:e}))}this.onOpen()}catch(e){const s=this.parseError(e);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const e=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const s=this.parseError(e),i=s.message||s.toString(),n=formatJsonRpcError(t,i);this.events.emit("payload",n)}parseError(t,e=this.url){return parseConnectionError(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>jsonrpc_http_connection_dist_index_es_g&&this.events.setMaxListeners(jsonrpc_http_connection_dist_index_es_g)}}
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/ethereum-provider/node_modules/@walletconnect/universal-provider/dist/index.es.js
const index_es_tt="error",universal_provider_dist_index_es_St="wss://relay.walletconnect.org",dist_index_es_Dt="wc",universal_provider_dist_index_es_qt="universal_provider",universal_provider_dist_index_es_=`${dist_index_es_Dt}@2:${universal_provider_dist_index_es_qt}:`,index_es_et="https://rpc.walletconnect.org/v1/",universal_provider_dist_index_es_w="generic",universal_provider_dist_index_es_jt=`${index_es_et}bundler`,universal_provider_dist_index_es_d={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function universal_provider_dist_index_es_Rt(){}function universal_provider_dist_index_es_G(s){return s==null||typeof s!="object"&&typeof s!="function"}function universal_provider_dist_index_es_J(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function universal_provider_dist_index_es_t(s){if(universal_provider_dist_index_es_G(s))return s;if(Array.isArray(s)||universal_provider_dist_index_es_J(s)||s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer)return s.slice(0);const t=Object.getPrototypeOf(s),e=t.constructor;if(s instanceof Date||s instanceof Map||s instanceof Set)return new e(s);if(s instanceof RegExp){const i=new e(s);return i.lastIndex=s.lastIndex,i}if(s instanceof DataView)return new e(s.buffer.slice(0));if(s instanceof Error){const i=new e(s.message);return i.stack=s.stack,i.name=s.name,i.cause=s.cause,i}if(typeof File<"u"&&s instanceof File)return new e([s],s.name,{type:s.type,lastModified:s.lastModified});if(typeof s=="object"){const i=Object.create(t);return Object.assign(i,s)}return s}function index_es_st(s){return typeof s=="object"&&s!==null}function index_es_it(s){return Object.getOwnPropertySymbols(s).filter(t=>Object.prototype.propertyIsEnumerable.call(s,t))}function index_es_rt(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const dist_index_es_Ut="[object RegExp]",dist_index_es_nt="[object String]",index_es_at="[object Number]",dist_index_es_ct="[object Boolean]",index_es_ot="[object Arguments]",dist_index_es_Ft="[object Symbol]",universal_provider_dist_index_es_Lt="[object Date]",universal_provider_dist_index_es_xt="[object Map]",universal_provider_dist_index_es_Mt="[object Set]",universal_provider_dist_index_es_Bt="[object Array]",universal_provider_dist_index_es_Gt="[object ArrayBuffer]",universal_provider_dist_index_es_Jt="[object Object]",dist_index_es_zt="[object DataView]",universal_provider_dist_index_es_kt="[object Uint8Array]",universal_provider_dist_index_es_Wt="[object Uint8ClampedArray]",universal_provider_dist_index_es_Kt="[object Uint16Array]",universal_provider_dist_index_es_Vt="[object Uint32Array]",universal_provider_dist_index_es_Xt="[object Int8Array]",universal_provider_dist_index_es_Yt="[object Int16Array]",universal_provider_dist_index_es_Qt="[object Int32Array]",dist_index_es_Zt="[object Float32Array]",universal_provider_dist_index_es_Tt="[object Float64Array]";function universal_provider_dist_index_es_te(s,t){return universal_provider_dist_index_es_y(s,void 0,s,new Map,t)}function universal_provider_dist_index_es_y(s,t,e,i=new Map,n=void 0){const a=n?.(s,t,e,i);if(a!=null)return a;if(universal_provider_dist_index_es_G(s))return s;if(i.has(s))return i.get(s);if(Array.isArray(s)){const r=new Array(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=universal_provider_dist_index_es_y(s[c],c,e,i,n);return Object.hasOwn(s,"index")&&(r.index=s.index),Object.hasOwn(s,"input")&&(r.input=s.input),r}if(s instanceof Date)return new Date(s.getTime());if(s instanceof RegExp){const r=new RegExp(s.source,s.flags);return r.lastIndex=s.lastIndex,r}if(s instanceof Map){const r=new Map;i.set(s,r);for(const[c,o]of s)r.set(c,universal_provider_dist_index_es_y(o,c,e,i,n));return r}if(s instanceof Set){const r=new Set;i.set(s,r);for(const c of s)r.add(universal_provider_dist_index_es_y(c,void 0,e,i,n));return r}if(typeof Buffer<"u"&&Buffer.isBuffer(s))return s.subarray();if(universal_provider_dist_index_es_J(s)){const r=new(Object.getPrototypeOf(s)).constructor(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=universal_provider_dist_index_es_y(s[c],c,e,i,n);return r}if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer)return s.slice(0);if(s instanceof DataView){const r=new DataView(s.buffer.slice(0),s.byteOffset,s.byteLength);return i.set(s,r),universal_provider_dist_index_es_g(r,s,e,i,n),r}if(typeof File<"u"&&s instanceof File){const r=new File([s],s.name,{type:s.type});return i.set(s,r),universal_provider_dist_index_es_g(r,s,e,i,n),r}if(s instanceof Blob){const r=new Blob([s],{type:s.type});return i.set(s,r),universal_provider_dist_index_es_g(r,s,e,i,n),r}if(s instanceof Error){const r=new s.constructor;return i.set(s,r),r.message=s.message,r.name=s.name,r.stack=s.stack,r.cause=s.cause,universal_provider_dist_index_es_g(r,s,e,i,n),r}if(typeof s=="object"&&index_es_ee(s)){const r=Object.create(Object.getPrototypeOf(s));return i.set(s,r),universal_provider_dist_index_es_g(r,s,e,i,n),r}return s}function universal_provider_dist_index_es_g(s,t,e=s,i,n){const a=[...Object.keys(t),...index_es_it(t)];for(let r=0;r<a.length;r++){const c=a[r],o=Object.getOwnPropertyDescriptor(s,c);(o==null||o.writable)&&(s[c]=universal_provider_dist_index_es_y(t[c],c,e,i,n))}}function index_es_ee(s){switch(index_es_rt(s)){case index_es_ot:case universal_provider_dist_index_es_Bt:case universal_provider_dist_index_es_Gt:case dist_index_es_zt:case dist_index_es_ct:case universal_provider_dist_index_es_Lt:case dist_index_es_Zt:case universal_provider_dist_index_es_Tt:case universal_provider_dist_index_es_Xt:case universal_provider_dist_index_es_Yt:case universal_provider_dist_index_es_Qt:case universal_provider_dist_index_es_xt:case index_es_at:case universal_provider_dist_index_es_Jt:case dist_index_es_Ut:case universal_provider_dist_index_es_Mt:case dist_index_es_nt:case dist_index_es_Ft:case universal_provider_dist_index_es_kt:case universal_provider_dist_index_es_Wt:case universal_provider_dist_index_es_Kt:case universal_provider_dist_index_es_Vt:return!0;default:return!1}}function dist_index_es_se(s,t){return universal_provider_dist_index_es_te(s,(e,i,n,a)=>{const r=t?.(e,i,n,a);if(r!=null)return r;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case index_es_at:case dist_index_es_nt:case dist_index_es_ct:{const c=new s.constructor(s?.valueOf());return universal_provider_dist_index_es_g(c,s),c}case index_es_ot:{const c={};return universal_provider_dist_index_es_g(c,s),c.length=s.length,c[Symbol.iterator]=s[Symbol.iterator],c}default:return}})}function universal_provider_dist_index_es_ht(s){return dist_index_es_se(s)}function dist_index_es_pt(s){return s!==null&&typeof s=="object"&&index_es_rt(s)==="[object Arguments]"}function dist_index_es_ie(s){return universal_provider_dist_index_es_J(s)}function dist_index_es_re(s){if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const e=s[Symbol.toStringTag];return e==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${e}]`}let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t}function index_es_ne(s,...t){const e=t.slice(0,-1),i=t[t.length-1];let n=s;for(let a=0;a<e.length;a++){const r=e[a];n=U(n,r,i,new Map)}return n}function U(s,t,e,i){if(universal_provider_dist_index_es_G(s)&&(s=Object(s)),t==null||typeof t!="object")return s;if(i.has(t))return universal_provider_dist_index_es_t(i.get(t));if(i.set(t,s),Array.isArray(t)){t=t.slice();for(let a=0;a<t.length;a++)t[a]=t[a]??void 0}const n=[...Object.keys(t),...index_es_it(t)];for(let a=0;a<n.length;a++){const r=n[a];let c=t[r],o=s[r];if(dist_index_es_pt(c)&&(c={...c}),dist_index_es_pt(o)&&(o={...o}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=universal_provider_dist_index_es_ht(c)),Array.isArray(c))if(typeof o=="object"&&o!=null){const j=[],R=Reflect.ownKeys(o);for(let f=0;f<R.length;f++){const Y=R[f];j[Y]=o[Y]}o=j}else o=[];const v=e(o,c,r,s,t,i);v!=null?s[r]=v:Array.isArray(c)||index_es_st(o)&&index_es_st(c)?s[r]=U(o,c,e,i):o==null&&dist_index_es_re(c)?s[r]=U({},c,e,i):o==null&&dist_index_es_ie(c)?s[r]=universal_provider_dist_index_es_ht(c):(o===void 0||c!==void 0)&&(s[r]=c)}return s}function dist_index_es_ae(s,...t){return index_es_ne(s,...t,universal_provider_dist_index_es_Rt)}var dist_index_es_ce=Object.defineProperty,index_es_oe=Object.defineProperties,universal_provider_dist_index_es_he=Object.getOwnPropertyDescriptors,universal_provider_dist_index_es_dt=Object.getOwnPropertySymbols,universal_provider_dist_index_es_pe=Object.prototype.hasOwnProperty,universal_provider_dist_index_es_de=Object.prototype.propertyIsEnumerable,universal_provider_dist_index_es_ut=(s,t,e)=>t in s?dist_index_es_ce(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dist_index_es_F=(s,t)=>{for(var e in t||(t={}))universal_provider_dist_index_es_pe.call(t,e)&&universal_provider_dist_index_es_ut(s,e,t[e]);if(universal_provider_dist_index_es_dt)for(var e of universal_provider_dist_index_es_dt(t))universal_provider_dist_index_es_de.call(t,e)&&universal_provider_dist_index_es_ut(s,e,t[e]);return s},dist_index_es_ue=(s,t)=>index_es_oe(s,universal_provider_dist_index_es_he(t));function universal_provider_dist_index_es_p(s,t,e){var i;const n=index_es_Ie(s);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${index_es_et}?chainId=${n.namespace}:${n.reference}&projectId=${e}`}function universal_provider_dist_index_es_P(s){return s.includes(":")?s.split(":")[1]:s}function dist_index_es_lt(s){return s.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function universal_provider_dist_index_es_le(s,t){const e=Object.keys(t.namespaces).filter(n=>n.includes(s));if(!e.length)return[];const i=[];return e.forEach(n=>{const a=t.namespaces[n].accounts;i.push(...a)}),i}function universal_provider_dist_index_es_z(s={},t={}){const e=universal_provider_dist_index_es_ft(s),i=universal_provider_dist_index_es_ft(t);return dist_index_es_ae(e,i)}function universal_provider_dist_index_es_ft(s){var t,e,i,n;const a={};if(!index_es_xe(s))return a;for(const[r,c]of Object.entries(s)){const o=index_es_gn(r)?[r]:c.chains,v=c.methods||[],j=c.events||[],R=c.rpcMap||{},f=index_es_yo(r);a[f]=dist_index_es_ue(dist_index_es_F(dist_index_es_F({},a[f]),c),{chains:at(o,(t=a[f])==null?void 0:t.chains),methods:at(v,(e=a[f])==null?void 0:e.methods),events:at(j,(i=a[f])==null?void 0:i.events),rpcMap:dist_index_es_F(dist_index_es_F({},R),(n=a[f])==null?void 0:n.rpcMap)})}return a}function dist_index_es_mt(s){return s.includes(":")?s.split(":")[2]:s}function index_es_vt(s){const t={};for(const[e,i]of Object.entries(s)){const n=i.methods||[],a=i.events||[],r=i.accounts||[],c=index_es_gn(e)?[e]:i.chains?i.chains:dist_index_es_lt(i.accounts);t[e]={chains:c,methods:n,events:a,accounts:r}}return t}function universal_provider_dist_index_es_k(s){return typeof s=="number"?s:s.includes("0x")?parseInt(s,16):(s=s.includes(":")?s.split(":")[1]:s,isNaN(Number(s))?s:Number(s))}const universal_provider_dist_index_es_gt={},universal_provider_dist_index_es_h=s=>universal_provider_dist_index_es_gt[s],dist_index_es_W=(s,t)=>{universal_provider_dist_index_es_gt[s]=t};var dist_index_es_fe=Object.defineProperty,universal_provider_dist_index_es_me=(s,t,e)=>t in s?dist_index_es_fe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_b=(s,t,e)=>universal_provider_dist_index_es_me(s,typeof t!="symbol"?t+"":t,e);class dist_index_es_ve{constructor(t){universal_provider_dist_index_es_b(this,"name","polkadot"),universal_provider_dist_index_es_b(this,"client"),universal_provider_dist_index_es_b(this,"httpProviders"),universal_provider_dist_index_es_b(this,"events"),universal_provider_dist_index_es_b(this,"namespace"),universal_provider_dist_index_es_b(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=universal_provider_dist_index_es_P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_ge=Object.defineProperty,dist_index_es_Pe=Object.defineProperties,universal_provider_dist_index_es_we=Object.getOwnPropertyDescriptors,universal_provider_dist_index_es_Pt=Object.getOwnPropertySymbols,universal_provider_dist_index_es_ye=Object.prototype.hasOwnProperty,universal_provider_dist_index_es_be=Object.prototype.propertyIsEnumerable,universal_provider_dist_index_es_K=(s,t,e)=>t in s?universal_provider_dist_index_es_ge(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_wt=(s,t)=>{for(var e in t||(t={}))universal_provider_dist_index_es_ye.call(t,e)&&universal_provider_dist_index_es_K(s,e,t[e]);if(universal_provider_dist_index_es_Pt)for(var e of universal_provider_dist_index_es_Pt(t))universal_provider_dist_index_es_be.call(t,e)&&universal_provider_dist_index_es_K(s,e,t[e]);return s},universal_provider_dist_index_es_yt=(s,t)=>dist_index_es_Pe(s,universal_provider_dist_index_es_we(t)),dist_index_es_I=(s,t,e)=>universal_provider_dist_index_es_K(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_Ie{constructor(t){dist_index_es_I(this,"name","eip155"),dist_index_es_I(this,"client"),dist_index_es_I(this,"chainId"),dist_index_es_I(this,"namespace"),dist_index_es_I(this,"httpProviders"),dist_index_es_I(this,"events"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=parseInt(universal_provider_dist_index_es_P(e));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,i;let n=t.request.params?(e=t.request.params[0])==null?void 0:e.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const a=parseInt(n,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,i,n;const a=(i=(e=t.request)==null?void 0:e.params)==null?void 0:i[0];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const r=this.client.session.get(t.topic),c=((n=r?.sessionProperties)==null?void 0:n.capabilities)||{};if(c!=null&&c[a])return c?.[a];const o=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:universal_provider_dist_index_es_yt(universal_provider_dist_index_es_wt({},r.sessionProperties||{}),{capabilities:universal_provider_dist_index_es_yt(universal_provider_dist_index_es_wt({},c||{}),{[a]:o})})})}catch(v){console.warn("Failed to update session with capabilities",v)}return o}async getCallStatus(t){var e,i;const n=this.client.session.get(t.topic),a=(e=n.sessionProperties)==null?void 0:e.bundler_name;if(a){const c=this.getBundlerUrl(t.chainId,a);try{return await this.getUserOperationReceipt(c,t)}catch(o){console.warn("Failed to fetch call status from bundler",o,c)}}const r=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(r)try{return await this.getUserOperationReceipt(r,t)}catch(c){console.warn("Failed to fetch call status from custom bundler",c,r)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,e){var i;const n=new URL(t),a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formatJsonRpcRequest("eth_getUserOperationReceipt",[(i=e.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(t,e){return`${universal_provider_dist_index_es_jt}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${e}`}}var universal_provider_dist_index_es_$e=Object.defineProperty,index_es_Oe=(s,t,e)=>t in s?universal_provider_dist_index_es_$e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_$=(s,t,e)=>index_es_Oe(s,typeof t!="symbol"?t+"":t,e);class index_es_Ae{constructor(t){universal_provider_dist_index_es_$(this,"name","solana"),universal_provider_dist_index_es_$(this,"client"),universal_provider_dist_index_es_$(this,"httpProviders"),universal_provider_dist_index_es_$(this,"events"),universal_provider_dist_index_es_$(this,"namespace"),universal_provider_dist_index_es_$(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=universal_provider_dist_index_es_P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_Ce=Object.defineProperty,universal_provider_dist_index_es_He=(s,t,e)=>t in s?universal_provider_dist_index_es_Ce(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_O=(s,t,e)=>universal_provider_dist_index_es_He(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_Ee{constructor(t){universal_provider_dist_index_es_O(this,"name","cosmos"),universal_provider_dist_index_es_O(this,"client"),universal_provider_dist_index_es_O(this,"httpProviders"),universal_provider_dist_index_es_O(this,"events"),universal_provider_dist_index_es_O(this,"namespace"),universal_provider_dist_index_es_O(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=universal_provider_dist_index_es_P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var dist_index_es_Ne=Object.defineProperty,dist_index_es_Se=(s,t,e)=>t in s?dist_index_es_Ne(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dist_index_es_A=(s,t,e)=>dist_index_es_Se(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_De{constructor(t){dist_index_es_A(this,"name","algorand"),dist_index_es_A(this,"client"),dist_index_es_A(this,"httpProviders"),dist_index_es_A(this,"events"),dist_index_es_A(this,"namespace"),dist_index_es_A(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const i=e||universal_provider_dist_index_es_p(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_qe=Object.defineProperty,universal_provider_dist_index_es_je=(s,t,e)=>t in s?universal_provider_dist_index_es_qe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_C=(s,t,e)=>universal_provider_dist_index_es_je(s,typeof t!="symbol"?t+"":t,e);class dist_index_es_Re{constructor(t){universal_provider_dist_index_es_C(this,"name","cip34"),universal_provider_dist_index_es_C(this,"client"),universal_provider_dist_index_es_C(this,"httpProviders"),universal_provider_dist_index_es_C(this,"events"),universal_provider_dist_index_es_C(this,"namespace"),universal_provider_dist_index_es_C(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{const i=this.getCardanoRPCUrl(e),n=universal_provider_dist_index_es_P(e);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_e=Object.defineProperty,universal_provider_dist_index_es_Ue=(s,t,e)=>t in s?universal_provider_dist_index_es_e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_H=(s,t,e)=>universal_provider_dist_index_es_Ue(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_Fe{constructor(t){universal_provider_dist_index_es_H(this,"name","elrond"),universal_provider_dist_index_es_H(this,"client"),universal_provider_dist_index_es_H(this,"httpProviders"),universal_provider_dist_index_es_H(this,"events"),universal_provider_dist_index_es_H(this,"namespace"),universal_provider_dist_index_es_H(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=universal_provider_dist_index_es_P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_Le=Object.defineProperty,dist_index_es_xe=(s,t,e)=>t in s?universal_provider_dist_index_es_Le(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_E=(s,t,e)=>dist_index_es_xe(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_Me{constructor(t){universal_provider_dist_index_es_E(this,"name","multiversx"),universal_provider_dist_index_es_E(this,"client"),universal_provider_dist_index_es_E(this,"httpProviders"),universal_provider_dist_index_es_E(this,"events"),universal_provider_dist_index_es_E(this,"namespace"),universal_provider_dist_index_es_E(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=universal_provider_dist_index_es_P(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var dist_index_es_Be=Object.defineProperty,universal_provider_dist_index_es_Ge=(s,t,e)=>t in s?dist_index_es_Be(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_N=(s,t,e)=>universal_provider_dist_index_es_Ge(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_Je{constructor(t){universal_provider_dist_index_es_N(this,"name","near"),universal_provider_dist_index_es_N(this,"client"),universal_provider_dist_index_es_N(this,"httpProviders"),universal_provider_dist_index_es_N(this,"events"),universal_provider_dist_index_es_N(this,"namespace"),universal_provider_dist_index_es_N(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||universal_provider_dist_index_es_p(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace);return typeof i>"u"?void 0:new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_ze=Object.defineProperty,universal_provider_dist_index_es_ke=(s,t,e)=>t in s?universal_provider_dist_index_es_ze(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_S=(s,t,e)=>universal_provider_dist_index_es_ke(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_We{constructor(t){universal_provider_dist_index_es_S(this,"name","tezos"),universal_provider_dist_index_es_S(this,"client"),universal_provider_dist_index_es_S(this,"httpProviders"),universal_provider_dist_index_es_S(this,"events"),universal_provider_dist_index_es_S(this,"namespace"),universal_provider_dist_index_es_S(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||universal_provider_dist_index_es_p(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{t[e]=this.createHttpProvider(e)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace);return typeof i>"u"?void 0:new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i))}}var universal_provider_dist_index_es_Ke=Object.defineProperty,universal_provider_dist_index_es_Ve=(s,t,e)=>t in s?universal_provider_dist_index_es_Ke(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,index_es_D=(s,t,e)=>universal_provider_dist_index_es_Ve(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_Xe{constructor(t){index_es_D(this,"name",universal_provider_dist_index_es_w),index_es_D(this,"client"),index_es_D(this,"httpProviders"),index_es_D(this,"events"),index_es_D(this,"namespace"),index_es_D(this,"chainId"),this.namespace=t.namespace,this.events=universal_provider_dist_index_es_h("events"),this.client=universal_provider_dist_index_es_h("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var t,e;const i={};return(e=(t=this.namespace)==null?void 0:t.accounts)==null||e.forEach(n=>{const a=index_es_Ie(n);i[`${a.namespace}:${a.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(t){const e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i)}createHttpProvider(t,e){const i=e||universal_provider_dist_index_es_p(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new jsonrpc_provider_dist_index_es_o(new jsonrpc_http_connection_dist_index_es_f(i,universal_provider_dist_index_es_h("disableProviderPing")))}}var universal_provider_dist_index_es_Ye=Object.defineProperty,universal_provider_dist_index_es_Qe=Object.defineProperties,universal_provider_dist_index_es_Ze=Object.getOwnPropertyDescriptors,dist_index_es_bt=Object.getOwnPropertySymbols,universal_provider_dist_index_es_Te=Object.prototype.hasOwnProperty,dist_index_es_ts=Object.prototype.propertyIsEnumerable,universal_provider_dist_index_es_V=(s,t,e)=>t in s?universal_provider_dist_index_es_Ye(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,universal_provider_dist_index_es_L=(s,t)=>{for(var e in t||(t={}))universal_provider_dist_index_es_Te.call(t,e)&&universal_provider_dist_index_es_V(s,e,t[e]);if(dist_index_es_bt)for(var e of dist_index_es_bt(t))dist_index_es_ts.call(t,e)&&universal_provider_dist_index_es_V(s,e,t[e]);return s},index_es_X=(s,t)=>universal_provider_dist_index_es_Qe(s,universal_provider_dist_index_es_Ze(t)),dist_index_es_u=(s,t,e)=>universal_provider_dist_index_es_V(s,typeof t!="symbol"?t+"":t,e);class universal_provider_dist_index_es_x{constructor(t){dist_index_es_u(this,"client"),dist_index_es_u(this,"namespaces"),dist_index_es_u(this,"optionalNamespaces"),dist_index_es_u(this,"sessionProperties"),dist_index_es_u(this,"scopedProperties"),dist_index_es_u(this,"events",new (external_events_default())),dist_index_es_u(this,"rpcProviders",{}),dist_index_es_u(this,"session"),dist_index_es_u(this,"providerOpts"),dist_index_es_u(this,"logger"),dist_index_es_u(this,"uri"),dist_index_es_u(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:pino_default()(logger_dist_index_es_k({level:t?.logger||index_es_tt})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new universal_provider_dist_index_es_x(t);return await e.initialize(),e}async request(t,e,i){const[n,a]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:universal_provider_dist_index_es_L({},t),chainId:`${n}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(t,e,i,n){const a=new Date().getTime();this.request(t,i,n).then(r=>e(null,formatJsonRpcResult(a,r))).catch(r=>e(r,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:index_es_Nt("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,e){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(t,e);i&&(this.uri=i,this.events.emit("display_uri",i));const a=await n();if(this.session=a.session,this.session){const r=index_es_vt(this.session.namespaces);this.namespaces=universal_provider_dist_index_es_z(this.namespaces,r),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){const{uri:e,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});e&&(this.uri=e,this.events.emit("display_uri",e));const n=await i();this.session=n;const a=index_es_vt(n.namespaces);return this.namespaces=universal_provider_dist_index_es_z(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[i,n]=this.validateChain(t),a=this.getProvider(i);a.name===universal_provider_dist_index_es_w?a.setDefaultChain(`${i}:${n}`,e):a.setDefaultChain(n,e)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(oe(e)){for(const i of e)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,e;if(this.client=this.providerOpts.client||await sign_client_dist_index_es_Ee.init({core:this.providerOpts.core,logger:this.providerOpts.logger||index_es_tt,relayUrl:this.providerOpts.relayUrl||universal_provider_dist_index_es_St,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(e=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:e.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(e=>index_es_yo(e)))];dist_index_es_W("client",this.client),dist_index_es_W("events",this.events),dist_index_es_W("disableProviderPing",this.disableProviderPing),t.forEach(e=>{if(!this.session)return;const i=universal_provider_dist_index_es_le(e,this.session),n=dist_index_es_lt(i),a=universal_provider_dist_index_es_z(this.namespaces,this.optionalNamespaces),r=index_es_X(universal_provider_dist_index_es_L({},a[e]),{accounts:i,chains:n});switch(e){case"eip155":this.rpcProviders[e]=new universal_provider_dist_index_es_Ie({namespace:r});break;case"algorand":this.rpcProviders[e]=new universal_provider_dist_index_es_De({namespace:r});break;case"solana":this.rpcProviders[e]=new index_es_Ae({namespace:r});break;case"cosmos":this.rpcProviders[e]=new universal_provider_dist_index_es_Ee({namespace:r});break;case"polkadot":this.rpcProviders[e]=new dist_index_es_ve({namespace:r});break;case"cip34":this.rpcProviders[e]=new dist_index_es_Re({namespace:r});break;case"elrond":this.rpcProviders[e]=new universal_provider_dist_index_es_Fe({namespace:r});break;case"multiversx":this.rpcProviders[e]=new universal_provider_dist_index_es_Me({namespace:r});break;case"near":this.rpcProviders[e]=new universal_provider_dist_index_es_Je({namespace:r});break;case"tezos":this.rpcProviders[e]=new universal_provider_dist_index_es_We({namespace:r});break;default:this.rpcProviders[universal_provider_dist_index_es_w]?this.rpcProviders[universal_provider_dist_index_es_w].updateNamespace(r):this.rpcProviders[universal_provider_dist_index_es_w]=new universal_provider_dist_index_es_Xe({namespace:r})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var e;const{topic:i}=t;i===((e=this.session)==null?void 0:e.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var e;const{params:i,topic:n}=t;if(n!==((e=this.session)==null?void 0:e.topic))return;const{event:a}=i;if(a.name==="accountsChanged"){const r=a.data;r&&oe(r)&&this.events.emit("accountsChanged",r.map(dist_index_es_mt))}else if(a.name==="chainChanged"){const r=i.chainId,c=i.event.data,o=index_es_yo(r),v=universal_provider_dist_index_es_k(r)!==universal_provider_dist_index_es_k(c)?`${o}:${universal_provider_dist_index_es_k(c)}`:r;this.onChainChanged(v)}else this.events.emit(a.name,a.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:e})=>{var i,n;if(t!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=e,r=(n=this.client)==null?void 0:n.session.get(t);this.session=index_es_X(universal_provider_dist_index_es_L({},r),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e})}),this.client.on("session_delete",async t=>{var e;t.topic===((e=this.session)==null?void 0:e.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",index_es_X(universal_provider_dist_index_es_L({},index_es_Nt("USER_DISCONNECTED")),{data:t.topic})))}),this.on(universal_provider_dist_index_es_d.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[universal_provider_dist_index_es_w]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var e;this.getProvider(t).updateNamespace((e=this.session)==null?void 0:e.namespaces[t])})}setNamespaces(t){const{namespaces:e,optionalNamespaces:i,sessionProperties:n,scopedProperties:a}=t;e&&Object.keys(e).length&&(this.namespaces=e),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.scopedProperties=a}validateChain(t){const[e,i]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,i];if(e&&!Object.keys(this.namespaces||{}).map(r=>index_es_yo(r)).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&i)return[e,i];const n=index_es_yo(Object.keys(this.namespaces)[0]),a=this.rpcProviders[n].getDefaultChain();return[n,a]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,e=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);if(!n)return;this.updateNamespaceChain(i,n),this.events.emit("chainChanged",n);const a=this.getProvider(i).getDefaultChain();e||this.getProvider(i).setDefaultChain(n),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:a,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:e,newChainId:i}){var n,a;try{if(e===i)return;const r=(a=(n=this.session)==null?void 0:n.namespaces[t])==null?void 0:a.accounts;if(!r)return;const c=r.filter(o=>o.includes(`${i}:`)).map(dist_index_es_mt);if(!oe(c))return;this.events.emit("accountsChanged",c)}catch(r){this.logger.warn("Failed to emit accountsChanged on chain change",r)}}updateNamespaceChain(t,e){if(!this.namespaces)return;const i=this.namespaces[t]?t:`${t}:${e}`,n={chains:[],methods:[],events:[],defaultChain:e};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=e):this.namespaces[i]=n}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,e){var i;const n=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${universal_provider_dist_index_es_}/${t}${n}`,e)}async getFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||"";return await this.client.core.storage.getItem(`${universal_provider_dist_index_es_}/${t}${i}`)}async deleteFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||"";await this.client.core.storage.removeItem(`${universal_provider_dist_index_es_}/${t}${i}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const e=await this.client.core.storage.getKeys();for(const i of e)i.startsWith(universal_provider_dist_index_es_)&&await this.client.core.storage.removeItem(i)}catch(e){this.logger.warn("Failed to cleanup storage",e)}}}const index_es_es=universal_provider_dist_index_es_x;
//# sourceMappingURL=index.es.js.map

;// ./node_modules/@walletconnect/ethereum-provider/dist/index.es.js
const I0="wc",N0="ethereum_provider",k0=`${I0}@2:${N0}:`,T0="https://rpc.walletconnect.org/v1/",ethereum_provider_dist_index_es_wo=["eth_sendTransaction","personal_sign"],el=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],ethereum_provider_dist_index_es_mo=["chainChanged","accountsChanged"],tl=["chainChanged","accountsChanged","message","disconnect","connect"];var O0=Object.defineProperty,$0=Object.defineProperties,P0=Object.getOwnPropertyDescriptors,rl=Object.getOwnPropertySymbols,B0=Object.prototype.hasOwnProperty,R0=Object.prototype.propertyIsEnumerable,index_es_da=(t,e,r)=>e in t?O0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ethereum_provider_dist_index_es_xr=(t,e)=>{for(var r in e||(e={}))B0.call(e,r)&&index_es_da(t,r,e[r]);if(rl)for(var r of rl(e))R0.call(e,r)&&index_es_da(t,r,e[r]);return t},dist_index_es_Dn=(t,e)=>$0(t,P0(e)),dist_index_es_ot=(t,e,r)=>index_es_da(t,typeof e!="symbol"?e+"":e,r);function ethereum_provider_dist_index_es_bo(t){return Number(t[0].split(":")[1])}function ethereum_provider_dist_index_es_vo(t){return`0x${t.toString(16)}`}function L0(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:o,optionalEvents:s,rpcMap:a}=t;if(!oe(e))throw new Error("Invalid chains");const c={chains:e,methods:n||ethereum_provider_dist_index_es_wo,events:o||ethereum_provider_dist_index_es_mo,rpcMap:ethereum_provider_dist_index_es_xr({},e.length?{[ethereum_provider_dist_index_es_bo(e)]:a[ethereum_provider_dist_index_es_bo(e)]}:{})},l=o?.filter(p=>!ethereum_provider_dist_index_es_mo.includes(p)),d=n?.filter(p=>!ethereum_provider_dist_index_es_wo.includes(p));if(!r&&!s&&!i&&!(l!=null&&l.length)&&!(d!=null&&d.length))return{required:e.length?c:void 0};const u=l?.length&&d?.length||!r,h={chains:[...new Set(u?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:el))],events:[...new Set(c.events.concat(s!=null&&s.length?s:tl))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?h:void 0}}class index_es_ca{constructor(){dist_index_es_ot(this,"events",new external_events_.EventEmitter),dist_index_es_ot(this,"namespace","eip155"),dist_index_es_ot(this,"accounts",[]),dist_index_es_ot(this,"signer"),dist_index_es_ot(this,"chainId",1),dist_index_es_ot(this,"modal"),dist_index_es_ot(this,"rpc"),dist_index_es_ot(this,"STORAGE_KEY",k0),dist_index_es_ot(this,"on",(e,r)=>(this.events.on(e,r),this)),dist_index_es_ot(this,"once",(e,r)=>(this.events.once(e,r),this)),dist_index_es_ot(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),dist_index_es_ot(this,"off",(e,r)=>(this.events.off(e,r),this)),dist_index_es_ot(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new index_es_ca;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=L0(this.rpc);try{const o=await new Promise(async(a,c)=>{var l,d;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(d=this.modal)==null||d.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const u=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(dist_index_es_Dn(ethereum_provider_dist_index_es_xr({namespaces:ethereum_provider_dist_index_es_xr({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:u})).then(h=>{a(h)}).catch(h=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!o)return;const s=index_es_Ko(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:ethereum_provider_dist_index_es_vo(this.chainId)})}catch(o){throw this.signer.logger.error(o),o}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(s,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(dist_index_es_Dn(ethereum_provider_dist_index_es_xr({},e),{chains:this.rpc.chains}),r).then(d=>{s(d)}).catch(d=>{var u;(u=this.modal)==null||u.showErrorMessage("Unable to connect"),a(new Error(d.message))})}),o=i.session;if(o){const s=index_es_Ko(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:ethereum_provider_dist_index_es_vo(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",ethereum_provider_dist_index_es_vo(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",dist_index_es_Dn(ethereum_provider_dist_index_es_xr({},index_es_Nt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",ethereum_provider_dist_index_es_vo(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e?.chains)!=null?r:[],o=(n=e?.optionalChains)!=null?n:[],s=i.concat(o);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?e?.methods||ethereum_provider_dist_index_es_wo:[],c=i.length?e?.events||ethereum_provider_dist_index_es_mo:[],l=e?.optionalMethods||[],d=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:i?.map(p=>this.formatChainId(p)),optionalChains:o.map(p=>this.formatChainId(p)),methods:a,events:c,optionalMethods:l,optionalEvents:d,rpcMap:u,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?ethereum_provider_dist_index_es_bo(this.rpc.chains):ethereum_provider_dist_index_es_bo(this.rpc.optionalChains),this.signer=await index_es_es.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{createAppKit:n}=await Promise.resolve().then(function(){return l2}),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return C2}),o=i(dist_index_es_Dn(ethereum_provider_dist_index_es_xr({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect\xB7");r=n(dist_index_es_Dn(ethereum_provider_dist_index_es_xr({},o),{universalProvider:this.signer,manualWCControl:!0}))}catch{throw new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&oe(r)&&(this.rpc.chains=r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=i?.[o]||this.getRpcUrl(o)})),n&&oe(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(o=>this.formatChainId(o)),n.forEach(o=>{this.rpc.rpcMap[o]=i?.[o]||this.getRpcUrl(o)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${T0}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r?.accounts),this.setAccounts(r?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const U0=(/* unused pure expression or super */ null && (index_es_ca));var dist_index_es_Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nl={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(dist_index_es_Co,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",a="minute",c="hour",l="day",d="week",u="month",h="quarter",p="year",v="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var S=["th","st","nd","rd"],A=_%100;return"["+_+(S[(A-20)%10]||S[A]||S[0])+"]"}},x=function(_,S,A){var P=String(_);return!P||P.length>=S?_:""+Array(S+1-P.length).join(A)+_},E={s:x,z:function(_){var S=-_.utcOffset(),A=Math.abs(S),P=Math.floor(A/60),k=A%60;return(S<=0?"+":"-")+x(P,2,"0")+":"+x(k,2,"0")},m:function _(S,A){if(S.date()<A.date())return-_(A,S);var P=12*(A.year()-S.year())+(A.month()-S.month()),k=S.clone().add(P,u),K=A-k<0,X=S.clone().add(P+(K?-1:1),u);return+(-(P+(A-k)/(K?k-X:X-k))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:u,y:p,w:d,d:l,D:v,h:c,m:a,s,ms:o,Q:h}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},I="en",$={};$[I]=y;var L="$isDayjsObject",Z=function(_){return _ instanceof ee||!(!_||!_[L])},B=function _(S,A,P){var k;if(!S)return I;if(typeof S=="string"){var K=S.toLowerCase();$[K]&&(k=K),A&&($[K]=A,k=K);var X=S.split("-");if(!k&&X.length>1)return _(X[0])}else{var ae=S.name;$[ae]=S,k=ae}return!P&&k&&(I=k),k||!P&&I},R=function(_,S){if(Z(_))return _.clone();var A=typeof S=="object"?S:{};return A.date=_,A.args=arguments,new ee(A)},N=E;N.l=B,N.i=Z,N.w=function(_,S){return R(_,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var ee=function(){function _(A){this.$L=B(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[L]=!0}var S=_.prototype;return S.parse=function(A){this.$d=function(P){var k=P.date,K=P.utc;if(k===null)return new Date(NaN);if(N.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var X=k.match(g);if(X){var ae=X[2]-1||0,fe=(X[7]||"0").substring(0,3);return K?new Date(Date.UTC(X[1],ae,X[3]||1,X[4]||0,X[5]||0,X[6]||0,fe)):new Date(X[1],ae,X[3]||1,X[4]||0,X[5]||0,X[6]||0,fe)}}return new Date(k)}(A),this.init()},S.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},S.$utils=function(){return N},S.isValid=function(){return this.$d.toString()!==m},S.isSame=function(A,P){var k=R(A);return this.startOf(P)<=k&&k<=this.endOf(P)},S.isAfter=function(A,P){return R(A)<this.startOf(P)},S.isBefore=function(A,P){return this.endOf(P)<R(A)},S.$g=function(A,P,k){return N.u(A)?this[P]:this.set(k,A)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(A,P){var k=this,K=!!N.u(P)||P,X=N.p(A),ae=function(qe,Re){var Ke=N.w(k.$u?Date.UTC(k.$y,Re,qe):new Date(k.$y,Re,qe),k);return K?Ke:Ke.endOf(l)},fe=function(qe,Re){return N.w(k.toDate()[qe].apply(k.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Re)),k)},me=this.$W,ge=this.$M,ke=this.$D,Fe="set"+(this.$u?"UTC":"");switch(X){case p:return K?ae(1,0):ae(31,11);case u:return K?ae(1,ge):ae(0,ge+1);case d:var yt=this.$locale().weekStart||0,nt=(me<yt?me+7:me)-yt;return ae(K?ke-nt:ke+(6-nt),ge);case l:case v:return fe(Fe+"Hours",0);case c:return fe(Fe+"Minutes",1);case a:return fe(Fe+"Seconds",2);case s:return fe(Fe+"Milliseconds",3);default:return this.clone()}},S.endOf=function(A){return this.startOf(A,!1)},S.$set=function(A,P){var k,K=N.p(A),X="set"+(this.$u?"UTC":""),ae=(k={},k[l]=X+"Date",k[v]=X+"Date",k[u]=X+"Month",k[p]=X+"FullYear",k[c]=X+"Hours",k[a]=X+"Minutes",k[s]=X+"Seconds",k[o]=X+"Milliseconds",k)[K],fe=K===l?this.$D+(P-this.$W):P;if(K===u||K===p){var me=this.clone().set(v,1);me.$d[ae](fe),me.init(),this.$d=me.set(v,Math.min(this.$D,me.daysInMonth())).$d}else ae&&this.$d[ae](fe);return this.init(),this},S.set=function(A,P){return this.clone().$set(A,P)},S.get=function(A){return this[N.p(A)]()},S.add=function(A,P){var k,K=this;A=Number(A);var X=N.p(P),ae=function(ge){var ke=R(K);return N.w(ke.date(ke.date()+Math.round(ge*A)),K)};if(X===u)return this.set(u,this.$M+A);if(X===p)return this.set(p,this.$y+A);if(X===l)return ae(1);if(X===d)return ae(7);var fe=(k={},k[a]=n,k[c]=i,k[s]=r,k)[X]||1,me=this.$d.getTime()+A*fe;return N.w(me,this)},S.subtract=function(A,P){return this.add(-1*A,P)},S.format=function(A){var P=this,k=this.$locale();if(!this.isValid())return k.invalidDate||m;var K=A||"YYYY-MM-DDTHH:mm:ssZ",X=N.z(this),ae=this.$H,fe=this.$m,me=this.$M,ge=k.weekdays,ke=k.months,Fe=k.meridiem,yt=function(Re,Ke,it,Nt){return Re&&(Re[Ke]||Re(P,K))||it[Ke].slice(0,Nt)},nt=function(Re){return N.s(ae%12||12,Re,"0")},qe=Fe||function(Re,Ke,it){var Nt=Re<12?"AM":"PM";return it?Nt.toLowerCase():Nt};return K.replace(b,function(Re,Ke){return Ke||function(it){switch(it){case"YY":return String(P.$y).slice(-2);case"YYYY":return N.s(P.$y,4,"0");case"M":return me+1;case"MM":return N.s(me+1,2,"0");case"MMM":return yt(k.monthsShort,me,ke,3);case"MMMM":return yt(ke,me);case"D":return P.$D;case"DD":return N.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return yt(k.weekdaysMin,P.$W,ge,2);case"ddd":return yt(k.weekdaysShort,P.$W,ge,3);case"dddd":return ge[P.$W];case"H":return String(ae);case"HH":return N.s(ae,2,"0");case"h":return nt(1);case"hh":return nt(2);case"a":return qe(ae,fe,!0);case"A":return qe(ae,fe,!1);case"m":return String(fe);case"mm":return N.s(fe,2,"0");case"s":return String(P.$s);case"ss":return N.s(P.$s,2,"0");case"SSS":return N.s(P.$ms,3,"0");case"Z":return X}return null}(Re)||X.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(A,P,k){var K,X=this,ae=N.p(P),fe=R(A),me=(fe.utcOffset()-this.utcOffset())*n,ge=this-fe,ke=function(){return N.m(X,fe)};switch(ae){case p:K=ke()/12;break;case u:K=ke();break;case h:K=ke()/3;break;case d:K=(ge-me)/6048e5;break;case l:K=(ge-me)/864e5;break;case c:K=ge/i;break;case a:K=ge/n;break;case s:K=ge/r;break;default:K=ge}return k?K:N.a(K)},S.daysInMonth=function(){return this.endOf(u).$D},S.$locale=function(){return $[this.$L]},S.locale=function(A,P){if(!A)return this.$L;var k=this.clone(),K=B(A,P,!0);return K&&(k.$L=K),k},S.clone=function(){return N.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},_}(),pe=ee.prototype;return R.prototype=pe,[["$ms",o],["$s",s],["$m",a],["$H",c],["$W",l],["$M",u],["$y",p],["$D",v]].forEach(function(_){pe[_[1]]=function(S){return this.$g(S,_[0],_[1])}}),R.extend=function(_,S){return _.$i||(_(S,ee,R),_.$i=!0),R},R.locale=B,R.isDayjs=Z,R.unix=function(_){return R(1e3*_)},R.en=$[I],R.Ls=$,R.p={},R})})(nl);var index_es_ua=nl.exports,il={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(dist_index_es_Co,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var n=["th","st","nd","rd"],i=r%100;return"["+r+(n[(i-20)%10]||n[i]||n[0])+"]"}}})})(il);var M0=il.exports,ol={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(dist_index_es_Co,function(){return function(r,n,i){r=r||{};var o=n.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,d,u,h){return o.fromToBase(l,d,u,h)}i.en.relativeTime=s,o.fromToBase=function(l,d,u,h,p){for(var v,m,g,b=u.$locale().relativeTime||s,y=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=y.length,E=0;E<x;E+=1){var I=y[E];I.d&&(v=h?i(l).diff(u,I.d,!0):u.diff(l,I.d,!0));var $=(r.rounding||Math.round)(Math.abs(v));if(g=v>0,$<=I.r||!I.r){$<=1&&E>0&&(I=y[E-1]);var L=b[I.l];p&&($=p(""+$)),m=typeof L=="string"?L.replace("%d",$):L($,d,I.l,g);break}}if(d)return m;var Z=g?b.future:b.past;return typeof Z=="function"?Z(m):Z.replace("%s",m)},o.to=function(l,d){return a(l,d,this,!0)},o.from=function(l,d){return a(l,d,this)};var c=function(l){return l.$u?i.utc():i()};o.toNow=function(l){return this.to(c(this),l)},o.fromNow=function(l){return this.from(c(this),l)}}})})(ol);var D0=ol.exports,sl={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(dist_index_es_Co,function(){return function(r,n,i){i.updateLocale=function(o,s){var a=i.Ls[o];if(a)return(s?Object.keys(s):[]).forEach(function(c){a[c]=s[c]}),a}}})})(sl);var z0=sl.exports;index_es_ua.extend(D0),index_es_ua.extend(z0);const W0={...M0,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};index_es_ua.locale("en-web3-modal",W0);const al={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var j0=20,F0=1,ethereum_provider_dist_index_es_Er=1e6,cl=1e6,H0=-7,V0=21,Z0=!1,ethereum_provider_dist_index_es_zn="[big.js] ",ethereum_provider_dist_index_es_Ar=ethereum_provider_dist_index_es_zn+"Invalid ",ethereum_provider_dist_index_es_yo=ethereum_provider_dist_index_es_Ar+"decimal places",G0=ethereum_provider_dist_index_es_Ar+"rounding mode",ll=ethereum_provider_dist_index_es_zn+"Division by zero",ethereum_provider_dist_index_es_ve={},ethereum_provider_dist_index_es_kt=void 0,q0=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function dl(){function t(e){var r=this;if(!(r instanceof t))return e===ethereum_provider_dist_index_es_kt?dl():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(ethereum_provider_dist_index_es_Ar+"value");e=e===0&&1/e<0?"-0":String(e)}K0(r,e)}r.constructor=t}return t.prototype=ethereum_provider_dist_index_es_ve,t.DP=j0,t.RM=F0,t.NE=H0,t.PE=V0,t.strict=Z0,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function K0(t,e){var r,n,i;if(!q0.test(e))throw Error(ethereum_provider_dist_index_es_Ar+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function ethereum_provider_dist_index_es_Sr(t,e,r,n){var i=t.c;if(r===ethereum_provider_dist_index_es_kt&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(G0);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==ethereum_provider_dist_index_es_kt))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==ethereum_provider_dist_index_es_kt||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function ethereum_provider_dist_index_es_r(t,e,r){var n=t.e,i=t.c.join(""),o=i.length;if(e)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>o)for(n-=o;n--;)i+="0";else n<o&&(i=i.slice(0,n)+"."+i.slice(n));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}ethereum_provider_dist_index_es_ve.abs=function(){var t=new this.constructor(this);return t.s=1,t},ethereum_provider_dist_index_es_ve.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=c)return a>c^e?1:-1;for(s=(a=n.length)<(c=i.length)?a:c,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==c?0:a>c^e?1:-1},ethereum_provider_dist_index_es_ve.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>ethereum_provider_dist_index_es_Er)throw Error(ethereum_provider_dist_index_es_yo);if(!i[0])throw Error(ll);if(!n[0])return t.s=o,t.c=[t.e=0],t;var a,c,l,d,u,h=i.slice(),p=a=i.length,v=n.length,m=n.slice(0,a),g=m.length,b=t,y=b.c=[],x=0,E=s+(b.e=e.e-t.e)+1;for(b.s=o,o=E<0?0:E,h.unshift(0);g++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(g=m.length))d=a>g?1:-1;else for(u=-1,d=0;++u<a;)if(i[u]!=m[u]){d=i[u]>m[u]?1:-1;break}if(d<0){for(c=g==a?i:h;g;){if(m[--g]<c[g]){for(u=g;u&&!m[--u];)m[u]=9;--m[u],m[g]+=10}m[g]-=c[g]}for(;!m[0];)m.shift()}else break}y[x++]=d?l:++l,m[0]&&d?m[g]=n[p]||0:m=[n[p]]}while((p++<v||m[0]!==ethereum_provider_dist_index_es_kt)&&o--);return!y[0]&&x!=1&&(y.shift(),b.e--,E--),x>E&&ethereum_provider_dist_index_es_Sr(b,E,r.RM,m[0]!==ethereum_provider_dist_index_es_kt),b},ethereum_provider_dist_index_es_ve.eq=function(t){return this.cmp(t)===0},ethereum_provider_dist_index_es_ve.gt=function(t){return this.cmp(t)>0},ethereum_provider_dist_index_es_ve.gte=function(t){return this.cmp(t)>-1},ethereum_provider_dist_index_es_ve.lt=function(t){return this.cmp(t)<0},ethereum_provider_dist_index_es_ve.lte=function(t){return this.cmp(t)<1},ethereum_provider_dist_index_es_ve.minus=ethereum_provider_dist_index_es_ve.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,c=(t=new s(t)).s;if(a!=c)return t.s=-c,o.plus(t);var l=o.c.slice(),d=o.e,u=t.c,h=t.e;if(!l[0]||!u[0])return u[0]?t.s=-c:l[0]?t=new s(o):t.s=1,t;if(a=d-h){for((i=a<0)?(a=-a,n=l):(h=d,n=u),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<u.length)?l:u).length,a=c=0;c<r;c++)if(l[c]!=u[c]){i=l[c]<u[c];break}if(i&&(n=l,l=u,u=n,t.s=-t.s),(c=(r=u.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<u[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=u[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t},ethereum_provider_dist_index_es_ve.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(ll);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},ethereum_provider_dist_index_es_ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},ethereum_provider_dist_index_es_ve.plus=ethereum_provider_dist_index_es_ve.add=function(t){var e,r,n,i=this,o=i.constructor;if(t=new o(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var s=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new o(i):t.s=i.s),t;if(a=a.slice(),e=s-c){for(e>0?(c=s,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t},ethereum_provider_dist_index_es_ve.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-cl||t>cl)throw Error(ethereum_provider_dist_index_es_Ar+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n},ethereum_provider_dist_index_es_ve.prec=function(t,e){if(t!==~~t||t<1||t>ethereum_provider_dist_index_es_Er)throw Error(ethereum_provider_dist_index_es_Ar+"precision");return ethereum_provider_dist_index_es_Sr(new this.constructor(this),t,e)},ethereum_provider_dist_index_es_ve.round=function(t,e){if(t===ethereum_provider_dist_index_es_kt)t=0;else if(t!==~~t||t<-ethereum_provider_dist_index_es_Er||t>ethereum_provider_dist_index_es_Er)throw Error(ethereum_provider_dist_index_es_yo);return ethereum_provider_dist_index_es_Sr(new this.constructor(this),t+this.e+1,e)},ethereum_provider_dist_index_es_ve.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(o<0)throw Error(ethereum_provider_dist_index_es_zn+"No square root");o=Math.sqrt(+ethereum_provider_dist_index_es_r(n,!0,!0)),o===0||o===1/0?(e=n.c.join(""),e.length+s&1||(e+="0"),o=Math.sqrt(e),s=((s+1)/2|0)-(s<0||s&1),t=new i((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):t=new i(o+""),s=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return ethereum_provider_dist_index_es_Sr(t,(i.DP-=4)+t.e+1,i.RM)},ethereum_provider_dist_index_es_ve.times=ethereum_provider_dist_index_es_ve.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return t.c=[t.e=0],t;for(t.e=c+l,s<a&&(e=i,i=o,o=e,l=s,s=a,a=l),e=new Array(l=s+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=s+c;l>c;)a=e[l]+o[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},ethereum_provider_dist_index_es_ve.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==ethereum_provider_dist_index_es_kt){if(t!==~~t||t<0||t>ethereum_provider_dist_index_es_Er)throw Error(ethereum_provider_dist_index_es_yo);for(r=ethereum_provider_dist_index_es_Sr(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return ethereum_provider_dist_index_es_r(r,!0,!!n)},ethereum_provider_dist_index_es_ve.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==ethereum_provider_dist_index_es_kt){if(t!==~~t||t<0||t>ethereum_provider_dist_index_es_Er)throw Error(ethereum_provider_dist_index_es_yo);for(r=ethereum_provider_dist_index_es_Sr(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return ethereum_provider_dist_index_es_r(r,!1,!!n)},ethereum_provider_dist_index_es_ve[Symbol.for("nodejs.util.inspect.custom")]=ethereum_provider_dist_index_es_ve.toJSON=ethereum_provider_dist_index_es_ve.toString=function(){var t=this,e=t.constructor;return ethereum_provider_dist_index_es_r(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},ethereum_provider_dist_index_es_ve.toNumber=function(){var t=+ethereum_provider_dist_index_es_r(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(ethereum_provider_dist_index_es_zn+"Imprecise conversion");return t},ethereum_provider_dist_index_es_ve.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==ethereum_provider_dist_index_es_kt){if(t!==~~t||t<1||t>ethereum_provider_dist_index_es_Er)throw Error(ethereum_provider_dist_index_es_Ar+"precision");for(r=ethereum_provider_dist_index_es_Sr(new n(r),t,e);r.c.length<t;)r.c.push(0)}return ethereum_provider_dist_index_es_r(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},ethereum_provider_dist_index_es_ve.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(ethereum_provider_dist_index_es_zn+"valueOf disallowed");return ethereum_provider_dist_index_es_r(t,t.e<=e.NE||t.e>=e.PE,!0)};var ethereum_provider_dist_index_es_Wn=dl();const ethereum_provider_dist_index_es_xo={bigNumber(t){return t?new ethereum_provider_dist_index_es_Wn(t):new ethereum_provider_dist_index_es_Wn(0)},multiply(t,e){if(t===void 0||e===void 0)return new ethereum_provider_dist_index_es_Wn(0);const r=new ethereum_provider_dist_index_es_Wn(t),n=new ethereum_provider_dist_index_es_Wn(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Y0=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],X0=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],J0=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ethereum_provider_dist_index_es_G={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},Q0={getERC20Abi:t=>ethereum_provider_dist_index_es_G.USDT_CONTRACT_ADDRESSES.includes(t)?J0:Y0,getSwapAbi:()=>X0},ethereum_provider_dist_index_es_nr={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},ethereum_provider_dist_index_es_ce={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function index_es_ha(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ethereum_provider_dist_index_es_se={setItem(t,e){ethereum_provider_dist_index_es_jn()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(ethereum_provider_dist_index_es_jn())return localStorage.getItem(t)||void 0},removeItem(t){ethereum_provider_dist_index_es_jn()&&localStorage.removeItem(t)},clear(){ethereum_provider_dist_index_es_jn()&&localStorage.clear()}};function ethereum_provider_dist_index_es_jn(){return typeof window<"u"&&typeof localStorage<"u"}function ethereum_provider_dist_index_es_ir(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const e1=Symbol(),ul=Object.getPrototypeOf,index_es_pa=new WeakMap,t1=t=>t&&(index_es_pa.has(t)?index_es_pa.get(t):ul(t)===Object.prototype||ul(t)===Array.prototype),r1=t=>t1(t)&&t[e1]||null,hl=(t,e=!0)=>{index_es_pa.set(t,e)},index_es_fa=t=>typeof t=="object"&&t!==null,ethereum_provider_dist_index_es_or=new WeakMap,ethereum_provider_dist_index_es_Fn=new WeakSet,n1=(t=Object.is,e=(l,d)=>new Proxy(l,d),r=l=>index_es_fa(l)&&!ethereum_provider_dist_index_es_Fn.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,o=(l,d,u=n)=>{const h=i.get(l);if(h?.[0]===d)return h[1];const p=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return hl(p,!0),i.set(l,[d,p]),Reflect.ownKeys(l).forEach(v=>{if(Object.getOwnPropertyDescriptor(p,v))return;const m=Reflect.get(l,v),{enumerable:g}=Reflect.getOwnPropertyDescriptor(l,v),b={value:m,enumerable:g,configurable:!0};if(ethereum_provider_dist_index_es_Fn.has(m))hl(m,!1);else if(m instanceof Promise)delete b.value,b.get=()=>u(m);else if(ethereum_provider_dist_index_es_or.has(m)){const[y,x]=ethereum_provider_dist_index_es_or.get(m);b.value=o(y,x(),u)}Object.defineProperty(p,v,b)}),Object.preventExtensions(p)},s=new WeakMap,a=[1,1],c=l=>{if(!index_es_fa(l))throw new Error("object required");const d=s.get(l);if(d)return d;let u=a[0];const h=new Set,p=(B,R=++a[0])=>{u!==R&&(u=R,h.forEach(N=>N(B,R)))};let v=a[1];const m=(B=++a[1])=>(v!==B&&!h.size&&(v=B,b.forEach(([R])=>{const N=R[1](B);N>u&&(u=N)})),u),g=B=>(R,N)=>{const ee=[...R];ee[1]=[B,...ee[1]],p(ee,N)},b=new Map,y=(B,R)=>{if(( false?0:void 0)!=="production"&&b.has(B))throw new Error("prop listener already exists");if(h.size){const N=R[3](g(B));b.set(B,[R,N])}else b.set(B,[R])},x=B=>{var R;const N=b.get(B);N&&(b.delete(B),(R=N[1])==null||R.call(N))},E=B=>(h.add(B),h.size===1&&b.forEach(([N,ee],pe)=>{if(( false?0:void 0)!=="production"&&ee)throw new Error("remove already exists");const _=N[3](g(pe));b.set(pe,[N,_])}),()=>{h.delete(B),h.size===0&&b.forEach(([N,ee],pe)=>{ee&&(ee(),b.set(pe,[N]))})}),I=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),L=e(I,{deleteProperty(B,R){const N=Reflect.get(B,R);x(R);const ee=Reflect.deleteProperty(B,R);return ee&&p(["delete",[R],N]),ee},set(B,R,N,ee){const pe=Reflect.has(B,R),_=Reflect.get(B,R,ee);if(pe&&(t(_,N)||s.has(N)&&t(_,s.get(N))))return!0;x(R),index_es_fa(N)&&(N=r1(N)||N);let S=N;if(N instanceof Promise)N.then(A=>{N.status="fulfilled",N.value=A,p(["resolve",[R],A])}).catch(A=>{N.status="rejected",N.reason=A,p(["reject",[R],A])});else{!ethereum_provider_dist_index_es_or.has(N)&&r(N)&&(S=c(N));const A=!ethereum_provider_dist_index_es_Fn.has(S)&&ethereum_provider_dist_index_es_or.get(S);A&&y(R,A)}return Reflect.set(B,R,S,ee),p(["set",[R],N,_]),!0}});s.set(l,L);const Z=[I,m,o,E];return ethereum_provider_dist_index_es_or.set(L,Z),Reflect.ownKeys(l).forEach(B=>{const R=Object.getOwnPropertyDescriptor(l,B);"value"in R&&(L[B]=l[B],delete R.value,delete R.writable),Object.defineProperty(I,B,R)}),L})=>[c,ethereum_provider_dist_index_es_or,ethereum_provider_dist_index_es_Fn,t,e,r,n,i,o,s,a],[i1]=n1();function ethereum_provider_dist_index_es_xe(t={}){return i1(t)}function ethereum_provider_dist_index_es_We(t,e,r){const n=ethereum_provider_dist_index_es_or.get(t);( false?0:void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const o=[],s=n[3];let a=!1;const l=s(d=>{if(o.push(d),r){e(o.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(o.splice(0))}))});return a=!0,()=>{a=!1,l()}}function ethereum_provider_dist_index_es_Hn(t,e){const r=ethereum_provider_dist_index_es_or.get(t);( false?0:void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,o]=r;return o(n,i(),e)}function ethereum_provider_dist_index_es_Ir(t){return ethereum_provider_dist_index_es_Fn.add(t),t}function ethereum_provider_dist_index_es_He(t,e,r,n){let i=t[e];return ethereum_provider_dist_index_es_We(t,()=>{const o=t[e];Object.is(i,o)||r(i=o)},n)}function o1(t){const e=ethereum_provider_dist_index_es_xe({data:Array.from(t||[]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(o=>o[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const index_es_ga=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",s1=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],ethereum_provider_dist_index_es_Te={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:index_es_ga,SECURE_SITE_DASHBOARD:`${index_es_ga}/dashboard`,SECURE_SITE_FAVICON:`${index_es_ga}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},dist_index_es_q={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=dist_index_es_q.getActiveNamespace(),e=dist_index_es_q.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.ACTIVE_CAIP_NETWORK_ID,t),dist_index_es_q.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=index_es_ha(t);ethereum_provider_dist_index_es_se.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=dist_index_es_q.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=index_es_ha(t);ethereum_provider_dist_index_es_se.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=index_es_ha(t);return ethereum_provider_dist_index_es_se.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=dist_index_es_q.getConnectedNamespaces();e.includes(t)||(e.push(t),dist_index_es_q.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=dist_index_es_q.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),dist_index_es_q.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=dist_index_es_q.getBalanceCache();ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=dist_index_es_q.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;dist_index_es_q.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=dist_index_es_q.getBalanceCache();e[t.caipAddress]=t,ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=dist_index_es_q.getBalanceCache();ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=dist_index_es_q.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),dist_index_es_q.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=dist_index_es_q.getNativeBalanceCache();e[t.caipAddress]=t,ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=dist_index_es_q.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;dist_index_es_q.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=dist_index_es_q.getEnsCache();e[t.address]=t,ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=dist_index_es_q.getEnsCache();ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=dist_index_es_q.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;dist_index_es_q.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=dist_index_es_q.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=dist_index_es_q.getIdentityCache();ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.PORTFOLIO_CACHE),ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.NATIVE_BALANCE_CACHE),ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.ENS_CACHE),ethereum_provider_dist_index_es_se.removeItem(ethereum_provider_dist_index_es_ce.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{ethereum_provider_dist_index_es_se.setItem(ethereum_provider_dist_index_es_ce.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=ethereum_provider_dist_index_es_se.getItem(ethereum_provider_dist_index_es_ce.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},index_es_U={isMobile(){return this.isClient()?!!(window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return index_es_U.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=ethereum_provider_dist_index_es_Te.TEN_SEC_MS:!0},isAllowedRetry(t,e=ethereum_provider_dist_index_es_Te.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},getPairingExpiry(){return Date.now()+ethereum_provider_dist_index_es_Te.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(index_es_U.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!index_es_U.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?dist_index_es_q.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,index_es_U.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){let r;if(t==="0")r="0";else if(typeof t=="string"){const n=Number(t);n&&(r=n.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return ethereum_provider_dist_index_es_G.W3M_API_URL},getBlockchainApiUrl(){return ethereum_provider_dist_index_es_G.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ethereum_provider_dist_index_es_G.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const o=r[n.id],s=r[i.id];return o!==void 0&&s!==void 0?o-s:o!==void 0?-1:s!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?ethereum_provider_dist_index_es_Te.ADAPTER_TYPES.UNIVERSAL:t.map(o=>o.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in ethereum_provider_dist_index_es_G.CHAIN_NAME_MAP},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",o=t.substring(t.indexOf(i)+i.length),s=this.injectIntoUrl(decodeURIComponent(o),r,e);return t.replace(o,encodeURIComponent(s))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),o=e.length,s=i!==-1?i:t.length,a=t.substring(0,n+o),c=t.substring(n+o,s),l=t.substring(i),d=c+r;return a+d+l}};async function ethereum_provider_dist_index_es_Vn(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class ethereum_provider_dist_index_es_Eo{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const o=this.createUrl(i);return(await ethereum_provider_dist_index_es_Vn(o,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await ethereum_provider_dist_index_es_Vn(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const o=this.createUrl(i);return(await ethereum_provider_dist_index_es_Vn(o,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const o=this.createUrl(i);return(await ethereum_provider_dist_index_es_Vn(o,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const o=this.createUrl(i);return(await ethereum_provider_dist_index_es_Vn(o,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,o])=>{o&&n.searchParams.append(i,o)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const a1={handleSolanaDeeplinkRedirect(t){if(ethereum_provider_dist_index_es_f.state.activeChain===ethereum_provider_dist_index_es_G.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",i=e.split("/")[2],o=encodeURIComponent(`${n}://${i}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${o}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},dist_index_es_st=ethereum_provider_dist_index_es_xe({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),ethereum_provider_dist_index_es_Ye={state:dist_index_es_st,subscribeNetworkImages(t){return ethereum_provider_dist_index_es_We(dist_index_es_st.networkImages,()=>t(dist_index_es_st.networkImages))},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(dist_index_es_st,t,e)},subscribe(t){return ethereum_provider_dist_index_es_We(dist_index_es_st,()=>t(dist_index_es_st))},setWalletImage(t,e){dist_index_es_st.walletImages[t]=e},setNetworkImage(t,e){dist_index_es_st.networkImages[t]=e},setChainImage(t,e){dist_index_es_st.chainImages[t]=e},setConnectorImage(t,e){dist_index_es_st.connectorImages={...dist_index_es_st.connectorImages,[t]:e}},setTokenImage(t,e){dist_index_es_st.tokenImages[t]=e},setCurrencyImage(t,e){dist_index_es_st.currencyImages[t]=e}},c1={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},index_es_wa=ethereum_provider_dist_index_es_xe({networkImagePromises:{}}),dist_index_es_Oe={async fetchWalletImage(t){if(t)return await ethereum_provider_dist_index_es_W._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(index_es_wa.networkImagePromises[t]||(index_es_wa.networkImagePromises[t]=ethereum_provider_dist_index_es_W._fetchNetworkImage(t)),await index_es_wa.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return ethereum_provider_dist_index_es_Ye.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return ethereum_provider_dist_index_es_Ye.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return ethereum_provider_dist_index_es_Ye.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return ethereum_provider_dist_index_es_Ye.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.imageId)return ethereum_provider_dist_index_es_Ye.state.connectorImages[t.imageId]},getChainImage(t){return ethereum_provider_dist_index_es_Ye.state.networkImages[c1[t]]}},l1={getFeatureValue(t,e){const r=e?.[t];return r===void 0?ethereum_provider_dist_index_es_Te.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(index_es_U.isTelegram()){if(index_es_U.isIos())return t.filter(e=>e!=="google");if(index_es_U.isMac())return t.filter(e=>e!=="x");if(index_es_U.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},dist_index_es_ne=ethereum_provider_dist_index_es_xe({features:ethereum_provider_dist_index_es_Te.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),ethereum_provider_dist_index_es_T={state:dist_index_es_ne,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(dist_index_es_ne,t,e)},setOptions(t){Object.assign(dist_index_es_ne,t)},setFeatures(t){if(!t)return;dist_index_es_ne.features||(dist_index_es_ne.features=ethereum_provider_dist_index_es_Te.DEFAULT_FEATURES);const e={...dist_index_es_ne.features,...t};dist_index_es_ne.features=e,dist_index_es_ne.features.socials&&(dist_index_es_ne.features.socials=l1.filterSocialsByPlatform(dist_index_es_ne.features.socials))},setProjectId(t){dist_index_es_ne.projectId=t},setCustomRpcUrls(t){dist_index_es_ne.customRpcUrls=t},setAllWallets(t){dist_index_es_ne.allWallets=t},setIncludeWalletIds(t){dist_index_es_ne.includeWalletIds=t},setExcludeWalletIds(t){dist_index_es_ne.excludeWalletIds=t},setFeaturedWalletIds(t){dist_index_es_ne.featuredWalletIds=t},setTokens(t){dist_index_es_ne.tokens=t},setTermsConditionsUrl(t){dist_index_es_ne.termsConditionsUrl=t},setPrivacyPolicyUrl(t){dist_index_es_ne.privacyPolicyUrl=t},setCustomWallets(t){dist_index_es_ne.customWallets=t},setIsSiweEnabled(t){dist_index_es_ne.isSiweEnabled=t},setIsUniversalProvider(t){dist_index_es_ne.isUniversalProvider=t},setSdkVersion(t){dist_index_es_ne.sdkVersion=t},setMetadata(t){dist_index_es_ne.metadata=t},setDisableAppend(t){dist_index_es_ne.disableAppend=t},setEIP6963Enabled(t){dist_index_es_ne.enableEIP6963=t},setDebug(t){dist_index_es_ne.debug=t},setEnableWalletConnect(t){dist_index_es_ne.enableWalletConnect=t},setEnableWalletGuide(t){dist_index_es_ne.enableWalletGuide=t},setEnableAuthLogger(t){dist_index_es_ne.enableAuthLogger=t},setEnableWallets(t){dist_index_es_ne.enableWallets=t},setHasMultipleAddresses(t){dist_index_es_ne.hasMultipleAddresses=t},setSIWX(t){dist_index_es_ne.siwx=t},setConnectMethodsOrder(t){dist_index_es_ne.features={...dist_index_es_ne.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){dist_index_es_ne.features={...dist_index_es_ne.features,walletFeaturesOrder:t}},setSocialsOrder(t){dist_index_es_ne.features={...dist_index_es_ne.features,socials:t}},setCollapseWallets(t){dist_index_es_ne.features={...dist_index_es_ne.features,collapseWallets:t}},setEnableEmbedded(t){dist_index_es_ne.enableEmbedded=t},setAllowUnsupportedChain(t){dist_index_es_ne.allowUnsupportedChain=t},setManualWCControl(t){dist_index_es_ne.manualWCControl=t},setEnableNetworkSwitch(t){dist_index_es_ne.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(dist_index_es_ne.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){dist_index_es_ne.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return dist_index_es_ne.universalProviderConfigOverride},getSnapshot(){return ethereum_provider_dist_index_es_Hn(dist_index_es_ne)}},ethereum_provider_dist_index_es_sr=ethereum_provider_dist_index_es_xe({message:"",variant:"info",open:!1}),ethereum_provider_dist_index_es_ar={state:ethereum_provider_dist_index_es_sr,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_sr,t,e)},open(t,e){const{debug:r}=ethereum_provider_dist_index_es_T.state,{shortMessage:n,longMessage:i}=t;r&&(ethereum_provider_dist_index_es_sr.message=n,ethereum_provider_dist_index_es_sr.variant=e,ethereum_provider_dist_index_es_sr.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){ethereum_provider_dist_index_es_sr.open=!1,ethereum_provider_dist_index_es_sr.message="",ethereum_provider_dist_index_es_sr.variant="info"}},d1=index_es_U.getAnalyticsUrl(),u1=new ethereum_provider_dist_index_es_Eo({baseUrl:d1,clientId:null}),h1=["MODAL_CREATED"],ethereum_provider_dist_index_es_Mt=ethereum_provider_dist_index_es_xe({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ethereum_provider_dist_index_es_le={state:ethereum_provider_dist_index_es_Mt,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_Mt,()=>t(ethereum_provider_dist_index_es_Mt))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=ethereum_provider_dist_index_es_T.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=dist_index_es_Q.state.address;if(h1.includes(t.data.event)||typeof window>"u")return;await u1.post({path:"/e",params:ethereum_provider_dist_index_es_le.getSdkProperties(),body:{eventId:index_es_U.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ethereum_provider_dist_index_es_Mt.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ethereum_provider_dist_index_es_G.HTTP_STATUS_CODES.FORBIDDEN&&!ethereum_provider_dist_index_es_Mt.reportedErrors.FORBIDDEN&&(ethereum_provider_dist_index_es_ar.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${ethereum_provider_dist_index_es_jn()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ethereum_provider_dist_index_es_Mt.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){ethereum_provider_dist_index_es_Mt.timestamp=Date.now(),ethereum_provider_dist_index_es_Mt.data=t,ethereum_provider_dist_index_es_T.state.features?.analytics&&ethereum_provider_dist_index_es_le._sendAnalyticsEvent(ethereum_provider_dist_index_es_Mt)}},p1=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],f1=index_es_U.getApiUrl(),ethereum_provider_dist_index_es_ht=new ethereum_provider_dist_index_es_Eo({baseUrl:f1,clientId:null}),g1=40,pl=4,w1=20,ethereum_provider_dist_index_es_Ce=ethereum_provider_dist_index_es_xe({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ethereum_provider_dist_index_es_W={state:ethereum_provider_dist_index_es_Ce,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_Ce,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=ethereum_provider_dist_index_es_T.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ethereum_provider_dist_index_es_T.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ethereum_provider_dist_index_es_ht.baseUrl}/getWalletImage/${t}`,r=await ethereum_provider_dist_index_es_ht.getBlob({path:e,params:ethereum_provider_dist_index_es_W._getSdkProperties()});ethereum_provider_dist_index_es_Ye.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${ethereum_provider_dist_index_es_ht.baseUrl}/public/getAssetImage/${t}`,r=await ethereum_provider_dist_index_es_ht.getBlob({path:e,params:ethereum_provider_dist_index_es_W._getSdkProperties()});ethereum_provider_dist_index_es_Ye.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${ethereum_provider_dist_index_es_ht.baseUrl}/public/getAssetImage/${t}`,r=await ethereum_provider_dist_index_es_ht.getBlob({path:e,params:ethereum_provider_dist_index_es_W._getSdkProperties()});ethereum_provider_dist_index_es_Ye.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${ethereum_provider_dist_index_es_ht.baseUrl}/public/getCurrencyImage/${t}`,r=await ethereum_provider_dist_index_es_ht.getBlob({path:e,params:ethereum_provider_dist_index_es_W._getSdkProperties()});ethereum_provider_dist_index_es_Ye.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${ethereum_provider_dist_index_es_ht.baseUrl}/public/getTokenImage/${t}`,r=await ethereum_provider_dist_index_es_ht.getBlob({path:e,params:ethereum_provider_dist_index_es_W._getSdkProperties()});ethereum_provider_dist_index_es_Ye.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const e=ethereum_provider_dist_index_es_f.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!dist_index_es_Oe.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>ethereum_provider_dist_index_es_W._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=ethereum_provider_dist_index_es_j.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>ethereum_provider_dist_index_es_W._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ethereum_provider_dist_index_es_W._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ethereum_provider_dist_index_es_W._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];return ethereum_provider_dist_index_es_W._getSdkProperties().sv.startsWith("html-core-")&&e.push(...p1),await ethereum_provider_dist_index_es_ht.get({path:"/getWallets",params:{...ethereum_provider_dist_index_es_W._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:t.exclude?.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ethereum_provider_dist_index_es_T.state;if(t?.length){const e={...ethereum_provider_dist_index_es_W._getSdkProperties(),page:1,entries:t?.length??pl,include:t},{data:r}=await ethereum_provider_dist_index_es_W.fetchWallets(e);r.sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id));const n=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(n.map(i=>ethereum_provider_dist_index_es_W._fetchWalletImage(i))),ethereum_provider_dist_index_es_Ce.featured=r,ethereum_provider_dist_index_es_Ce.allFeatured=r}},async fetchRecommendedWallets(){try{ethereum_provider_dist_index_es_Ce.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=ethereum_provider_dist_index_es_T.state,n=[...e??[],...r??[]].filter(Boolean),i=ethereum_provider_dist_index_es_f.getRequestedCaipNetworkIds().join(","),o={page:1,entries:pl,include:t,exclude:n,chains:i},{data:s,count:a}=await ethereum_provider_dist_index_es_W.fetchWallets(o),c=dist_index_es_q.getRecentWallets(),l=s.map(u=>u.image_id).filter(Boolean),d=c.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...l,...d].map(u=>ethereum_provider_dist_index_es_W._fetchWalletImage(u))),ethereum_provider_dist_index_es_Ce.recommended=s,ethereum_provider_dist_index_es_Ce.allRecommended=s,ethereum_provider_dist_index_es_Ce.count=a??0}catch{}finally{ethereum_provider_dist_index_es_Ce.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=ethereum_provider_dist_index_es_T.state,i=ethereum_provider_dist_index_es_f.getRequestedCaipNetworkIds().join(","),o=[...ethereum_provider_dist_index_es_Ce.recommended.map(({id:d})=>d),...r??[],...n??[]].filter(Boolean),s={page:t,entries:g1,include:e,exclude:o,chains:i},{data:a,count:c}=await ethereum_provider_dist_index_es_W.fetchWallets(s),l=a.slice(0,w1).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(l.map(d=>ethereum_provider_dist_index_es_W._fetchWalletImage(d))),ethereum_provider_dist_index_es_Ce.wallets=index_es_U.uniqueBy([...ethereum_provider_dist_index_es_Ce.wallets,...ethereum_provider_dist_index_es_W._filterOutExtensions(a)],"id"),ethereum_provider_dist_index_es_Ce.count=c>ethereum_provider_dist_index_es_Ce.count?c:ethereum_provider_dist_index_es_Ce.count,ethereum_provider_dist_index_es_Ce.page=t},async initializeExcludedWallets({ids:t}){const e=ethereum_provider_dist_index_es_f.getRequestedCaipNetworkIds().join(","),r={page:1,entries:t.length,include:t,chains:e},{data:n}=await ethereum_provider_dist_index_es_W.fetchWallets(r);n&&n.forEach(i=>{ethereum_provider_dist_index_es_Ce.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=ethereum_provider_dist_index_es_T.state,i=ethereum_provider_dist_index_es_f.getRequestedCaipNetworkIds().join(",");ethereum_provider_dist_index_es_Ce.search=[];const o={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:s}=await ethereum_provider_dist_index_es_W.fetchWallets(o);ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=s.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>ethereum_provider_dist_index_es_W._fetchWalletImage(c)),index_es_U.wait(300)]),ethereum_provider_dist_index_es_Ce.search=ethereum_provider_dist_index_es_W._filterOutExtensions(s)},initPromise(t,e){const r=ethereum_provider_dist_index_es_Ce.promises[t];return r||(ethereum_provider_dist_index_es_Ce.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&ethereum_provider_dist_index_es_W.initPromise("connectorImages",ethereum_provider_dist_index_es_W.fetchConnectorImages),e&&ethereum_provider_dist_index_es_W.initPromise("featuredWallets",ethereum_provider_dist_index_es_W.fetchFeaturedWallets),r&&ethereum_provider_dist_index_es_W.initPromise("recommendedWallets",ethereum_provider_dist_index_es_W.fetchRecommendedWallets),n&&ethereum_provider_dist_index_es_W.initPromise("networkImages",ethereum_provider_dist_index_es_W.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){ethereum_provider_dist_index_es_T.state.features?.analytics&&ethereum_provider_dist_index_es_W.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ethereum_provider_dist_index_es_ht.get({path:"/getAnalyticsConfig",params:ethereum_provider_dist_index_es_W._getSdkProperties()});ethereum_provider_dist_index_es_T.setFeatures({analytics:t})}catch{ethereum_provider_dist_index_es_T.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){ethereum_provider_dist_index_es_Ce.featured=ethereum_provider_dist_index_es_Ce.allFeatured,ethereum_provider_dist_index_es_Ce.recommended=ethereum_provider_dist_index_es_Ce.allRecommended;return}const e=ethereum_provider_dist_index_es_f.getRequestedCaipNetworkIds().join(",");ethereum_provider_dist_index_es_Ce.featured=ethereum_provider_dist_index_es_Ce.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),ethereum_provider_dist_index_es_Ce.recommended=ethereum_provider_dist_index_es_Ce.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n)))}},ethereum_provider_dist_index_es_be=ethereum_provider_dist_index_es_xe({view:"Connect",history:["Connect"],transactionStack:[]}),dist_index_es_D={state:ethereum_provider_dist_index_es_be,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_be,t,e)},pushTransactionStack(t){ethereum_provider_dist_index_es_be.transactionStack.push(t)},popTransactionStack(t){const e=ethereum_provider_dist_index_es_be.transactionStack.pop();if(e)if(t)this.goBack(),e?.onCancel?.();else{if(e.goBack)this.goBack();else if(e.replace){const n=ethereum_provider_dist_index_es_be.history.indexOf("ConnectingSiwe");n>0?this.goBackToIndex(n-1):(ethereum_provider_dist_index_es_he.close(),ethereum_provider_dist_index_es_be.history=[])}else e.view&&this.reset(e.view);e?.onSuccess?.()}},push(t,e){t!==ethereum_provider_dist_index_es_be.view&&(ethereum_provider_dist_index_es_be.view=t,ethereum_provider_dist_index_es_be.history.push(t),ethereum_provider_dist_index_es_be.data=e)},reset(t,e){ethereum_provider_dist_index_es_be.view=t,ethereum_provider_dist_index_es_be.history=[t],ethereum_provider_dist_index_es_be.data=e},replace(t,e){ethereum_provider_dist_index_es_be.history.at(-1)===t||(ethereum_provider_dist_index_es_be.view=t,ethereum_provider_dist_index_es_be.history[ethereum_provider_dist_index_es_be.history.length-1]=t,ethereum_provider_dist_index_es_be.data=e)},goBack(){const t=!ethereum_provider_dist_index_es_f.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(ethereum_provider_dist_index_es_be.history.length>1&&!ethereum_provider_dist_index_es_be.history.includes("UnsupportedChain")){ethereum_provider_dist_index_es_be.history.pop();const[e]=ethereum_provider_dist_index_es_be.history.slice(-1);e&&(ethereum_provider_dist_index_es_be.view=e)}else ethereum_provider_dist_index_es_he.close();ethereum_provider_dist_index_es_be.data?.wallet&&(ethereum_provider_dist_index_es_be.data.wallet=void 0),setTimeout(()=>{if(t){dist_index_es_Q.setFarcasterUrl(void 0,ethereum_provider_dist_index_es_f.state.activeChain);const e=ethereum_provider_dist_index_es_j.getAuthConnector();e?.provider?.reload();const r=ethereum_provider_dist_index_es_Hn(ethereum_provider_dist_index_es_T.state);e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType})}},100)},goBackToIndex(t){if(ethereum_provider_dist_index_es_be.history.length>1){ethereum_provider_dist_index_es_be.history=ethereum_provider_dist_index_es_be.history.slice(0,t+1);const[e]=ethereum_provider_dist_index_es_be.history.slice(-1);e&&(ethereum_provider_dist_index_es_be.view=e)}}},ethereum_provider_dist_index_es_Dt=ethereum_provider_dist_index_es_xe({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ethereum_provider_dist_index_es_$e={state:ethereum_provider_dist_index_es_Dt,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_Dt,()=>t(ethereum_provider_dist_index_es_Dt))},setThemeMode(t){ethereum_provider_dist_index_es_Dt.themeMode=t;try{const e=ethereum_provider_dist_index_es_j.getAuthConnector();if(e){const r=ethereum_provider_dist_index_es_$e.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:ethereum_provider_dist_index_es_ir(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ethereum_provider_dist_index_es_Dt.themeVariables={...ethereum_provider_dist_index_es_Dt.themeVariables,...t};try{const e=ethereum_provider_dist_index_es_j.getAuthConnector();if(e){const r=ethereum_provider_dist_index_es_$e.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:ethereum_provider_dist_index_es_ir(ethereum_provider_dist_index_es_Dt.themeVariables,ethereum_provider_dist_index_es_Dt.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ethereum_provider_dist_index_es_Hn(ethereum_provider_dist_index_es_Dt)}},fl={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},ethereum_provider_dist_index_es_ye=ethereum_provider_dist_index_es_xe({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...fl}}),ethereum_provider_dist_index_es_j={state:ethereum_provider_dist_index_es_ye,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_ye,()=>{t(ethereum_provider_dist_index_es_ye)})},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_ye,t,e)},initialize(t){t.forEach(e=>{const r=dist_index_es_q.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(ethereum_provider_dist_index_es_ye.activeConnector=ethereum_provider_dist_index_es_Ir(t))},setConnectors(t){t.filter(r=>!ethereum_provider_dist_index_es_ye.allConnectors.some(n=>n.id===r.id&&this.getConnectorName(n.name)===this.getConnectorName(r.name)&&n.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&ethereum_provider_dist_index_es_ye.allConnectors.push(ethereum_provider_dist_index_es_Ir(r))}),ethereum_provider_dist_index_es_ye.connectors=this.mergeMultiChainConnectors(ethereum_provider_dist_index_es_ye.allConnectors)},removeAdapter(t){ethereum_provider_dist_index_es_ye.allConnectors=ethereum_provider_dist_index_es_ye.allConnectors.filter(e=>e.chain!==t),ethereum_provider_dist_index_es_ye.connectors=this.mergeMultiChainConnectors(ethereum_provider_dist_index_es_ye.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],o=i?.id===ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:o?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=this.getConnectorName(n);if(!i)return;const o=e.get(i)||[];o.find(a=>a.chain===r.chain)||o.push(r),e.set(i,o)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH){const e=t,r=ethereum_provider_dist_index_es_Hn(ethereum_provider_dist_index_es_T.state),n=ethereum_provider_dist_index_es_$e.getSnapshot().themeMode,i=ethereum_provider_dist_index_es_$e.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:ethereum_provider_dist_index_es_ir(i,n)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){const e=t||ethereum_provider_dist_index_es_f.state.activeChain,r=ethereum_provider_dist_index_es_ye.connectors.find(n=>n.id===ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return ethereum_provider_dist_index_es_ye.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return ethereum_provider_dist_index_es_ye.allConnectors.find(e=>e.id===t)},getConnector(t,e){return ethereum_provider_dist_index_es_ye.allConnectors.filter(n=>n.chain===ethereum_provider_dist_index_es_f.state.activeChain).find(n=>n.explorerId===t||n.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=ethereum_provider_dist_index_es_Hn(ethereum_provider_dist_index_es_T.state),n=ethereum_provider_dist_index_es_$e.getSnapshot().themeMode,i=ethereum_provider_dist_index_es_$e.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:ethereum_provider_dist_index_es_ir(i,n)})},getConnectorsByNamespace(t){const e=ethereum_provider_dist_index_es_ye.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ethereum_provider_dist_index_es_j.getConnector(t.id,t.rdns);ethereum_provider_dist_index_es_f.state.activeChain===ethereum_provider_dist_index_es_G.CHAIN.SOLANA&&a1.handleSolanaDeeplinkRedirect(e?.name||t.name||""),e?dist_index_es_D.push("ConnectingExternal",{connector:e}):dist_index_es_D.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(ethereum_provider_dist_index_es_ye.allConnectors)},setFilterByNamespace(t){ethereum_provider_dist_index_es_ye.filterByNamespace=t,ethereum_provider_dist_index_es_ye.connectors=this.getConnectors(t),ethereum_provider_dist_index_es_W.setFilterByNamespace(t)},setConnectorId(t,e){t&&(ethereum_provider_dist_index_es_ye.activeConnectorIds={...ethereum_provider_dist_index_es_ye.activeConnectorIds,[e]:t},dist_index_es_q.setConnectedConnectorId(e,t))},removeConnectorId(t){ethereum_provider_dist_index_es_ye.activeConnectorIds={...ethereum_provider_dist_index_es_ye.activeConnectorIds,[t]:void 0},dist_index_es_q.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return ethereum_provider_dist_index_es_ye.activeConnectorIds[t]},isConnected(t){return t?!!ethereum_provider_dist_index_es_ye.activeConnectorIds[t]:Object.values(ethereum_provider_dist_index_es_ye.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){ethereum_provider_dist_index_es_ye.activeConnectorIds={...fl}}};function ethereum_provider_dist_index_es_Ao(t,e){return ethereum_provider_dist_index_es_j.getConnectorId(t)===e}function m1(t){const e=Array.from(ethereum_provider_dist_index_es_f.state.chains.keys());let r=[];return t?(r.push([t,ethereum_provider_dist_index_es_f.state.chains.get(t)]),ethereum_provider_dist_index_es_Ao(t,ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(n=>{n!==t&&ethereum_provider_dist_index_es_Ao(n,ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,ethereum_provider_dist_index_es_f.state.chains.get(n)])}):ethereum_provider_dist_index_es_Ao(t,ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH)&&e.forEach(n=>{n!==t&&ethereum_provider_dist_index_es_Ao(n,ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH)&&r.push([n,ethereum_provider_dist_index_es_f.state.chains.get(n)])})):r=Array.from(ethereum_provider_dist_index_es_f.state.chains.entries()),r}const b1="https://secure.walletconnect.org/sdk";typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;const ethereum_provider_dist_index_es_cr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ethereum_provider_dist_index_es_Nr=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ethereum_provider_dist_index_es_Pe=ethereum_provider_dist_index_es_xe({...ethereum_provider_dist_index_es_Nr}),ethereum_provider_dist_index_es_Ee={state:ethereum_provider_dist_index_es_Pe,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_Pe,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=index_es_U.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){ethereum_provider_dist_index_es_Pe.message=ethereum_provider_dist_index_es_Nr.message,ethereum_provider_dist_index_es_Pe.variant=ethereum_provider_dist_index_es_Nr.variant,ethereum_provider_dist_index_es_Pe.svg=ethereum_provider_dist_index_es_Nr.svg,ethereum_provider_dist_index_es_Pe.open=ethereum_provider_dist_index_es_Nr.open,ethereum_provider_dist_index_es_Pe.autoClose=ethereum_provider_dist_index_es_Nr.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=ethereum_provider_dist_index_es_Nr.autoClose}){ethereum_provider_dist_index_es_Pe.open?(ethereum_provider_dist_index_es_Pe.open=!1,setTimeout(()=>{ethereum_provider_dist_index_es_Pe.message=t,ethereum_provider_dist_index_es_Pe.variant=r,ethereum_provider_dist_index_es_Pe.svg=e,ethereum_provider_dist_index_es_Pe.open=!0,ethereum_provider_dist_index_es_Pe.autoClose=n},150)):(ethereum_provider_dist_index_es_Pe.message=t,ethereum_provider_dist_index_es_Pe.variant=r,ethereum_provider_dist_index_es_Pe.svg=e,ethereum_provider_dist_index_es_Pe.open=!0,ethereum_provider_dist_index_es_Pe.autoClose=n)}},ethereum_provider_dist_index_es_lr={getSIWX(){return ethereum_provider_dist_index_es_T.state.siwx},async initializeIfEnabled(){const t=ethereum_provider_dist_index_es_T.state.siwx,e=ethereum_provider_dist_index_es_f.getActiveCaipAddress();if(!(t&&e))return;const[r,n,i]=e.split(":");if(ethereum_provider_dist_index_es_f.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,i)).length)return;await ethereum_provider_dist_index_es_he.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await dist_index_es_Y._getClient()?.disconnect().catch(console.error),dist_index_es_D.reset("Connect"),ethereum_provider_dist_index_es_Ee.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ethereum_provider_dist_index_es_T.state.siwx,e=index_es_U.getPlainAddress(ethereum_provider_dist_index_es_f.getActiveCaipAddress()),r=ethereum_provider_dist_index_es_f.getActiveCaipNetwork(),n=dist_index_es_Y._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),o=i.toString();ethereum_provider_dist_index_es_j.getConnectorId(r.chainNamespace)===ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH&&dist_index_es_D.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await n.signMessage(o);await t.addSession({data:i,message:o,signature:a}),ethereum_provider_dist_index_es_he.close(),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const o=this.getSIWXEventProperties();(!ethereum_provider_dist_index_es_he.state.open||dist_index_es_D.state.view==="ApproveTransaction")&&await ethereum_provider_dist_index_es_he.open({view:"SIWXSignMessage"}),o.isSmartAccount?ethereum_provider_dist_index_es_Ee.showError("This application might not support Smart Accounts"):ethereum_provider_dist_index_es_Ee.showError("Signature declined"),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:o}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await dist_index_es_Y.disconnect():ethereum_provider_dist_index_es_he.close(),dist_index_es_D.reset("Connect"),ethereum_provider_dist_index_es_le.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getSessions(){const t=ethereum_provider_dist_index_es_T.state.siwx,e=index_es_U.getPlainAddress(ethereum_provider_dist_index_es_f.getActiveCaipAddress()),r=ethereum_provider_dist_index_es_f.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=dist_index_es_D.state.view==="ApproveTransaction",r=dist_index_es_D.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=ethereum_provider_dist_index_es_lr.getSIWX(),i=new Set(e.map(a=>a.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const o=await n.createMessage({chainId:ethereum_provider_dist_index_es_f.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),s=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(a=>a!==o.chainId)]});if(ethereum_provider_dist_index_es_Ee.showLoading("Authenticating...",{autoClose:!1}),dist_index_es_Q.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),s?.auths?.length){const a=s.auths.map(c=>{const l=t.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||o.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:l,signature:c.s.s,cacao:c}});try{await n.setSessions(a),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ethereum_provider_dist_index_es_lr.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ethereum_provider_dist_index_es_lr.getSIWXEventProperties()}),await t.disconnect().catch(console.error),c}finally{ethereum_provider_dist_index_es_Ee.hide()}}return!0},getSIWXEventProperties(){const t=ethereum_provider_dist_index_es_f.state.activeChain;return{network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:dist_index_es_Q.state.preferredAccountTypes?.[t]===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},dist_index_es_Ae=ethereum_provider_dist_index_es_xe({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),v1={state:dist_index_es_Ae,subscribe(t){return ethereum_provider_dist_index_es_We(dist_index_es_Ae,()=>t(dist_index_es_Ae))},setLastNetworkInView(t){dist_index_es_Ae.lastNetworkInView=t},async fetchTransactions(t,e){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");dist_index_es_Ae.loading=!0;try{const r=await dist_index_es_oe.fetchTransactions({account:t,cursor:dist_index_es_Ae.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId}),n=this.filterSpamTransactions(r.data),i=this.filterByConnectedChain(n),o=[...dist_index_es_Ae.transactions,...i];dist_index_es_Ae.loading=!1,e==="coinbase"?dist_index_es_Ae.coinbaseTransactions=this.groupTransactionsByYearAndMonth(dist_index_es_Ae.coinbaseTransactions,r.data):(dist_index_es_Ae.transactions=o,dist_index_es_Ae.transactionsByYear=this.groupTransactionsByYearAndMonth(dist_index_es_Ae.transactionsByYear,i)),dist_index_es_Ae.empty=o.length===0,dist_index_es_Ae.next=r.next?r.next:void 0}catch{const n=ethereum_provider_dist_index_es_f.state.activeChain;ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ethereum_provider_dist_index_es_T.state.projectId,cursor:dist_index_es_Ae.next,isSmartAccount:dist_index_es_Q.state.preferredAccountTypes?.[n]===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT}}),ethereum_provider_dist_index_es_Ee.showError("Failed to fetch transactions"),dist_index_es_Ae.loading=!1,dist_index_es_Ae.empty=!0,dist_index_es_Ae.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),o=new Date(n.metadata.minedAt).getMonth(),s=r[i]??{},c=(s[o]??[]).filter(l=>l.id!==n.id);r[i]={...s,[o]:[...c,n].sort((l,d)=>new Date(d.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){dist_index_es_Ae.next=void 0},resetTransactions(){dist_index_es_Ae.transactions=[],dist_index_es_Ae.transactionsByYear={},dist_index_es_Ae.lastNetworkInView=void 0,dist_index_es_Ae.loading=!1,dist_index_es_Ae.empty=!1,dist_index_es_Ae.next=void 0}},ethereum_provider_dist_index_es_Se=ethereum_provider_dist_index_es_xe({wcError:!1,buffering:!1,status:"disconnected"});let ethereum_provider_dist_index_es_rn;const dist_index_es_Y={state:ethereum_provider_dist_index_es_Se,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_Se,t,e)},_getClient(){return ethereum_provider_dist_index_es_Se._client},setClient(t){ethereum_provider_dist_index_es_Se._client=ethereum_provider_dist_index_es_Ir(t)},async connectWalletConnect(){if(index_es_U.isTelegram()||index_es_U.isSafari()&&index_es_U.isIos()){if(ethereum_provider_dist_index_es_rn){await ethereum_provider_dist_index_es_rn,ethereum_provider_dist_index_es_rn=void 0;return}if(!index_es_U.isPairingExpired(ethereum_provider_dist_index_es_Se?.wcPairingExpiry)){const t=ethereum_provider_dist_index_es_Se.wcUri;ethereum_provider_dist_index_es_Se.wcUri=t;return}ethereum_provider_dist_index_es_rn=this._getClient()?.connectWalletConnect?.().catch(()=>{}),this.state.status="connecting",await ethereum_provider_dist_index_es_rn,ethereum_provider_dist_index_es_rn=void 0,ethereum_provider_dist_index_es_Se.wcPairingExpiry=void 0,this.state.status="connected"}else await this._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){await this._getClient()?.connectExternal?.(t),r&&ethereum_provider_dist_index_es_f.setActiveNamespace(e)},async reconnectExternal(t){await this._getClient()?.reconnectExternal?.(t);const e=t.chain||ethereum_provider_dist_index_es_f.state.activeChain;e&&ethereum_provider_dist_index_es_j.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){ethereum_provider_dist_index_es_he.setLoading(!0,ethereum_provider_dist_index_es_f.state.activeChain);const r=ethereum_provider_dist_index_es_j.getAuthConnector();r&&(dist_index_es_Q.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),dist_index_es_q.setPreferredAccountTypes(dist_index_es_Q.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(r),ethereum_provider_dist_index_es_he.setLoading(!1,ethereum_provider_dist_index_es_f.state.activeChain),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return this._getClient()?.signMessage(t)},parseUnits(t,e){return this._getClient()?.parseUnits(t,e)},formatUnits(t,e){return this._getClient()?.formatUnits(t,e)},async sendTransaction(t){return this._getClient()?.sendTransaction(t)},async getCapabilities(t){return this._getClient()?.getCapabilities(t)},async grantPermissions(t){return this._getClient()?.grantPermissions(t)},async walletGetAssets(t){return this._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return this._getClient()?.estimateGas(t)},async writeContract(t){return this._getClient()?.writeContract(t)},async getEnsAddress(t){return this._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return this._getClient()?.getEnsAvatar(t)},checkInstalled(t){return this._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){ethereum_provider_dist_index_es_Se.wcUri=void 0,ethereum_provider_dist_index_es_Se.wcPairingExpiry=void 0,ethereum_provider_dist_index_es_Se.wcLinking=void 0,ethereum_provider_dist_index_es_Se.recentWallet=void 0,ethereum_provider_dist_index_es_Se.status="disconnected",v1.resetTransactions(),dist_index_es_q.deleteWalletConnectDeepLink()},resetUri(){ethereum_provider_dist_index_es_Se.wcUri=void 0,ethereum_provider_dist_index_es_Se.wcPairingExpiry=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=dist_index_es_Y.state;t&&dist_index_es_q.setWalletConnectDeepLink(t),e&&dist_index_es_q.setAppKitRecent(e),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:dist_index_es_D.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){ethereum_provider_dist_index_es_Se.wcBasic=t},setUri(t){ethereum_provider_dist_index_es_Se.wcUri=t,ethereum_provider_dist_index_es_Se.wcPairingExpiry=index_es_U.getPairingExpiry()},setWcLinking(t){ethereum_provider_dist_index_es_Se.wcLinking=t},setWcError(t){ethereum_provider_dist_index_es_Se.wcError=t,ethereum_provider_dist_index_es_Se.buffering=!1},setRecentWallet(t){ethereum_provider_dist_index_es_Se.recentWallet=t},setBuffering(t){ethereum_provider_dist_index_es_Se.buffering=t},setStatus(t){ethereum_provider_dist_index_es_Se.status=t},async disconnect(t){try{ethereum_provider_dist_index_es_he.setLoading(!0,t),await ethereum_provider_dist_index_es_lr.clearSessions(),await ethereum_provider_dist_index_es_f.disconnect(t),ethereum_provider_dist_index_es_he.setLoading(!1,t),ethereum_provider_dist_index_es_j.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},ethereum_provider_dist_index_es_nn=ethereum_provider_dist_index_es_xe({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ethereum_provider_dist_index_es_zt={state:ethereum_provider_dist_index_es_nn,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_nn,()=>t(ethereum_provider_dist_index_es_nn))},subscribeOpen(t){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_nn,"open",t)},set(t){Object.assign(ethereum_provider_dist_index_es_nn,{...ethereum_provider_dist_index_es_nn,...t})}};function ethereum_provider_dist_index_es_Zn(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ethereum_provider_dist_index_es_dr(t){return ethereum_provider_dist_index_es_Zn(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const gl="2.27.0";let index_es_ma={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${gl}`};class ethereum_provider_dist_index_es_de extends Error{constructor(e,r={}){const n=r.cause instanceof ethereum_provider_dist_index_es_de?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof ethereum_provider_dist_index_es_de&&r.cause.docsPath||r.docsPath,o=index_es_ma.getDocsUrl?.({...r,docsPath:i}),s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...n?[`Details: ${n}`]:[],...index_es_ma.version?[`Version: ${index_es_ma.version}`]:[]].join(`
`);super(s,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=gl}walk(e){return wl(this,e)}}function wl(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?wl(t.cause,e):e?null:t}class ml extends ethereum_provider_dist_index_es_de{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class bl extends ethereum_provider_dist_index_es_de{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function ethereum_provider_dist_index_es_on(t,{dir:e,size:r=32}={}){return typeof t=="string"?C1(t,{dir:e,size:r}):y1(t,{dir:e,size:r})}function C1(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new bl({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function y1(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new bl({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const o=e==="right";n[o?i:r-i-1]=t[o?i:t.length-i-1]}return n}class x1 extends ethereum_provider_dist_index_es_de{constructor({max:e,min:r,signed:n,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class E1 extends ethereum_provider_dist_index_es_de{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function ethereum_provider_dist_index_es_sn(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function dist_index_es_an(t,{size:e}){if(ethereum_provider_dist_index_es_dr(t)>e)throw new E1({givenSize:ethereum_provider_dist_index_es_dr(t),maxSize:e})}function ethereum_provider_dist_index_es_Wt(t,e={}){const{signed:r}=e;e.size&&dist_index_es_an(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return n<=o?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function ethereum_provider_dist_index_es_So(t,e={}){return Number(ethereum_provider_dist_index_es_Wt(t,e))}const A1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ethereum_provider_dist_index_es_ie(t,e={}){return typeof t=="number"||typeof t=="bigint"?ethereum_provider_dist_index_es_Ve(t,e):typeof t=="string"?vl(t,e):typeof t=="boolean"?S1(t,e):ethereum_provider_dist_index_es_jt(t,e)}function S1(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(dist_index_es_an(r,{size:e.size}),ethereum_provider_dist_index_es_on(r,{size:e.size})):r}function ethereum_provider_dist_index_es_jt(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=A1[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(dist_index_es_an(n,{size:e.size}),ethereum_provider_dist_index_es_on(n,{dir:"right",size:e.size})):n}function ethereum_provider_dist_index_es_Ve(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&r?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new x1({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?ethereum_provider_dist_index_es_on(a,{size:n}):a}const _1=new TextEncoder;function vl(t,e={}){const r=_1.encode(t);return ethereum_provider_dist_index_es_jt(r,e)}const I1=new TextEncoder;function Cl(t,e={}){return typeof t=="number"||typeof t=="bigint"?k1(t,e):typeof t=="boolean"?N1(t,e):ethereum_provider_dist_index_es_Zn(t)?ethereum_provider_dist_index_es_kr(t,e):xl(t,e)}function N1(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(dist_index_es_an(r,{size:e.size}),ethereum_provider_dist_index_es_on(r,{size:e.size})):r}const ethereum_provider_dist_index_es_Ft={zero:48,nine:57,A:65,F:70,a:97,f:102};function yl(t){if(t>=ethereum_provider_dist_index_es_Ft.zero&&t<=ethereum_provider_dist_index_es_Ft.nine)return t-ethereum_provider_dist_index_es_Ft.zero;if(t>=ethereum_provider_dist_index_es_Ft.A&&t<=ethereum_provider_dist_index_es_Ft.F)return t-(ethereum_provider_dist_index_es_Ft.A-10);if(t>=ethereum_provider_dist_index_es_Ft.a&&t<=ethereum_provider_dist_index_es_Ft.f)return t-(ethereum_provider_dist_index_es_Ft.a-10)}function ethereum_provider_dist_index_es_kr(t,e={}){let r=t;e.size&&(dist_index_es_an(r,{size:e.size}),r=ethereum_provider_dist_index_es_on(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const c=yl(n.charCodeAt(a++)),l=yl(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new ethereum_provider_dist_index_es_de(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);o[s]=c*16+l}return o}function k1(t,e){const r=ethereum_provider_dist_index_es_Ve(t,e);return ethereum_provider_dist_index_es_kr(r)}function xl(t,e={}){const r=I1.encode(t);return typeof e.size=="number"?(dist_index_es_an(r,{size:e.size}),ethereum_provider_dist_index_es_on(r,{dir:"right",size:e.size})):r}function ethereum_provider_dist_index_es_o(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function T1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ethereum_provider_dist_index_es_Gn(t,...e){if(!T1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function O1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ethereum_provider_dist_index_es_o(t.outputLen),ethereum_provider_dist_index_es_o(t.blockLen)}function dist_index_es_cn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function El(t,e){ethereum_provider_dist_index_es_Gn(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ethereum_provider_dist_index_es_Io=BigInt(2**32-1),Al=BigInt(32);function $1(t,e=!1){return e?{h:Number(t&ethereum_provider_dist_index_es_Io),l:Number(t>>Al&ethereum_provider_dist_index_es_Io)}:{h:Number(t>>Al&ethereum_provider_dist_index_es_Io)|0,l:Number(t&ethereum_provider_dist_index_es_Io)|0}}function P1(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=$1(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}const B1=(t,e,r)=>t<<r|e>>>32-r,R1=(t,e,r)=>e<<r|t>>>32-r,L1=(t,e,r)=>e<<r-32|t>>>64-r,U1=(t,e,r)=>t<<r-32|e>>>64-r,dist_index_es_ln=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function M1(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function index_es_ba(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ethereum_provider_dist_index_es_Tt(t,e){return t<<32-e|t>>>e}const Sl=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function D1(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function _l(t){for(let e=0;e<t.length;e++)t[e]=D1(t[e])}function z1(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ethereum_provider_dist_index_es_No(t){return typeof t=="string"&&(t=z1(t)),ethereum_provider_dist_index_es_Gn(t),t}function W1(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ethereum_provider_dist_index_es_Gn(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const o=t[n];r.set(o,i),i+=o.length}return r}class index_es_va{clone(){return this._cloneInto()}}function Il(t){const e=n=>t().update(ethereum_provider_dist_index_es_No(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function j1(t=32){if(dist_index_es_ln&&typeof dist_index_es_ln.getRandomValues=="function")return dist_index_es_ln.getRandomValues(new Uint8Array(t));if(dist_index_es_ln&&typeof dist_index_es_ln.randomBytes=="function")return dist_index_es_ln.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Nl=[],kl=[],Tl=[],F1=BigInt(0),ethereum_provider_dist_index_es_qn=BigInt(1),H1=BigInt(2),V1=BigInt(7),Z1=BigInt(256),G1=BigInt(113);for(let t=0,e=ethereum_provider_dist_index_es_qn,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Nl.push(2*(5*n+r)),kl.push((t+1)*(t+2)/2%64);let i=F1;for(let o=0;o<7;o++)e=(e<<ethereum_provider_dist_index_es_qn^(e>>V1)*G1)%Z1,e&H1&&(i^=ethereum_provider_dist_index_es_qn<<(ethereum_provider_dist_index_es_qn<<BigInt(o))-ethereum_provider_dist_index_es_qn);Tl.push(i)}const[q1,K1]=P1(Tl,!0),Ol=(t,e,r)=>r>32?L1(t,e,r):B1(t,e,r),$l=(t,e,r)=>r>32?U1(t,e,r):R1(t,e,r);function Y1(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=r[c],d=r[c+1],u=Ol(l,d,1)^r[a],h=$l(l,d,1)^r[a+1];for(let p=0;p<50;p+=10)t[s+p]^=u,t[s+p+1]^=h}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=kl[s],c=Ol(i,o,a),l=$l(i,o,a),d=Nl[s];i=t[d],o=t[d+1],t[d]=c,t[d+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=q1[n],t[1]^=K1[n]}r.fill(0)}class index_es_Xc extends index_es_va{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ethereum_provider_dist_index_es_o(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=M1(this.state)}keccak(){Sl||_l(this.state32),Y1(this.state32,this.rounds),Sl||_l(this.state32),this.posOut=0,this.pos=0}update(e){dist_index_es_cn(this);const{blockLen:r,state:n}=this;e=ethereum_provider_dist_index_es_No(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){dist_index_es_cn(this,!1),ethereum_provider_dist_index_es_Gn(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ethereum_provider_dist_index_es_o(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(El(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new index_es_Xc(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const X1=(t,e,r)=>Il(()=>new index_es_Xc(e,t,r)),Pl=X1(1,136,256/8);function J1(t,e){const r=e||"hex",n=Pl(ethereum_provider_dist_index_es_Zn(t,{strict:!1})?Cl(t):t);return r==="bytes"?n:ethereum_provider_dist_index_es_ie(n)}class ethereum_provider_dist_index_es_ur extends ethereum_provider_dist_index_es_de{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class dist_index_es_ko extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Ca=new dist_index_es_ko(8192);function Q1(t,e){if(Ca.has(`${t}.${e}`))return Ca.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=J1(xl(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(n[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Ca.set(`${t}.${e}`,o),o}const eh=/^0x[a-fA-F0-9]{40}$/,index_es_ya=new dist_index_es_ko(8192);function ethereum_provider_dist_index_es_Ht(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(index_es_ya.has(n))return index_es_ya.get(n);const i=eh.test(t)?t.toLowerCase()===t?!0:r?Q1(t)===t:!0:!1;return index_es_ya.set(n,i),i}function dist_index_es_dn(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function th(t,e,r,{strict:n}={}){return ethereum_provider_dist_index_es_Zn(t,{strict:!1})?nh(t,e,r,{strict:n}):rh(t,e,r,{strict:n})}function Bl(t,e){if(typeof e=="number"&&e>0&&e>ethereum_provider_dist_index_es_dr(t)-1)throw new ml({offset:e,position:"start",size:ethereum_provider_dist_index_es_dr(t)})}function Rl(t,e,r){if(typeof e=="number"&&typeof r=="number"&&ethereum_provider_dist_index_es_dr(t)!==r-e)throw new ml({offset:r,position:"end",size:ethereum_provider_dist_index_es_dr(t)})}function rh(t,e,r,{strict:n}={}){Bl(t,e);const i=t.slice(e,r);return n&&Rl(i,e,r),i}function nh(t,e,r,{strict:n}={}){Bl(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&Rl(i,e,r),i}class Ll extends ethereum_provider_dist_index_es_de{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class ih extends ethereum_provider_dist_index_es_de{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class oh extends ethereum_provider_dist_index_es_de{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const sh={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new oh({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new ih({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Ll({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Ll({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Ul(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(sh);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}const ethereum_provider_dist_index_es_Tr=(t,e,r)=>JSON.stringify(t,(n,i)=>{const o=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,o):o},r),ah={ether:-9,wei:9};function Ml(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,o]=[r.slice(0,r.length-e),r.slice(r.length-e)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}function index_es_xa(t,e="wei"){return Ml(t,ah[e])}function ch(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class lh extends ethereum_provider_dist_index_es_de{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class dh extends ethereum_provider_dist_index_es_de{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ch(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class uh extends ethereum_provider_dist_index_es_de{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}const index_es_Ea=t=>t;class ethereum_provider_dist_index_es_Kn extends ethereum_provider_dist_index_es_de{constructor({body:e,cause:r,details:n,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[o&&`Status: ${o}`,`URL: ${index_es_Ea(s)}`,e&&`Request body: ${ethereum_provider_dist_index_es_Tr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class Dl extends ethereum_provider_dist_index_es_de{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${index_es_Ea(n)}`,`Request body: ${ethereum_provider_dist_index_es_Tr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class zl extends ethereum_provider_dist_index_es_de{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${index_es_Ea(r)}`,`Request body: ${ethereum_provider_dist_index_es_Tr(e)}`],name:"TimeoutError"})}}const hh=-1;class ethereum_provider_dist_index_es_Xe extends ethereum_provider_dist_index_es_de{constructor(e,{code:r,docsPath:n,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof Dl?e.code:r??hh}}class dist_index_es_at extends ethereum_provider_dist_index_es_Xe{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class index_es_Gi extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:index_es_Gi.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(index_es_Gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class dist_index_es_qi extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:dist_index_es_qi.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(dist_index_es_qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class dist_index_es_Ki extends ethereum_provider_dist_index_es_Xe{constructor(e,{method:r}={}){super(e,{code:dist_index_es_Ki.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(dist_index_es_Ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class index_es_Yi extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:index_es_Yi.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(index_es_Yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ethereum_provider_dist_index_es_Ln extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:ethereum_provider_dist_index_es_Ln.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ethereum_provider_dist_index_es_Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class index_es_Xi extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:index_es_Xi.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(index_es_Xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class index_es_Ji extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:index_es_Ji.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(index_es_Ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class index_es_Qi extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:index_es_Qi.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(index_es_Qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ethereum_provider_dist_index_es_Un extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:ethereum_provider_dist_index_es_Un.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ethereum_provider_dist_index_es_Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ethereum_provider_dist_index_es_Qr extends ethereum_provider_dist_index_es_Xe{constructor(e,{method:r}={}){super(e,{code:ethereum_provider_dist_index_es_Qr.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(ethereum_provider_dist_index_es_Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ethereum_provider_dist_index_es_Mn extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:ethereum_provider_dist_index_es_Mn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ethereum_provider_dist_index_es_Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ethereum_provider_dist_index_es_eo extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{code:ethereum_provider_dist_index_es_eo.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ethereum_provider_dist_index_es_eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ethereum_provider_dist_index_es_en extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_en.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ethereum_provider_dist_index_es_en,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ethereum_provider_dist_index_es_to extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_to.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(ethereum_provider_dist_index_es_to,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ethereum_provider_dist_index_es_ro extends dist_index_es_at{constructor(e,{method:r}={}){super(e,{code:ethereum_provider_dist_index_es_ro.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(ethereum_provider_dist_index_es_ro,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ethereum_provider_dist_index_es_no extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_no.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ethereum_provider_dist_index_es_no,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ethereum_provider_dist_index_es_io extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_io.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ethereum_provider_dist_index_es_io,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ethereum_provider_dist_index_es_oo extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_oo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ethereum_provider_dist_index_es_oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ethereum_provider_dist_index_es_so extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_so.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ethereum_provider_dist_index_es_so,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ethereum_provider_dist_index_es_ao extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_ao.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ethereum_provider_dist_index_es_ao,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ethereum_provider_dist_index_es_co extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_co.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ethereum_provider_dist_index_es_co,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class ethereum_provider_dist_index_es_lo extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_lo.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(ethereum_provider_dist_index_es_lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ethereum_provider_dist_index_es_uo extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_uo.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ethereum_provider_dist_index_es_uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class ethereum_provider_dist_index_es_ho extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_ho.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(ethereum_provider_dist_index_es_ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ethereum_provider_dist_index_es_po extends dist_index_es_at{constructor(e){super(e,{code:ethereum_provider_dist_index_es_po.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ethereum_provider_dist_index_es_po,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class ph extends ethereum_provider_dist_index_es_Xe{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function ethereum_provider_dist_index_es_hr(t,e="hex"){const r=Wl(t),n=Ul(new Uint8Array(r.length));return r.encode(n),e==="hex"?ethereum_provider_dist_index_es_jt(n.bytes):n.bytes}function Wl(t){return Array.isArray(t)?fh(t.map(e=>Wl(e))):gh(t)}function fh(t){const e=t.reduce((i,o)=>i+o.length,0),r=jl(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function gh(t){const e=typeof t=="string"?ethereum_provider_dist_index_es_kr(t):t,r=jl(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function jl(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ethereum_provider_dist_index_es_de("Length is too large.")}class index_es_Aa extends ethereum_provider_dist_index_es_de{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(index_es_Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(index_es_Aa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ethereum_provider_dist_index_es_Yn extends ethereum_provider_dist_index_es_de{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${index_es_xa(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ethereum_provider_dist_index_es_Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class index_es_Sa extends ethereum_provider_dist_index_es_de{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${index_es_xa(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${index_es_xa(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(index_es_Sa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});function ethereum_provider_dist_index_es_To(t,e){return({exclude:r,format:n})=>({exclude:r,format:i=>{const o=e(i);if(r)for(const s of r)delete o[s];return{...o,...n(i)}},type:t})}const wh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function mh(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=vh(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>ethereum_provider_dist_index_es_jt(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=ethereum_provider_dist_index_es_Ve(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=ethereum_provider_dist_index_es_Ve(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=ethereum_provider_dist_index_es_Ve(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=ethereum_provider_dist_index_es_Ve(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=ethereum_provider_dist_index_es_Ve(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=ethereum_provider_dist_index_es_Ve(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=wh[t.type]),typeof t.value<"u"&&(e.value=ethereum_provider_dist_index_es_Ve(t.value)),e}const bh=ethereum_provider_dist_index_es_To("transactionRequest",mh);function vh(t){return t.map(e=>({address:e.address,r:e.r?ethereum_provider_dist_index_es_Ve(BigInt(e.r)):e.r,s:e.s?ethereum_provider_dist_index_es_Ve(BigInt(e.s)):e.s,chainId:ethereum_provider_dist_index_es_Ve(e.chainId),nonce:ethereum_provider_dist_index_es_Ve(e.nonce),...typeof e.yParity<"u"?{yParity:ethereum_provider_dist_index_es_Ve(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ethereum_provider_dist_index_es_Ve(e.v)}:{}}))}const ethereum_provider_dist_index_es_Oo=2n**256n-1n,Fl={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ethereum_provider_dist_index_es_$o(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ethereum_provider_dist_index_es_So(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ethereum_provider_dist_index_es_So(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Fl[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=Ch(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const Hl=ethereum_provider_dist_index_es_To("transaction",ethereum_provider_dist_index_es_$o);function Ch(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function yh(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:ethereum_provider_dist_index_es_$o(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Vl=ethereum_provider_dist_index_es_To("block",yh);function Zl(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>ethereum_provider_dist_index_es_kr(o)):t.blobs,i=[];for(const o of n)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return r==="bytes"?i:i.map(o=>ethereum_provider_dist_index_es_jt(o))}function Gl(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>ethereum_provider_dist_index_es_kr(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>ethereum_provider_dist_index_es_kr(s)):t.commitments,o=[];for(let s=0;s<n.length;s++){const a=n[s],c=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?o:o.map(s=>ethereum_provider_dist_index_es_jt(s))}function xh(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+l,a,n)}function Eh(t,e,r){return t&e^~t&r}function Ah(t,e,r){return t&e^t&r^e&r}class Sh extends index_es_va{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=index_es_ba(this.buffer)}update(e){dist_index_es_cn(this);const{view:r,buffer:n,blockLen:i}=this;e=ethereum_provider_dist_index_es_No(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=index_es_ba(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dist_index_es_cn(this),El(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let u=s;u<i;u++)r[u]=0;xh(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=index_es_ba(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}}const _h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ethereum_provider_dist_index_es_pr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ethereum_provider_dist_index_es_fr=new Uint32Array(64);class Ih extends Sh{constructor(){super(64,32,8,!1),this.A=ethereum_provider_dist_index_es_pr[0]|0,this.B=ethereum_provider_dist_index_es_pr[1]|0,this.C=ethereum_provider_dist_index_es_pr[2]|0,this.D=ethereum_provider_dist_index_es_pr[3]|0,this.E=ethereum_provider_dist_index_es_pr[4]|0,this.F=ethereum_provider_dist_index_es_pr[5]|0,this.G=ethereum_provider_dist_index_es_pr[6]|0,this.H=ethereum_provider_dist_index_es_pr[7]|0}get(){const{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let u=0;u<16;u++,r+=4)ethereum_provider_dist_index_es_fr[u]=e.getUint32(r,!1);for(let u=16;u<64;u++){const h=ethereum_provider_dist_index_es_fr[u-15],p=ethereum_provider_dist_index_es_fr[u-2],v=ethereum_provider_dist_index_es_Tt(h,7)^ethereum_provider_dist_index_es_Tt(h,18)^h>>>3,m=ethereum_provider_dist_index_es_Tt(p,17)^ethereum_provider_dist_index_es_Tt(p,19)^p>>>10;ethereum_provider_dist_index_es_fr[u]=m+ethereum_provider_dist_index_es_fr[u-7]+v+ethereum_provider_dist_index_es_fr[u-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:d}=this;for(let u=0;u<64;u++){const h=ethereum_provider_dist_index_es_Tt(a,6)^ethereum_provider_dist_index_es_Tt(a,11)^ethereum_provider_dist_index_es_Tt(a,25),p=d+h+Eh(a,c,l)+_h[u]+ethereum_provider_dist_index_es_fr[u]|0,m=(ethereum_provider_dist_index_es_Tt(n,2)^ethereum_provider_dist_index_es_Tt(n,13)^ethereum_provider_dist_index_es_Tt(n,22))+Ah(n,i,o)|0;d=l,l=c,c=a,a=s+p|0,s=o,o=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(n,i,o,s,a,c,l,d)}roundClean(){ethereum_provider_dist_index_es_fr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ql=Il(()=>new Ih);function Nh(t,e){const r=e||"hex",n=ql(ethereum_provider_dist_index_es_Zn(t,{strict:!1})?Cl(t):t);return r==="bytes"?n:ethereum_provider_dist_index_es_ie(n)}function kh(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=Nh(e,"bytes");return i.set([r],0),n==="bytes"?i:ethereum_provider_dist_index_es_jt(i)}function Th(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const o of e)i.push(kh({commitment:o,to:n,version:r}));return i}const Kl=6,Yl=32,_a=4096,Xl=Yl*_a,Jl=Xl*Kl-1-1*_a*Kl,Ql=1;class Oh extends ethereum_provider_dist_index_es_de{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class ed extends ethereum_provider_dist_index_es_de{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class $h extends ethereum_provider_dist_index_es_de{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class Ph extends ethereum_provider_dist_index_es_de{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${Ql}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function Bh(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?ethereum_provider_dist_index_es_kr(t.data):t.data,n=ethereum_provider_dist_index_es_dr(r);if(!n)throw new ed;if(n>Jl)throw new Oh({maxSize:Jl,size:n});const i=[];let o=!0,s=0;for(;o;){const a=Ul(new Uint8Array(Xl));let c=0;for(;c<_a;){const l=r.slice(s,s+(Yl-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),o=!1;break}c++,s+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>ethereum_provider_dist_index_es_jt(a.bytes))}function Rh(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??Bh({data:e,to:n}),o=t.commitments??Zl({blobs:i,kzg:r,to:n}),s=t.proofs??Gl({blobs:i,commitments:o,kzg:r,to:n}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:o[c],proof:s[c]});return a}function Lh(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new dh({transaction:t})}function Uh(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}class ethereum_provider_dist_index_es_Xn extends ethereum_provider_dist_index_es_de{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function Mh(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const index_es_Ia=new Map;function Dh({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const o=async()=>{const d=c();s();const u=d.map(({args:h})=>h);u.length!==0&&t(u).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let p=0;p<d.length;p++){const{resolve:v}=d[p];v?.([h[p],h])}}).catch(h=>{for(let p=0;p<d.length;p++){const{reject:v}=d[p];v?.(h)}})},s=()=>index_es_Ia.delete(e),a=()=>c().map(({args:d})=>d),c=()=>index_es_Ia.get(e)||[],l=d=>index_es_Ia.set(e,[...c(),d]);return{flush:s,async schedule(d){const{promise:u,resolve:h,reject:p}=Mh();return r?.([...a(),d])&&o(),c().length>0?(l({args:d,resolve:h,reject:p}),u):(l({args:d,resolve:h,reject:p}),setTimeout(o,n),u)}}}async function td(t){return new Promise(e=>setTimeout(e,t))}new dist_index_es_ko(128);const index_es_Na=256;let dist_index_es_Po=index_es_Na,ethereum_provider_dist_index_es_Bo;function zh(t=11){if(!ethereum_provider_dist_index_es_Bo||dist_index_es_Po+t>index_es_Na*2){ethereum_provider_dist_index_es_Bo="",dist_index_es_Po=0;for(let e=0;e<index_es_Na;e++)ethereum_provider_dist_index_es_Bo+=(256+Math.random()*256|0).toString(16).substring(1)}return ethereum_provider_dist_index_es_Bo.substring(dist_index_es_Po,dist_index_es_Po+++t)}const ethereum_provider_dist_index_es_Ro=new dist_index_es_ko(8192);function Wh(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(ethereum_provider_dist_index_es_Ro.get(r))return ethereum_provider_dist_index_es_Ro.get(r);const n=t().finally(()=>ethereum_provider_dist_index_es_Ro.delete(r));return ethereum_provider_dist_index_es_Ro.set(r,n),n}function jh(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const c=async({error:l})=>{const d=typeof e=="function"?e({count:a,error:l}):e;d&&await td(d),s({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});o(l)}};s()})}function Fh(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(o?.exclude?.includes(l))throw new ethereum_provider_dist_index_es_Qr(new Error("method not supported"),{method:l});if(o?.include&&!o.include.includes(l))throw new ethereum_provider_dist_index_es_Qr(new Error("method not supported"),{method:l});const d=i?vl(`${c}.${ethereum_provider_dist_index_es_Tr(r)}`):void 0;return Wh(()=>jh(async()=>{try{return await t(r)}catch(u){const h=u;switch(h.code){case index_es_Gi.code:throw new index_es_Gi(h);case dist_index_es_qi.code:throw new dist_index_es_qi(h);case dist_index_es_Ki.code:throw new dist_index_es_Ki(h,{method:r.method});case index_es_Yi.code:throw new index_es_Yi(h);case ethereum_provider_dist_index_es_Ln.code:throw new ethereum_provider_dist_index_es_Ln(h);case index_es_Xi.code:throw new index_es_Xi(h);case index_es_Ji.code:throw new index_es_Ji(h);case index_es_Qi.code:throw new index_es_Qi(h);case ethereum_provider_dist_index_es_Un.code:throw new ethereum_provider_dist_index_es_Un(h);case ethereum_provider_dist_index_es_Qr.code:throw new ethereum_provider_dist_index_es_Qr(h,{method:r.method});case ethereum_provider_dist_index_es_Mn.code:throw new ethereum_provider_dist_index_es_Mn(h);case ethereum_provider_dist_index_es_eo.code:throw new ethereum_provider_dist_index_es_eo(h);case ethereum_provider_dist_index_es_en.code:throw new ethereum_provider_dist_index_es_en(h);case ethereum_provider_dist_index_es_to.code:throw new ethereum_provider_dist_index_es_to(h);case ethereum_provider_dist_index_es_ro.code:throw new ethereum_provider_dist_index_es_ro(h);case ethereum_provider_dist_index_es_no.code:throw new ethereum_provider_dist_index_es_no(h);case ethereum_provider_dist_index_es_io.code:throw new ethereum_provider_dist_index_es_io(h);case ethereum_provider_dist_index_es_oo.code:throw new ethereum_provider_dist_index_es_oo(h);case ethereum_provider_dist_index_es_so.code:throw new ethereum_provider_dist_index_es_so(h);case ethereum_provider_dist_index_es_ao.code:throw new ethereum_provider_dist_index_es_ao(h);case ethereum_provider_dist_index_es_co.code:throw new ethereum_provider_dist_index_es_co(h);case ethereum_provider_dist_index_es_lo.code:throw new ethereum_provider_dist_index_es_lo(h);case ethereum_provider_dist_index_es_uo.code:throw new ethereum_provider_dist_index_es_uo(h);case ethereum_provider_dist_index_es_ho.code:throw new ethereum_provider_dist_index_es_ho(h);case ethereum_provider_dist_index_es_po.code:throw new ethereum_provider_dist_index_es_po(h);case 5e3:throw new ethereum_provider_dist_index_es_en(h);default:throw u instanceof ethereum_provider_dist_index_es_de?u:new ph(h)}}},{delay:({count:u,error:h})=>{if(h&&h instanceof ethereum_provider_dist_index_es_Kn){const p=h?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<u)*s},retryCount:a,shouldRetry:({error:u})=>Hh(u)}),{enabled:i,id:d})}}function Hh(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===ethereum_provider_dist_index_es_Mn.code||t.code===ethereum_provider_dist_index_es_Ln.code:t instanceof ethereum_provider_dist_index_es_Kn&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function rd({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},c){const l=zh();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:o,timeout:s,type:a},request:Fh(n,{methods:e,retryCount:i,retryDelay:o,uid:l}),value:c}}function nd(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:o=Vh,retryCount:s,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:d,...u})=>{let h=t,p=()=>{};const v=rd({key:r,name:n,async request({method:m,params:g}){let b;const y=async(x=0)=>{const E=h[x]({...u,chain:c,retryCount:0,timeout:d});try{const I=await E.request({method:m,params:g});return p({method:m,params:g,response:I,transport:E,status:"success"}),I}catch(I){if(p({error:I,method:m,params:g,transport:E,status:"error"}),o(I)||x===h.length-1||(b??=h.slice(x+1).some($=>{const{include:L,exclude:Z}=$({chain:c}).config.methods||{};return L?L.includes(m):Z?!Z.includes(m):!0}),!b))throw I;return y(x+1)}};return y()},retryCount:s,retryDelay:a,type:"fallback"},{onResponse:m=>p=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};Zh({chain:c,interval:m.interval??l,onTransports:g=>h=g,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return v}}function Vh(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===ethereum_provider_dist_index_es_Un.code||t.code===ethereum_provider_dist_index_es_en.code||index_es_Aa.nodeMessage.test(t.message)||t.code===5e3))}function Zh({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:o=1e3,transports:s,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,d=[],u=async()=>{const h=await Promise.all(s.map(async m=>{const g=m({chain:t,retryCount:0,timeout:o}),b=Date.now();let y,x;try{await(n?n({transport:g}):g.request({method:"net_listening"})),x=1}catch{x=0}finally{y=Date.now()}return{latency:y-b,success:x}}));d.push(h),d.length>i&&d.shift();const p=Math.max(...d.map(m=>Math.max(...m.map(({latency:g})=>g)))),v=s.map((m,g)=>{const b=d.map($=>$[g].latency),x=1-b.reduce(($,L)=>$+L,0)/b.length/p,E=d.map($=>$[g].success),I=E.reduce(($,L)=>$+L,0)/E.length;return I===0?[0,g]:[l*x+c*I,g]}).sort((m,g)=>g[0]-m[0]);r(v.map(([,m])=>s[m])),await td(e),u()};u()}class Gh extends ethereum_provider_dist_index_es_de{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function qh(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;r>0&&(s=setTimeout(()=>{n?a.abort():o(e)},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function Kh(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const id=Kh();function Yh(t,e={}){return{async request(r){const{body:n,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:d}=a;try{const u=await qh(async({signal:p})=>{const v={...a,body:Array.isArray(n)?ethereum_provider_dist_index_es_Tr(n.map(y=>({jsonrpc:"2.0",id:y.id??id.take(),...y}))):ethereum_provider_dist_index_es_Tr({jsonrpc:"2.0",id:n.id??id.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:d||(s>0?p:null)},m=new Request(t,v),g=await i?.(m,v)??{...v,url:t};return await fetch(g.url??t,g)},{errorInstance:new zl({body:n,url:t}),timeout:s,signal:!0});o&&await o(u);let h;if(u.headers.get("Content-Type")?.startsWith("application/json"))h=await u.json();else{h=await u.text();try{h=JSON.parse(h||"{}")}catch(p){if(u.ok)throw p;h={error:h}}}if(!u.ok)throw new ethereum_provider_dist_index_es_Kn({body:n,details:ethereum_provider_dist_index_es_Tr(h.error)||u.statusText,headers:u.headers,status:u.status,url:t});return h}catch(u){throw u instanceof ethereum_provider_dist_index_es_Kn||u instanceof zl?u:new ethereum_provider_dist_index_es_Kn({body:n,cause:u,url:t})}}}}function ethereum_provider_dist_index_es_Lo(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:d}=e;return({chain:u,retryCount:h,timeout:p})=>{const{batchSize:v=1e3,wait:m=0}=typeof r=="object"?r:{},g=e.retryCount??h,b=p??e.timeout??1e4,y=t||u?.rpcUrls.default.http[0];if(!y)throw new Gh;const x=Yh(y,{fetchOptions:n,onRequest:a,onResponse:c,timeout:b});return rd({key:i,methods:o,name:s,async request({method:E,params:I}){const $={method:E,params:I},{schedule:L}=Dh({id:y,wait:m,shouldSplitBatch(N){return N.length>v},fn:N=>x.request({body:N}),sort:(N,ee)=>N.id-ee.id}),Z=async N=>r?L(N):[await x.request({body:N})],[{error:B,result:R}]=await Z($);if(d)return{error:B,result:R};if(B)throw new Dl({body:$,error:B,url:y});return R},retryCount:g,retryDelay:l,timeout:b,type:"http"},{fetchOptions:n,url:y})}}function ethereum_provider_dist_index_es_J(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Xh(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,i=r.address;if(!ethereum_provider_dist_index_es_Ht(i))throw new ethereum_provider_dist_index_es_ur({address:i});if(n<0)throw new ethereum_provider_dist_index_es_Xn({chainId:n})}ka(t)}function Jh(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new ed;for(const r of e){const n=ethereum_provider_dist_index_es_dr(r),i=ethereum_provider_dist_index_es_So(th(r,0,1));if(n!==32)throw new $h({hash:r,size:n});if(i!==Ql)throw new Ph({hash:r,version:i})}}ka(t)}function ka(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=t;if(e<=0)throw new ethereum_provider_dist_index_es_Xn({chainId:e});if(i&&!ethereum_provider_dist_index_es_Ht(i))throw new ethereum_provider_dist_index_es_ur({address:i});if(n&&n>ethereum_provider_dist_index_es_Oo)throw new ethereum_provider_dist_index_es_Yn({maxFeePerGas:n});if(r&&n&&r>n)throw new index_es_Sa({maxFeePerGas:n,maxPriorityFeePerGas:r})}function Qh(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=t;if(e<=0)throw new ethereum_provider_dist_index_es_Xn({chainId:e});if(o&&!ethereum_provider_dist_index_es_Ht(o))throw new ethereum_provider_dist_index_es_ur({address:o});if(r||i)throw new ethereum_provider_dist_index_es_de("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>ethereum_provider_dist_index_es_Oo)throw new ethereum_provider_dist_index_es_Yn({maxFeePerGas:n})}function ep(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=t;if(o&&!ethereum_provider_dist_index_es_Ht(o))throw new ethereum_provider_dist_index_es_ur({address:o});if(typeof e<"u"&&e<=0)throw new ethereum_provider_dist_index_es_Xn({chainId:e});if(r||i)throw new ethereum_provider_dist_index_es_de("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>ethereum_provider_dist_index_es_Oo)throw new ethereum_provider_dist_index_es_Yn({maxFeePerGas:n})}function ethereum_provider_dist_index_es_Jn(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new uh({storageKey:i[o]});if(!ethereum_provider_dist_index_es_Ht(n,{strict:!1}))throw new ethereum_provider_dist_index_es_ur({address:n});e.push([n,i])}return e}function tp(t,e){const r=Lh(t);return r==="eip1559"?ip(t,e):r==="eip2930"?op(t,e):r==="eip4844"?np(t,e):r==="eip7702"?rp(t,e):sp(t,e)}function rp(t,e){const{authorizationList:r,chainId:n,gas:i,nonce:o,to:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:u}=t;Xh(t);const h=ethereum_provider_dist_index_es_Jn(d),p=ap(r);return dist_index_es_dn(["0x04",ethereum_provider_dist_index_es_hr([ethereum_provider_dist_index_es_ie(n),o?ethereum_provider_dist_index_es_ie(o):"0x",l?ethereum_provider_dist_index_es_ie(l):"0x",c?ethereum_provider_dist_index_es_ie(c):"0x",i?ethereum_provider_dist_index_es_ie(i):"0x",s??"0x",a?ethereum_provider_dist_index_es_ie(a):"0x",u??"0x",h,p,...dist_index_es_un(t,e)])])}function np(t,e){const{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:u}=t;Jh(t);let h=t.blobVersionedHashes,p=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof p>"u")){const x=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map($=>ethereum_provider_dist_index_es_jt($)),E=t.kzg,I=Zl({blobs:x,kzg:E});if(typeof h>"u"&&(h=Th({commitments:I})),typeof p>"u"){const $=Gl({blobs:x,commitments:I,kzg:E});p=Rh({blobs:x,commitments:I,proofs:$})}}const v=ethereum_provider_dist_index_es_Jn(d),m=[ethereum_provider_dist_index_es_ie(r),i?ethereum_provider_dist_index_es_ie(i):"0x",l?ethereum_provider_dist_index_es_ie(l):"0x",c?ethereum_provider_dist_index_es_ie(c):"0x",n?ethereum_provider_dist_index_es_ie(n):"0x",o??"0x",s?ethereum_provider_dist_index_es_ie(s):"0x",u??"0x",v,a?ethereum_provider_dist_index_es_ie(a):"0x",h??[],...dist_index_es_un(t,e)],g=[],b=[],y=[];if(p)for(let x=0;x<p.length;x++){const{blob:E,commitment:I,proof:$}=p[x];g.push(E),b.push(I),y.push($)}return dist_index_es_dn(["0x03",ethereum_provider_dist_index_es_hr(p?[m,g,b,y]:m)])}function ip(t,e){const{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:d}=t;ka(t);const u=ethereum_provider_dist_index_es_Jn(l),h=[ethereum_provider_dist_index_es_ie(r),i?ethereum_provider_dist_index_es_ie(i):"0x",c?ethereum_provider_dist_index_es_ie(c):"0x",a?ethereum_provider_dist_index_es_ie(a):"0x",n?ethereum_provider_dist_index_es_ie(n):"0x",o??"0x",s?ethereum_provider_dist_index_es_ie(s):"0x",d??"0x",u,...dist_index_es_un(t,e)];return dist_index_es_dn(["0x02",ethereum_provider_dist_index_es_hr(h)])}function op(t,e){const{chainId:r,gas:n,data:i,nonce:o,to:s,value:a,accessList:c,gasPrice:l}=t;Qh(t);const d=ethereum_provider_dist_index_es_Jn(c),u=[ethereum_provider_dist_index_es_ie(r),o?ethereum_provider_dist_index_es_ie(o):"0x",l?ethereum_provider_dist_index_es_ie(l):"0x",n?ethereum_provider_dist_index_es_ie(n):"0x",s??"0x",a?ethereum_provider_dist_index_es_ie(a):"0x",i??"0x",d,...dist_index_es_un(t,e)];return dist_index_es_dn(["0x01",ethereum_provider_dist_index_es_hr(u)])}function sp(t,e){const{chainId:r=0,gas:n,data:i,nonce:o,to:s,value:a,gasPrice:c}=t;ep(t);let l=[o?ethereum_provider_dist_index_es_ie(o):"0x",c?ethereum_provider_dist_index_es_ie(c):"0x",n?ethereum_provider_dist_index_es_ie(n):"0x",s??"0x",a?ethereum_provider_dist_index_es_ie(a):"0x",i??"0x"];if(e){const d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const p=27n+(e.v===27n?0n:1n);if(e.v!==p)throw new lh({v:e.v});return p})(),u=ethereum_provider_dist_index_es_sn(e.r),h=ethereum_provider_dist_index_es_sn(e.s);l=[...l,ethereum_provider_dist_index_es_ie(d),u==="0x00"?"0x":u,h==="0x00"?"0x":h]}else r>0&&(l=[...l,ethereum_provider_dist_index_es_ie(r),"0x","0x"]);return ethereum_provider_dist_index_es_hr(l)}function dist_index_es_un(t,e){const r=e??t,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const o=ethereum_provider_dist_index_es_sn(r.r),s=ethereum_provider_dist_index_es_sn(r.s);return[typeof i=="number"?i?ethereum_provider_dist_index_es_ie(1):"0x":n===0n?"0x":n===1n?ethereum_provider_dist_index_es_ie(1):n===27n?"0x":ethereum_provider_dist_index_es_ie(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function ap(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:i,...o}=r,s=r.address;e.push([n?ethereum_provider_dist_index_es_ie(n):"0x",s,i?ethereum_provider_dist_index_es_ie(i):"0x",...dist_index_es_un({},o)])}return e}const cp={"0x0":"reverted","0x1":"success"};function lp(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Uh(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ethereum_provider_dist_index_es_So(t.transactionIndex):null,status:t.status?cp[t.status]:null,type:t.type?Fl[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const dp=ethereum_provider_dist_index_es_To("transactionReceipt",lp),up=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),od=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),hp=od.map(t=>(9*t+5)%16);let pp=[od],fp=[hp];for(let t=0;t<4;t++)for(let e of[pp,fp])e.push(e[t].map(r=>up[r]));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ethereum_provider_dist_index_es_Uo=BigInt(0),dist_index_es_Mo=BigInt(1),gp=BigInt(2);function ethereum_provider_dist_index_es_Or(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ethereum_provider_dist_index_es_Qn(t){if(!ethereum_provider_dist_index_es_Or(t))throw new Error("Uint8Array expected")}function dist_index_es_hn(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const wp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dist_index_es_pn(t){ethereum_provider_dist_index_es_Qn(t);let e="";for(let r=0;r<t.length;r++)e+=wp[t[r]];return e}function dist_index_es_fn(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ta(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ethereum_provider_dist_index_es_Uo:BigInt("0x"+t)}const ethereum_provider_dist_index_es_Vt={_0:48,_9:57,A:65,F:70,a:97,f:102};function sd(t){if(t>=ethereum_provider_dist_index_es_Vt._0&&t<=ethereum_provider_dist_index_es_Vt._9)return t-ethereum_provider_dist_index_es_Vt._0;if(t>=ethereum_provider_dist_index_es_Vt.A&&t<=ethereum_provider_dist_index_es_Vt.F)return t-(ethereum_provider_dist_index_es_Vt.A-10);if(t>=ethereum_provider_dist_index_es_Vt.a&&t<=ethereum_provider_dist_index_es_Vt.f)return t-(ethereum_provider_dist_index_es_Vt.a-10)}function ethereum_provider_dist_index_es_gn(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const s=sd(t.charCodeAt(o)),a=sd(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function ethereum_provider_dist_index_es_$r(t){return Ta(dist_index_es_pn(t))}function index_es_Oa(t){return ethereum_provider_dist_index_es_Qn(t),Ta(dist_index_es_pn(Uint8Array.from(t).reverse()))}function dist_index_es_wn(t,e){return ethereum_provider_dist_index_es_gn(t.toString(16).padStart(e*2,"0"))}function $a(t,e){return dist_index_es_wn(t,e).reverse()}function mp(t){return ethereum_provider_dist_index_es_gn(dist_index_es_fn(t))}function ethereum_provider_dist_index_es_xt(t,e,r){let n;if(typeof e=="string")try{n=ethereum_provider_dist_index_es_gn(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(ethereum_provider_dist_index_es_Or(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function dist_index_es_ei(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ethereum_provider_dist_index_es_Qn(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const o=t[n];r.set(o,i),i+=o.length}return r}function bp(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function vp(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Pa=t=>typeof t=="bigint"&&ethereum_provider_dist_index_es_Uo<=t;function dist_index_es_Do(t,e,r){return Pa(t)&&Pa(e)&&Pa(r)&&e<=t&&t<r}function ethereum_provider_dist_index_es_Pr(t,e,r,n){if(!dist_index_es_Do(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ad(t){let e;for(e=0;t>ethereum_provider_dist_index_es_Uo;t>>=dist_index_es_Mo,e+=1);return e}function Cp(t,e){return t>>BigInt(e)&dist_index_es_Mo}function yp(t,e,r){return t|(r?dist_index_es_Mo:ethereum_provider_dist_index_es_Uo)<<BigInt(e)}const index_es_Ba=t=>(gp<<BigInt(t-1))-dist_index_es_Mo,Ra=t=>new Uint8Array(t),cd=t=>Uint8Array.from(t);function ld(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Ra(t),i=Ra(t),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...u)=>r(i,n,...u),c=(u=Ra())=>{i=a(cd([0]),u),n=a(),u.length!==0&&(i=a(cd([1]),u),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<e;){n=a();const p=n.slice();h.push(p),u+=n.length}return dist_index_es_ei(...h)};return(u,h)=>{s(),c(u);let p;for(;!(p=h(l()));)c();return s(),p}}const xp={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ethereum_provider_dist_index_es_Or(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dist_index_es_ti(t,e,r={}){const n=(i,o,s)=>{const a=xp[o];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+c)};for(const[i,o]of Object.entries(e))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return t}const Ep=()=>{throw new Error("not implemented")};function La(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const o=t(r,...n);return e.set(r,o),o}}var Ap=Object.freeze({__proto__:null,isBytes:ethereum_provider_dist_index_es_Or,abytes:ethereum_provider_dist_index_es_Qn,abool:dist_index_es_hn,bytesToHex:dist_index_es_pn,numberToHexUnpadded:dist_index_es_fn,hexToNumber:Ta,hexToBytes:ethereum_provider_dist_index_es_gn,bytesToNumberBE:ethereum_provider_dist_index_es_$r,bytesToNumberLE:index_es_Oa,numberToBytesBE:dist_index_es_wn,numberToBytesLE:$a,numberToVarBytesBE:mp,ensureBytes:ethereum_provider_dist_index_es_xt,concatBytes:dist_index_es_ei,equalBytes:bp,utf8ToBytes:vp,inRange:dist_index_es_Do,aInRange:ethereum_provider_dist_index_es_Pr,bitLen:ad,bitGet:Cp,bitSet:yp,bitMask:index_es_Ba,createHmacDrbg:ld,validateObject:dist_index_es_ti,notImplemented:Ep,memoized:La});const Sp="0.1.1";function _p(){return Sp}class ethereum_provider_dist_index_es_Ge extends Error{constructor(e,r={}){const n=(()=>{if(r.cause instanceof ethereum_provider_dist_index_es_Ge){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof ethereum_provider_dist_index_es_Ge&&r.cause.docsPath||r.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${s}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${_p()}`}),this.cause=r.cause,this.details=n,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return dd(this,e)}}function dd(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?dd(t.cause,e):e?null:t}function Ip(t,e){if(pd(t)>e)throw new Rp({givenSize:pd(t),maxSize:e})}const ethereum_provider_dist_index_es_Zt={zero:48,nine:57,A:65,F:70,a:97,f:102};function ud(t){if(t>=ethereum_provider_dist_index_es_Zt.zero&&t<=ethereum_provider_dist_index_es_Zt.nine)return t-ethereum_provider_dist_index_es_Zt.zero;if(t>=ethereum_provider_dist_index_es_Zt.A&&t<=ethereum_provider_dist_index_es_Zt.F)return t-(ethereum_provider_dist_index_es_Zt.A-10);if(t>=ethereum_provider_dist_index_es_Zt.a&&t<=ethereum_provider_dist_index_es_Zt.f)return t-(ethereum_provider_dist_index_es_Zt.a-10)}function Np(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Lp({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let o=0;o<n;o++){const s=r==="right";i[s?o:n-o-1]=t[s?o:t.length-o-1]}return i}function index_es_Ua(t,e){if(Da(t)>e)throw new Fp({givenSize:Da(t),maxSize:e})}function hd(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new Hp({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const kp=new TextEncoder;function Tp(t){return t instanceof Uint8Array?t:typeof t=="string"?$p(t):Op(t)}function Op(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function $p(t,e={}){const{size:r}=e;let n=t;r&&(index_es_Ua(t,r),n=Ma(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const l=ud(i.charCodeAt(c++)),d=ud(i.charCodeAt(c++));if(l===void 0||d===void 0)throw new ethereum_provider_dist_index_es_Ge(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);s[a]=l*16+d}return s}function Pp(t,e={}){const{size:r}=e,n=kp.encode(t);return typeof r=="number"?(Ip(n,r),Bp(n,r)):n}function Bp(t,e){return Np(t,{dir:"right",size:e})}function pd(t){return t.length}class Rp extends ethereum_provider_dist_index_es_Ge{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Lp extends ethereum_provider_dist_index_es_Ge{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const Up=new TextEncoder,Mp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fd(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Dp(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(index_es_Ua(r,e.size),ethereum_provider_dist_index_es_zo(r,e.size)):r}function gd(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Mp[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(index_es_Ua(n,e.size),Ma(n,e.size)):n}function zp(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&r?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new jp({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:r,size:n,value:`${t}${l}`})}const c=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?ethereum_provider_dist_index_es_zo(c,n):c}function Wp(t,e={}){return gd(Up.encode(t),e)}function ethereum_provider_dist_index_es_zo(t,e){return hd(t,{dir:"left",size:e})}function Ma(t,e){return hd(t,{dir:"right",size:e})}function Da(t){return Math.ceil((t.length-2)/2)}class jp extends ethereum_provider_dist_index_es_Ge{constructor({max:e,min:r,signed:n,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Fp extends ethereum_provider_dist_index_es_Ge{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Hp extends ethereum_provider_dist_index_es_Ge{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Vp(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=Pl(Tp(t));return r==="Bytes"?n:gd(n)}class Zp extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Gp={checksum:new Zp(8192)},za=Gp.checksum,qp=/^0x[a-fA-F0-9]{40}$/;function wd(t,e={}){const{strict:r=!0}=e;if(!qp.test(t))throw new md({address:t,cause:new Yp});if(r){if(t.toLowerCase()===t)return;if(Kp(t)!==t)throw new md({address:t,cause:new Xp})}}function Kp(t){if(za.has(t))return za.get(t);wd(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=Vp(Pp(e),{as:"Bytes"}),n=e.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(r[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());const i=`0x${n.join("")}`;return za.set(t,i),i}class md extends ethereum_provider_dist_index_es_Ge{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Yp extends ethereum_provider_dist_index_es_Ge{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Xp extends ethereum_provider_dist_index_es_Ge{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Jp=/^(.*)\[([0-9]*)\]$/,Qp=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ef=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Wa(t,e){if(t.length!==e.length)throw new rf({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],o=e[n];r.push(Wa.encode(i,o))}return fd(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const c=n;return wd(c),ethereum_provider_dist_index_es_zo(c.toLowerCase(),i?32:0)}if(r==="string")return Wp(n);if(r==="bytes")return n;if(r==="bool")return ethereum_provider_dist_index_es_zo(Dp(n),i?32:1);const o=r.match(ef);if(o){const[c,l,d="256"]=o,u=Number.parseInt(d)/8;return zp(n,{size:i?32:u,signed:l==="int"})}const s=r.match(Qp);if(s){const[c,l]=s;if(Number.parseInt(l)!==(n.length-2)/2)throw new tf({expectedSize:Number.parseInt(l),value:n});return Ma(n,i?32:0)}const a=r.match(Jp);if(a&&Array.isArray(n)){const[c,l]=a,d=[];for(let u=0;u<n.length;u++)d.push(e(l,n[u],!0));return d.length===0?"0x":fd(...d)}throw new nf(r)}t.encode=e})(Wa||(Wa={}));class tf extends ethereum_provider_dist_index_es_Ge{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Da(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class rf extends ethereum_provider_dist_index_es_Ge{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class nf extends ethereum_provider_dist_index_es_Ge{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class bd extends index_es_va{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,O1(e);const n=ethereum_provider_dist_index_es_No(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return dist_index_es_cn(this),this.iHash.update(e),this}digestInto(e){dist_index_es_cn(this),ethereum_provider_dist_index_es_Gn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vd=(t,e,r)=>new bd(t,e).update(r).digest();vd.create=(t,e)=>new bd(t,e);const ethereum_provider_dist_index_es_Le=BigInt(0),ethereum_provider_dist_index_es_Ie=BigInt(1),ethereum_provider_dist_index_es_Br=BigInt(2),of=BigInt(3),ja=BigInt(4),Cd=BigInt(5),yd=BigInt(8);function ethereum_provider_dist_index_es_Je(t,e){const r=t%e;return r>=ethereum_provider_dist_index_es_Le?r:e+r}function sf(t,e,r){if(e<ethereum_provider_dist_index_es_Le)throw new Error("invalid exponent, negatives unsupported");if(r<=ethereum_provider_dist_index_es_Le)throw new Error("invalid modulus");if(r===ethereum_provider_dist_index_es_Ie)return ethereum_provider_dist_index_es_Le;let n=ethereum_provider_dist_index_es_Ie;for(;e>ethereum_provider_dist_index_es_Le;)e&ethereum_provider_dist_index_es_Ie&&(n=n*t%r),t=t*t%r,e>>=ethereum_provider_dist_index_es_Ie;return n}function ethereum_provider_dist_index_es_pt(t,e,r){let n=t;for(;e-- >ethereum_provider_dist_index_es_Le;)n*=n,n%=r;return n}function Fa(t,e){if(t===ethereum_provider_dist_index_es_Le)throw new Error("invert: expected non-zero number");if(e<=ethereum_provider_dist_index_es_Le)throw new Error("invert: expected positive modulus, got "+e);let r=ethereum_provider_dist_index_es_Je(t,e),n=e,i=ethereum_provider_dist_index_es_Le,o=ethereum_provider_dist_index_es_Ie;for(;r!==ethereum_provider_dist_index_es_Le;){const a=n/r,c=n%r,l=i-o*a;n=r,r=c,i=o,o=l}if(n!==ethereum_provider_dist_index_es_Ie)throw new Error("invert: does not exist");return ethereum_provider_dist_index_es_Je(i,e)}function af(t){const e=(t-ethereum_provider_dist_index_es_Ie)/ethereum_provider_dist_index_es_Br;let r,n,i;for(r=t-ethereum_provider_dist_index_es_Ie,n=0;r%ethereum_provider_dist_index_es_Br===ethereum_provider_dist_index_es_Le;r/=ethereum_provider_dist_index_es_Br,n++);for(i=ethereum_provider_dist_index_es_Br;i<t&&sf(i,e,t)!==t-ethereum_provider_dist_index_es_Ie;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const s=(t+ethereum_provider_dist_index_es_Ie)/ja;return function(c,l){const d=c.pow(l,s);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}const o=(r+ethereum_provider_dist_index_es_Ie)/ethereum_provider_dist_index_es_Br;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,d=a.pow(a.mul(a.ONE,i),r),u=a.pow(c,o),h=a.pow(c,r);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(h);p<l&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const v=a.pow(d,ethereum_provider_dist_index_es_Ie<<BigInt(l-p-1));d=a.sqr(v),u=a.mul(u,v),h=a.mul(h,d),l=p}return u}}function cf(t){if(t%ja===of){const e=(t+ethereum_provider_dist_index_es_Ie)/ja;return function(n,i){const o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%yd===Cd){const e=(t-Cd)/yd;return function(n,i){const o=n.mul(i,ethereum_provider_dist_index_es_Br),s=n.pow(o,e),a=n.mul(i,s),c=n.mul(n.mul(a,ethereum_provider_dist_index_es_Br),s),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return af(t)}const lf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function df(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=lf.reduce((n,i)=>(n[i]="function",n),e);return dist_index_es_ti(t,r)}function uf(t,e,r){if(r<ethereum_provider_dist_index_es_Le)throw new Error("invalid exponent, negatives unsupported");if(r===ethereum_provider_dist_index_es_Le)return t.ONE;if(r===ethereum_provider_dist_index_es_Ie)return e;let n=t.ONE,i=e;for(;r>ethereum_provider_dist_index_es_Le;)r&ethereum_provider_dist_index_es_Ie&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ethereum_provider_dist_index_es_Ie;return n}function hf(t,e){const r=new Array(e.length),n=e.reduce((o,s,a)=>t.is0(s)?o:(r[a]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,a)=>t.is0(s)?o:(r[a]=t.mul(o,r[a]),t.mul(o,s)),i),r}function xd(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ed(t,e,r=!1,n={}){if(t<=ethereum_provider_dist_index_es_Le)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=xd(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:o,MASK:index_es_Ba(i),ZERO:ethereum_provider_dist_index_es_Le,ONE:ethereum_provider_dist_index_es_Ie,create:c=>ethereum_provider_dist_index_es_Je(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ethereum_provider_dist_index_es_Le<=c&&c<t},is0:c=>c===ethereum_provider_dist_index_es_Le,isOdd:c=>(c&ethereum_provider_dist_index_es_Ie)===ethereum_provider_dist_index_es_Ie,neg:c=>ethereum_provider_dist_index_es_Je(-c,t),eql:(c,l)=>c===l,sqr:c=>ethereum_provider_dist_index_es_Je(c*c,t),add:(c,l)=>ethereum_provider_dist_index_es_Je(c+l,t),sub:(c,l)=>ethereum_provider_dist_index_es_Je(c-l,t),mul:(c,l)=>ethereum_provider_dist_index_es_Je(c*l,t),pow:(c,l)=>uf(a,c,l),div:(c,l)=>ethereum_provider_dist_index_es_Je(c*Fa(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Fa(c,t),sqrt:n.sqrt||(c=>(s||(s=cf(t)),s(a,c))),invertBatch:c=>hf(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>r?$a(c,o):dist_index_es_wn(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?index_es_Oa(c):ethereum_provider_dist_index_es_$r(c)}});return Object.freeze(a)}function Ad(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Sd(t){const e=Ad(t);return e+Math.ceil(e/2)}function pf(t,e,r=!1){const n=t.length,i=Ad(e),o=Sd(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=r?index_es_Oa(t):ethereum_provider_dist_index_es_$r(t),a=ethereum_provider_dist_index_es_Je(s,e-ethereum_provider_dist_index_es_Ie)+ethereum_provider_dist_index_es_Ie;return r?$a(a,i):dist_index_es_wn(a,i)}const _d=BigInt(0),ethereum_provider_dist_index_es_Wo=BigInt(1);function Ha(t,e){const r=e.negate();return t?r:e}function Id(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Va(t,e){Id(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function ff(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function gf(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Za=new WeakMap,Nd=new WeakMap;function Ga(t){return Nd.get(t)||1}function wf(t,e){return{constTimeNegate:Ha,hasPrecomputes(r){return Ga(r)!==1},unsafeLadder(r,n,i=t.ZERO){let o=r;for(;n>_d;)n&ethereum_provider_dist_index_es_Wo&&(i=i.add(o)),o=o.double(),n>>=ethereum_provider_dist_index_es_Wo;return i},precomputeWindow(r,n){const{windows:i,windowSize:o}=Va(n,e),s=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,s.push(c);for(let d=1;d<o;d++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(r,n,i){const{windows:o,windowSize:s}=Va(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),d=2**r,u=BigInt(r);for(let h=0;h<o;h++){const p=h*s;let v=Number(i&l);i>>=u,v>s&&(v-=d,i+=ethereum_provider_dist_index_es_Wo);const m=p,g=p+Math.abs(v)-1,b=h%2!==0,y=v<0;v===0?c=c.add(Ha(b,n[m])):a=a.add(Ha(y,n[g]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,o=t.ZERO){const{windows:s,windowSize:a}=Va(r,e),c=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let u=0;u<s;u++){const h=u*a;if(i===_d)break;let p=Number(i&c);if(i>>=d,p>a&&(p-=l,i+=ethereum_provider_dist_index_es_Wo),p===0)continue;let v=n[h+Math.abs(p)-1];p<0&&(v=v.negate()),o=o.add(v)}return o},getPrecomputes(r,n,i){let o=Za.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&Za.set(n,i(o))),o},wNAFCached(r,n,i){const o=Ga(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){const s=Ga(r);return s===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,o)},setWindowSize(r,n){Id(n,e),Nd.set(r,n),Za.delete(r)}}}function mf(t,e,r,n){if(ff(r,t),gf(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=ad(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/s)*s;let d=i;for(let u=l;u>=0;u-=s){c.fill(i);for(let p=0;p<n.length;p++){const v=n[p],m=Number(v>>BigInt(u)&BigInt(a));c[m]=c[m].add(r[p])}let h=i;for(let p=c.length-1,v=i;p>0;p--)v=v.add(c[p]),h=h.add(v);if(d=d.add(h),u!==0)for(let p=0;p<s;p++)d=d.double()}return d}function kd(t){return df(t.Fp),dist_index_es_ti(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xd(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Td(t){t.lowS!==void 0&&dist_index_es_hn("lowS",t.lowS),t.prehash!==void 0&&dist_index_es_hn("prehash",t.prehash)}function bf(t){const e=kd(t);dist_index_es_ti(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:vf,hexToBytes:Cf}=Ap;class yf extends Error{constructor(e=""){super(e)}}const ethereum_provider_dist_index_es_Gt={Err:yf,_tlv:{encode:(t,e)=>{const{Err:r}=ethereum_provider_dist_index_es_Gt;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=dist_index_es_fn(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const o=n>127?dist_index_es_fn(i.length/2|128):"";return dist_index_es_fn(t)+o+i+e},decode(t,e){const{Err:r}=ethereum_provider_dist_index_es_Gt;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],o=!!(i&128);let s=0;if(!o)s=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of l)s=s<<8|d;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=ethereum_provider_dist_index_es_Gt;if(t<ethereum_provider_dist_index_es_qt)throw new e("integer: negative integers are not allowed");let r=dist_index_es_fn(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ethereum_provider_dist_index_es_Gt;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return vf(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ethereum_provider_dist_index_es_Gt,i=typeof t=="string"?Cf(t):t;ethereum_provider_dist_index_es_Qn(i);const{v:o,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,o),{v:l,l:d}=n.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=ethereum_provider_dist_index_es_Gt,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},ethereum_provider_dist_index_es_qt=BigInt(0),ethereum_provider_dist_index_es_Ue=BigInt(1);BigInt(2);const Od=BigInt(3);BigInt(4);function xf(t){const e=bf(t),{Fp:r}=e,n=Ed(e.n,e.nBitLength),i=e.toBytes||((m,g,b)=>{const y=g.toAffine();return dist_index_es_ei(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),o=e.fromBytes||(m=>{const g=m.subarray(1),b=r.fromBytes(g.subarray(0,r.BYTES)),y=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:b,y}});function s(m){const{a:g,b}=e,y=r.sqr(m),x=r.mul(y,m);return r.add(r.add(x,r.mul(m,g)),b)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return dist_index_es_Do(m,ethereum_provider_dist_index_es_Ue,e.n)}function c(m){const{allowedPrivateKeyLengths:g,nByteLength:b,wrapPrivateKey:y,n:x}=e;if(g&&typeof m!="bigint"){if(ethereum_provider_dist_index_es_Or(m)&&(m=dist_index_es_pn(m)),typeof m!="string"||!g.includes(m.length))throw new Error("invalid private key");m=m.padStart(b*2,"0")}let E;try{E=typeof m=="bigint"?m:ethereum_provider_dist_index_es_$r(ethereum_provider_dist_index_es_xt("private key",m,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof m)}return y&&(E=ethereum_provider_dist_index_es_Je(E,x)),ethereum_provider_dist_index_es_Pr("private key",E,ethereum_provider_dist_index_es_Ue,x),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const d=La((m,g)=>{const{px:b,py:y,pz:x}=m;if(r.eql(x,r.ONE))return{x:b,y};const E=m.is0();g==null&&(g=E?r.ONE:r.inv(x));const I=r.mul(b,g),$=r.mul(y,g),L=r.mul(x,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:I,y:$}}),u=La(m=>{if(m.is0()){if(e.allowInfinityPoint&&!r.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:g,y:b}=m.toAffine();if(!r.isValid(g)||!r.isValid(b))throw new Error("bad point: x or y not FE");const y=r.sqr(b),x=s(g);if(!r.eql(y,x))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(g,b,y){if(this.px=g,this.py=b,this.pz=y,g==null||!r.isValid(g))throw new Error("x required");if(b==null||!r.isValid(b))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(g){const{x:b,y}=g||{};if(!g||!r.isValid(b)||!r.isValid(y))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const x=E=>r.eql(E,r.ZERO);return x(b)&&x(y)?h.ZERO:new h(b,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const b=r.invertBatch(g.map(y=>y.pz));return g.map((y,x)=>y.toAffine(b[x])).map(h.fromAffine)}static fromHex(g){const b=h.fromAffine(o(ethereum_provider_dist_index_es_xt("pointHex",g)));return b.assertValidity(),b}static fromPrivateKey(g){return h.BASE.multiply(c(g))}static msm(g,b){return mf(h,n,g,b)}_setWindowSize(g){v.setWindowSize(this,g)}assertValidity(){u(this)}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:b,py:y,pz:x}=this,{px:E,py:I,pz:$}=g,L=r.eql(r.mul(b,$),r.mul(E,x)),Z=r.eql(r.mul(y,$),r.mul(I,x));return L&&Z}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b}=e,y=r.mul(b,Od),{px:x,py:E,pz:I}=this;let $=r.ZERO,L=r.ZERO,Z=r.ZERO,B=r.mul(x,x),R=r.mul(E,E),N=r.mul(I,I),ee=r.mul(x,E);return ee=r.add(ee,ee),Z=r.mul(x,I),Z=r.add(Z,Z),$=r.mul(g,Z),L=r.mul(y,N),L=r.add($,L),$=r.sub(R,L),L=r.add(R,L),L=r.mul($,L),$=r.mul(ee,$),Z=r.mul(y,Z),N=r.mul(g,N),ee=r.sub(B,N),ee=r.mul(g,ee),ee=r.add(ee,Z),Z=r.add(B,B),B=r.add(Z,B),B=r.add(B,N),B=r.mul(B,ee),L=r.add(L,B),N=r.mul(E,I),N=r.add(N,N),B=r.mul(N,ee),$=r.sub($,B),Z=r.mul(N,R),Z=r.add(Z,Z),Z=r.add(Z,Z),new h($,L,Z)}add(g){l(g);const{px:b,py:y,pz:x}=this,{px:E,py:I,pz:$}=g;let L=r.ZERO,Z=r.ZERO,B=r.ZERO;const R=e.a,N=r.mul(e.b,Od);let ee=r.mul(b,E),pe=r.mul(y,I),_=r.mul(x,$),S=r.add(b,y),A=r.add(E,I);S=r.mul(S,A),A=r.add(ee,pe),S=r.sub(S,A),A=r.add(b,x);let P=r.add(E,$);return A=r.mul(A,P),P=r.add(ee,_),A=r.sub(A,P),P=r.add(y,x),L=r.add(I,$),P=r.mul(P,L),L=r.add(pe,_),P=r.sub(P,L),B=r.mul(R,A),L=r.mul(N,_),B=r.add(L,B),L=r.sub(pe,B),B=r.add(pe,B),Z=r.mul(L,B),pe=r.add(ee,ee),pe=r.add(pe,ee),_=r.mul(R,_),A=r.mul(N,A),pe=r.add(pe,_),_=r.sub(ee,_),_=r.mul(R,_),A=r.add(A,_),ee=r.mul(pe,A),Z=r.add(Z,ee),ee=r.mul(P,A),L=r.mul(S,L),L=r.sub(L,ee),ee=r.mul(S,pe),B=r.mul(P,B),B=r.add(B,ee),new h(L,Z,B)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return v.wNAFCached(this,g,h.normalizeZ)}multiplyUnsafe(g){const{endo:b,n:y}=e;ethereum_provider_dist_index_es_Pr("scalar",g,ethereum_provider_dist_index_es_qt,y);const x=h.ZERO;if(g===ethereum_provider_dist_index_es_qt)return x;if(this.is0()||g===ethereum_provider_dist_index_es_Ue)return this;if(!b||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,g,h.normalizeZ);let{k1neg:E,k1:I,k2neg:$,k2:L}=b.splitScalar(g),Z=x,B=x,R=this;for(;I>ethereum_provider_dist_index_es_qt||L>ethereum_provider_dist_index_es_qt;)I&ethereum_provider_dist_index_es_Ue&&(Z=Z.add(R)),L&ethereum_provider_dist_index_es_Ue&&(B=B.add(R)),R=R.double(),I>>=ethereum_provider_dist_index_es_Ue,L>>=ethereum_provider_dist_index_es_Ue;return E&&(Z=Z.negate()),$&&(B=B.negate()),B=new h(r.mul(B.px,b.beta),B.py,B.pz),Z.add(B)}multiply(g){const{endo:b,n:y}=e;ethereum_provider_dist_index_es_Pr("scalar",g,ethereum_provider_dist_index_es_Ue,y);let x,E;if(b){const{k1neg:I,k1:$,k2neg:L,k2:Z}=b.splitScalar(g);let{p:B,f:R}=this.wNAF($),{p:N,f:ee}=this.wNAF(Z);B=v.constTimeNegate(I,B),N=v.constTimeNegate(L,N),N=new h(r.mul(N.px,b.beta),N.py,N.pz),x=B.add(N),E=R.add(ee)}else{const{p:I,f:$}=this.wNAF(g);x=I,E=$}return h.normalizeZ([x,E])[0]}multiplyAndAddUnsafe(g,b,y){const x=h.BASE,E=($,L)=>L===ethereum_provider_dist_index_es_qt||L===ethereum_provider_dist_index_es_Ue||!$.equals(x)?$.multiplyUnsafe(L):$.multiply(L),I=E(this,b).add(E(g,y));return I.is0()?void 0:I}toAffine(g){return d(this,g)}isTorsionFree(){const{h:g,isTorsionFree:b}=e;if(g===ethereum_provider_dist_index_es_Ue)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:b}=e;return g===ethereum_provider_dist_index_es_Ue?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return dist_index_es_hn("isCompressed",g),this.assertValidity(),i(h,this,g)}toHex(g=!0){return dist_index_es_hn("isCompressed",g),dist_index_es_pn(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,v=wf(h,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function Ef(t){const e=kd(t);return dist_index_es_ti(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Af(t){const e=Ef(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(_){return ethereum_provider_dist_index_es_Je(_,n)}function a(_){return Fa(_,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:u}=xf({...e,toBytes(_,S,A){const P=S.toAffine(),k=r.toBytes(P.x),K=dist_index_es_ei;return dist_index_es_hn("isCompressed",A),A?K(Uint8Array.from([S.hasEvenY()?2:3]),k):K(Uint8Array.from([4]),k,r.toBytes(P.y))},fromBytes(_){const S=_.length,A=_[0],P=_.subarray(1);if(S===i&&(A===2||A===3)){const k=ethereum_provider_dist_index_es_$r(P);if(!dist_index_es_Do(k,ethereum_provider_dist_index_es_Ue,r.ORDER))throw new Error("Point is not on curve");const K=d(k);let X;try{X=r.sqrt(K)}catch(me){const ge=me instanceof Error?": "+me.message:"";throw new Error("Point is not on curve"+ge)}const ae=(X&ethereum_provider_dist_index_es_Ue)===ethereum_provider_dist_index_es_Ue;return(A&1)===1!==ae&&(X=r.neg(X)),{x:k,y:X}}else if(S===o&&A===4){const k=r.fromBytes(P.subarray(0,r.BYTES)),K=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:k,y:K}}else{const k=i,K=o;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+K+", got "+S)}}}),h=_=>dist_index_es_pn(dist_index_es_wn(_,e.nByteLength));function p(_){const S=n>>ethereum_provider_dist_index_es_Ue;return _>S}function v(_){return p(_)?s(-_):_}const m=(_,S,A)=>ethereum_provider_dist_index_es_$r(_.slice(S,A));class g{constructor(S,A,P){this.r=S,this.s=A,this.recovery=P,this.assertValidity()}static fromCompact(S){const A=e.nByteLength;return S=ethereum_provider_dist_index_es_xt("compactSignature",S,A*2),new g(m(S,0,A),m(S,A,2*A))}static fromDER(S){const{r:A,s:P}=ethereum_provider_dist_index_es_Gt.toSig(ethereum_provider_dist_index_es_xt("DER",S));return new g(A,P)}assertValidity(){ethereum_provider_dist_index_es_Pr("r",this.r,ethereum_provider_dist_index_es_Ue,n),ethereum_provider_dist_index_es_Pr("s",this.s,ethereum_provider_dist_index_es_Ue,n)}addRecoveryBit(S){return new g(this.r,this.s,S)}recoverPublicKey(S){const{r:A,s:P,recovery:k}=this,K=$(ethereum_provider_dist_index_es_xt("msgHash",S));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const X=k===2||k===3?A+e.n:A;if(X>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ae=(k&1)===0?"02":"03",fe=c.fromHex(ae+h(X)),me=a(X),ge=s(-K*me),ke=s(P*me),Fe=c.BASE.multiplyAndAddUnsafe(fe,ge,ke);if(!Fe)throw new Error("point at infinify");return Fe.assertValidity(),Fe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ethereum_provider_dist_index_es_gn(this.toDERHex())}toDERHex(){return ethereum_provider_dist_index_es_Gt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ethereum_provider_dist_index_es_gn(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(_){try{return l(_),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const _=Sd(e.n);return pf(e.randomBytes(_),e.n)},precompute(_=8,S=c.BASE){return S._setWindowSize(_),S.multiply(BigInt(3)),S}};function y(_,S=!0){return c.fromPrivateKey(_).toRawBytes(S)}function x(_){const S=ethereum_provider_dist_index_es_Or(_),A=typeof _=="string",P=(S||A)&&_.length;return S?P===i||P===o:A?P===2*i||P===2*o:_ instanceof c}function E(_,S,A=!0){if(x(_))throw new Error("first arg must be private key");if(!x(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(l(_)).toRawBytes(A)}const I=e.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const S=ethereum_provider_dist_index_es_$r(_),A=_.length*8-e.nBitLength;return A>0?S>>BigInt(A):S},$=e.bits2int_modN||function(_){return s(I(_))},L=index_es_Ba(e.nBitLength);function Z(_){return ethereum_provider_dist_index_es_Pr("num < 2^"+e.nBitLength,_,ethereum_provider_dist_index_es_qt,L),dist_index_es_wn(_,e.nByteLength)}function B(_,S,A=R){if(["recovered","canonical"].some(nt=>nt in A))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:k}=e;let{lowS:K,prehash:X,extraEntropy:ae}=A;K==null&&(K=!0),_=ethereum_provider_dist_index_es_xt("msgHash",_),Td(A),X&&(_=ethereum_provider_dist_index_es_xt("prehashed msgHash",P(_)));const fe=$(_),me=l(S),ge=[Z(me),Z(fe)];if(ae!=null&&ae!==!1){const nt=ae===!0?k(r.BYTES):ae;ge.push(ethereum_provider_dist_index_es_xt("extraEntropy",nt))}const ke=dist_index_es_ei(...ge),Fe=fe;function yt(nt){const qe=I(nt);if(!u(qe))return;const Re=a(qe),Ke=c.BASE.multiply(qe).toAffine(),it=s(Ke.x);if(it===ethereum_provider_dist_index_es_qt)return;const Nt=s(Re*s(Fe+it*me));if(Nt===ethereum_provider_dist_index_es_qt)return;let tn=(Ke.x===it?0:2)|Number(Ke.y&ethereum_provider_dist_index_es_Ue),Jc=Nt;return K&&p(Nt)&&(Jc=v(Nt),tn^=1),new g(it,Jc,tn)}return{seed:ke,k2sig:yt}}const R={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function ee(_,S,A=R){const{seed:P,k2sig:k}=B(_,S,A),K=e;return ld(K.hash.outputLen,K.nByteLength,K.hmac)(P,k)}c.BASE._setWindowSize(8);function pe(_,S,A,P=N){const k=_;S=ethereum_provider_dist_index_es_xt("msgHash",S),A=ethereum_provider_dist_index_es_xt("publicKey",A);const{lowS:K,prehash:X,format:ae}=P;if(Td(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(ae!==void 0&&ae!=="compact"&&ae!=="der")throw new Error("format must be compact or der");const fe=typeof k=="string"||ethereum_provider_dist_index_es_Or(k),me=!fe&&!ae&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!fe&&!me)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ge,ke;try{if(me&&(ge=new g(k.r,k.s)),fe){try{ae!=="compact"&&(ge=g.fromDER(k))}catch(tn){if(!(tn instanceof ethereum_provider_dist_index_es_Gt.Err))throw tn}!ge&&ae!=="der"&&(ge=g.fromCompact(k))}ke=c.fromHex(A)}catch{return!1}if(!ge||K&&ge.hasHighS())return!1;X&&(S=e.hash(S));const{r:Fe,s:yt}=ge,nt=$(S),qe=a(yt),Re=s(nt*qe),Ke=s(Fe*qe),it=c.BASE.multiplyAndAddUnsafe(ke,Re,Ke)?.toAffine();return it?s(it.x)===Fe:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:E,sign:ee,verify:pe,ProjectivePoint:c,Signature:g,utils:b}}function Sf(t){return{hash:t,hmac:(e,...r)=>vd(t,e,W1(...r)),randomBytes:j1}}function _f(t,e){const r=n=>Af({...t,...Sf(n)});return{...r(e),create:r}}const $d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),If=BigInt(1),qa=BigInt(2),Bd=(t,e)=>(t+e/qa)/e;function Nf(t){const e=$d,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,d=l*l*t%e,u=ethereum_provider_dist_index_es_pt(d,r,e)*d%e,h=ethereum_provider_dist_index_es_pt(u,r,e)*d%e,p=ethereum_provider_dist_index_es_pt(h,qa,e)*l%e,v=ethereum_provider_dist_index_es_pt(p,i,e)*p%e,m=ethereum_provider_dist_index_es_pt(v,o,e)*v%e,g=ethereum_provider_dist_index_es_pt(m,a,e)*m%e,b=ethereum_provider_dist_index_es_pt(g,c,e)*g%e,y=ethereum_provider_dist_index_es_pt(b,a,e)*m%e,x=ethereum_provider_dist_index_es_pt(y,r,e)*d%e,E=ethereum_provider_dist_index_es_pt(x,s,e)*v%e,I=ethereum_provider_dist_index_es_pt(E,n,e)*l%e,$=ethereum_provider_dist_index_es_pt(I,qa,e);if(!Ka.eql(Ka.sqr($),t))throw new Error("Cannot find square root");return $}const Ka=Ed($d,void 0,void 0,{sqrt:Nf});_f({a:BigInt(0),b:BigInt(7),Fp:Ka,n:Pd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Pd,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-If*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Bd(o*t,e),c=Bd(-n*t,e);let l=ethereum_provider_dist_index_es_Je(t-a*r-c*i,e),d=ethereum_provider_dist_index_es_Je(-a*n-c*o,e);const u=l>s,h=d>s;if(u&&(l=e-l),h&&(d=e-d),l>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:l,k2neg:h,k2:d}}}},ql),BigInt(0);const Ya={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Ml(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},Rd={async getMyTokensWithBalance(t){const e=dist_index_es_Q.state.address,r=ethereum_provider_dist_index_es_f.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,r);if(i)return this.filterLowQualityTokens(i)}const n=await dist_index_es_oe.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){try{const r=Ya.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await dist_index_es_Y.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await dist_index_es_Y.walletGetAssets({account:t,chainFilter:[r]});return Ya.isWalletGetAssetsResponse(i)?(i[r]||[]).map(s=>Ya.createBalance(s,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:ethereum_provider_dist_index_es_f.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},ethereum_provider_dist_index_es_ue=ethereum_provider_dist_index_es_xe({tokenBalances:[],loading:!1}),Ld={state:ethereum_provider_dist_index_es_ue,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_ue,()=>t(ethereum_provider_dist_index_es_ue))},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_ue,t,e)},setToken(t){t&&(ethereum_provider_dist_index_es_ue.token=ethereum_provider_dist_index_es_Ir(t))},setTokenAmount(t){ethereum_provider_dist_index_es_ue.sendTokenAmount=t},setReceiverAddress(t){ethereum_provider_dist_index_es_ue.receiverAddress=t},setReceiverProfileImageUrl(t){ethereum_provider_dist_index_es_ue.receiverProfileImageUrl=t},setReceiverProfileName(t){ethereum_provider_dist_index_es_ue.receiverProfileName=t},setGasPrice(t){ethereum_provider_dist_index_es_ue.gasPrice=t},setGasPriceInUsd(t){ethereum_provider_dist_index_es_ue.gasPriceInUSD=t},setNetworkBalanceInUsd(t){ethereum_provider_dist_index_es_ue.networkBalanceInUSD=t},setLoading(t){ethereum_provider_dist_index_es_ue.loading=t},sendToken(){switch(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){const t=ethereum_provider_dist_index_es_f.state.activeChain,e=dist_index_es_Q.state.preferredAccountTypes?.[t];this.state.token?.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&this.state.token?.quantity.decimals&&(ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol,amount:this.state.sendTokenAmount,network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){ethereum_provider_dist_index_es_ue.loading=!0;const e=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId,r=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.chainNamespace,n=ethereum_provider_dist_index_es_f.state.activeCaipAddress,i=n?index_es_U.getPlainAddress(n):void 0;if(ethereum_provider_dist_index_es_ue.lastRetry&&!index_es_U.isAllowedRetry(ethereum_provider_dist_index_es_ue.lastRetry,30*ethereum_provider_dist_index_es_Te.ONE_SEC_MS))return ethereum_provider_dist_index_es_ue.loading=!1,[];try{if(i&&e&&r){const o=await Rd.getMyTokensWithBalance();return ethereum_provider_dist_index_es_ue.tokenBalances=o,ethereum_provider_dist_index_es_ue.lastRetry=void 0,o}}catch(o){ethereum_provider_dist_index_es_ue.lastRetry=Date.now(),t?.(o),ethereum_provider_dist_index_es_Ee.showError("Token Balance Unavailable")}finally{ethereum_provider_dist_index_es_ue.loading=!1}return[]},fetchNetworkBalance(){if(ethereum_provider_dist_index_es_ue.tokenBalances.length===0)return;const t=Rd.mapBalancesToSwapTokens(ethereum_provider_dist_index_es_ue.tokenBalances);if(!t)return;const e=t.find(r=>r.address===ethereum_provider_dist_index_es_f.getActiveNetworkTokenAddress());e&&(ethereum_provider_dist_index_es_ue.networkBalanceInUSD=e?ethereum_provider_dist_index_es_xo.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return ethereum_provider_dist_index_es_xo.bigNumber(t).eq(0)?!0:ethereum_provider_dist_index_es_xo.bigNumber(ethereum_provider_dist_index_es_xo.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){const t=ethereum_provider_dist_index_es_f.state.activeChain;let e=!0;return dist_index_es_Q.state.preferredAccountTypes?.[t]===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:ethereum_provider_dist_index_es_ue.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(ethereum_provider_dist_index_es_ue.networkBalanceInUSD,ethereum_provider_dist_index_es_ue.gasPriceInUSD)),e},async sendNativeToken(t){const e=ethereum_provider_dist_index_es_f.state.activeChain;dist_index_es_D.pushTransactionStack({view:"Account",goBack:!1});const r=t.receiverAddress,n=dist_index_es_Q.state.address,i=dist_index_es_Y.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),o="0x";try{await dist_index_es_Y.sendTransaction({chainNamespace:"eip155",to:r,address:n,data:o,value:i??BigInt(0),gasPrice:t.gasPrice}),ethereum_provider_dist_index_es_Ee.showSuccess("Transaction started"),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:dist_index_es_Q.state.preferredAccountTypes?.[e]===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:t.sendTokenAmount,network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||""}}),this.resetSend()}catch(s){console.error("SendController:sendERC20Token - failed to send native token",s);const a=s instanceof Error?s.message:"Unknown error";ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:a,isSmartAccount:dist_index_es_Q.state.preferredAccountTypes?.[e]===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:t.sendTokenAmount,network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||""}}),ethereum_provider_dist_index_es_Ee.showError("Something went wrong")}},async sendERC20Token(t){dist_index_es_D.pushTransactionStack({view:"Account",goBack:!1});const e=dist_index_es_Y.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(dist_index_es_Q.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=index_es_U.getPlainAddress(t.tokenAddress);await dist_index_es_Y.writeContract({fromAddress:dist_index_es_Q.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Q0.getERC20Abi(r),chainNamespace:"eip155"}),ethereum_provider_dist_index_es_Ee.showSuccess("Transaction started"),this.resetSend()}}catch(r){console.error("SendController:sendERC20Token - failed to send erc20 token",r);const n=r instanceof Error?r.message:"Unknown error";ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:n,isSmartAccount:dist_index_es_Q.state.preferredAccountTypes?.eip155===ethereum_provider_dist_index_es_cr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:t.sendTokenAmount,network:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId||""}}),ethereum_provider_dist_index_es_Ee.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){ethereum_provider_dist_index_es_Ee.showError("Please enter a valid amount and receiver address");return}dist_index_es_D.pushTransactionStack({view:"Account",goBack:!1}),dist_index_es_Y.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),dist_index_es_Q.fetchTokenBalance()}).catch(t=>{ethereum_provider_dist_index_es_Ee.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){ethereum_provider_dist_index_es_ue.token=void 0,ethereum_provider_dist_index_es_ue.sendTokenAmount=void 0,ethereum_provider_dist_index_es_ue.receiverAddress=void 0,ethereum_provider_dist_index_es_ue.receiverProfileImageUrl=void 0,ethereum_provider_dist_index_es_ue.receiverProfileName=void 0,ethereum_provider_dist_index_es_ue.loading=!1,ethereum_provider_dist_index_es_ue.tokenBalances=[]}},Xa={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},dist_index_es_jo={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ethereum_provider_dist_index_es_z=ethereum_provider_dist_index_es_xe({chains:o1(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),ethereum_provider_dist_index_es_f={state:ethereum_provider_dist_index_es_z,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_z,()=>{t(ethereum_provider_dist_index_es_z)})},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_z,t,e)},subscribeChainProp(t,e,r){let n;return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_z.chains,()=>{const i=r||ethereum_provider_dist_index_es_z.activeChain;if(i){const o=ethereum_provider_dist_index_es_z.chains.get(i)?.[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:i}=dist_index_es_q.getActiveNetworkProps(),o=e?.find(l=>l.id.toString()===n?.toString()),a=t.find(l=>l?.namespace===i)||t?.[0],c=new Set([...e?.map(l=>l.chainNamespace)??[]]);(t?.length===0||!a)&&(ethereum_provider_dist_index_es_z.noAdapters=!0),ethereum_provider_dist_index_es_z.noAdapters||(ethereum_provider_dist_index_es_z.activeChain=a?.namespace,ethereum_provider_dist_index_es_z.activeCaipNetwork=o,this.setChainNetworkData(a?.namespace,{caipNetwork:o}),ethereum_provider_dist_index_es_z.activeChain&&ethereum_provider_dist_index_es_zt.set({activeChain:a?.namespace})),c.forEach(l=>{const d=e?.filter(u=>u.chainNamespace===l);ethereum_provider_dist_index_es_f.state.chains.set(l,{namespace:l,networkState:ethereum_provider_dist_index_es_xe({...dist_index_es_jo,caipNetwork:d?.[0]}),accountState:ethereum_provider_dist_index_es_xe(Xa),caipNetworks:d??[],...r}),this.setRequestedCaipNetworks(d??[],l)})},removeAdapter(t){if(ethereum_provider_dist_index_es_z.activeChain===t){const e=Array.from(ethereum_provider_dist_index_es_z.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&this.setActiveCaipNetwork(r)}}ethereum_provider_dist_index_es_z.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){ethereum_provider_dist_index_es_z.chains.set(t.namespace,{namespace:t.namespace,networkState:{...dist_index_es_jo,caipNetwork:n[0]},accountState:Xa,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=ethereum_provider_dist_index_es_z.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),ethereum_provider_dist_index_es_z.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace)}},removeNetwork(t,e){const r=ethereum_provider_dist_index_es_z.chains.get(t);if(r){const n=ethereum_provider_dist_index_es_z.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(o=>o.id!==e)||[]];n&&r?.caipNetworks?.[0]&&this.setActiveCaipNetwork(r.caipNetworks[0]),ethereum_provider_dist_index_es_z.chains.set(t,{...r,caipNetworks:i}),this.setRequestedCaipNetworks(i||[],t)}},setAdapterNetworkState(t,e){const r=ethereum_provider_dist_index_es_z.chains.get(t);r&&(r.networkState={...r.networkState||dist_index_es_jo,...e},ethereum_provider_dist_index_es_z.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=ethereum_provider_dist_index_es_z.chains.get(t);if(n){const i={...n.accountState||Xa,...e};ethereum_provider_dist_index_es_z.chains.set(t,{...n,accountState:i}),(ethereum_provider_dist_index_es_z.chains.size===1||ethereum_provider_dist_index_es_z.activeChain===t)&&(e.caipAddress&&(ethereum_provider_dist_index_es_z.activeCaipAddress=e.caipAddress),dist_index_es_Q.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=ethereum_provider_dist_index_es_z.chains.get(t);if(r){const n={...r.networkState||dist_index_es_jo,...e};ethereum_provider_dist_index_es_z.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&ethereum_provider_dist_index_es_j.removeConnectorId(r)},setActiveNamespace(t){ethereum_provider_dist_index_es_z.activeChain=t;const e=t?ethereum_provider_dist_index_es_z.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(ethereum_provider_dist_index_es_z.activeCaipAddress=e?.accountState?.caipAddress,ethereum_provider_dist_index_es_z.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),dist_index_es_q.setActiveCaipNetworkId(r?.caipNetworkId),ethereum_provider_dist_index_es_zt.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;ethereum_provider_dist_index_es_z.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=ethereum_provider_dist_index_es_z.chains.get(t.chainNamespace);ethereum_provider_dist_index_es_z.activeChain=t.chainNamespace,ethereum_provider_dist_index_es_z.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?ethereum_provider_dist_index_es_z.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:ethereum_provider_dist_index_es_z.activeCaipAddress=void 0,this.setAccountProp("caipAddress",ethereum_provider_dist_index_es_z.activeCaipAddress,t.chainNamespace),e&&dist_index_es_Q.replaceState(e.accountState),Ld.resetSend(),ethereum_provider_dist_index_es_zt.set({activeChain:ethereum_provider_dist_index_es_z.activeChain,selectedNetworkId:ethereum_provider_dist_index_es_z.activeCaipNetwork?.caipNetworkId}),dist_index_es_q.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&ethereum_provider_dist_index_es_T.state.enableNetworkSwitch&&!ethereum_provider_dist_index_es_T.state.allowUnsupportedChain&&!dist_index_es_Y.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=ethereum_provider_dist_index_es_z.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==ethereum_provider_dist_index_es_f.state.activeChain,r=ethereum_provider_dist_index_es_f.getNetworkData(t)?.caipNetwork,n=ethereum_provider_dist_index_es_f.getCaipNetworkByNamespace(t,r?.id);e&&n&&await ethereum_provider_dist_index_es_f.switchActiveNetwork(n)},async switchActiveNetwork(t){!ethereum_provider_dist_index_es_f.state.chains.get(ethereum_provider_dist_index_es_f.state.activeChain)?.caipNetworks?.some(i=>i.id===ethereum_provider_dist_index_es_z.activeCaipNetwork?.id)&&dist_index_es_D.goBack();const n=this.getNetworkControllerClient(t.chainNamespace);n&&(await n.switchCaipNetwork(t),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||ethereum_provider_dist_index_es_z.activeChain,r=ethereum_provider_dist_index_es_z.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||ethereum_provider_dist_index_es_z.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=ethereum_provider_dist_index_es_z.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){let r=ethereum_provider_dist_index_es_z.activeChain;if(e&&(r=e),!r)return;const n=ethereum_provider_dist_index_es_z.chains.get(r)?.accountState;if(n)return n[t]},getNetworkProp(t,e){const r=ethereum_provider_dist_index_es_z.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=ethereum_provider_dist_index_es_z.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return index_es_U.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return ethereum_provider_dist_index_es_z.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return ethereum_provider_dist_index_es_z.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return ethereum_provider_dist_index_es_z.activeCaipNetwork},getActiveCaipAddress(){return ethereum_provider_dist_index_es_z.activeCaipAddress},getApprovedCaipNetworkIds(t){return ethereum_provider_dist_index_es_z.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await this.getNetworkControllerClient()?.getApprovedCaipNetworksData();this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||ethereum_provider_dist_index_es_z.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.id===r?.id):!0},checkIfSupportedChainId(t){return ethereum_provider_dist_index_es_z.activeChain?this.getRequestedCaipNetworks(ethereum_provider_dist_index_es_z.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=al.caipNetworkIdToNumber(ethereum_provider_dist_index_es_z.activeCaipNetwork?.caipNetworkId),e=ethereum_provider_dist_index_es_z.activeChain;return!e||!t?!1:!!this.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},getActiveNetworkTokenAddress(){const t=ethereum_provider_dist_index_es_z.activeCaipNetwork?.chainNamespace||"eip155",e=ethereum_provider_dist_index_es_z.activeCaipNetwork?.id||1,r=ethereum_provider_dist_index_es_Te.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){ethereum_provider_dist_index_es_he.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ethereum_provider_dist_index_es_z.activeCaipNetwork;return!!(t?.chainNamespace&&ethereum_provider_dist_index_es_Te.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");ethereum_provider_dist_index_es_z.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ethereum_provider_dist_index_es_j.removeConnectorId(e)},async disconnect(t){const e=m1(t);try{Ld.resetSend();const r=await Promise.allSettled(e.map(async([i,o])=>{try{const{caipAddress:s}=this.getAccountData(i)||{};s&&o.connectionControllerClient?.disconnect&&await o.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(s){throw new Error(`Failed to disconnect chain ${i}: ${s.message}`)}}));dist_index_es_Y.resetWcConnection();const n=r.filter(i=>i.status==="rejected");if(n.length>0)throw new Error(n.map(i=>i.reason.message).join(", "));dist_index_es_q.deleteConnectedSocialProvider(),t?ethereum_provider_dist_index_es_j.removeConnectorId(t):ethereum_provider_dist_index_es_j.resetConnectorIds(),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){ethereum_provider_dist_index_es_z.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(ethereum_provider_dist_index_es_z.chains.forEach(r=>{ethereum_provider_dist_index_es_G.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?ethereum_provider_dist_index_es_z.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){return t?ethereum_provider_dist_index_es_f.state.chains.get(t)?.accountState:dist_index_es_Q.state},getNetworkData(t){const e=t||ethereum_provider_dist_index_es_z.activeChain;if(e)return ethereum_provider_dist_index_es_f.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=ethereum_provider_dist_index_es_f.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=ethereum_provider_dist_index_es_j.state.filterByNamespace;return(t?[ethereum_provider_dist_index_es_z.chains.get(t)]:Array.from(ethereum_provider_dist_index_es_z.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?ethereum_provider_dist_index_es_f.getRequestedCaipNetworks(t):ethereum_provider_dist_index_es_f.getAllRequestedCaipNetworks()}},kf={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Ud=index_es_U.getBlockchainApiUrl(),ethereum_provider_dist_index_es_ct=ethereum_provider_dist_index_es_xe({clientId:null,api:new ethereum_provider_dist_index_es_Eo({baseUrl:Ud,clientId:null}),supportedChains:{http:[],ws:[]}}),dist_index_es_oe={state:ethereum_provider_dist_index_es_ct,async get(t){const{st:e,sv:r}=dist_index_es_oe.getSdkProperties(),n=ethereum_provider_dist_index_es_T.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return ethereum_provider_dist_index_es_ct.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ethereum_provider_dist_index_es_T.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ethereum_provider_dist_index_es_ct.supportedChains.http.length||await dist_index_es_oe.getSupportedNetworks()}catch{return!1}return ethereum_provider_dist_index_es_ct.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await dist_index_es_oe.get({path:"v1/supported-chains"});return ethereum_provider_dist_index_es_ct.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await dist_index_es_oe.isNetworkSupported(e))return{avatar:"",name:""};const n=dist_index_es_q.getIdentityFromCacheForAddress(t);if(n)return n;const i=await dist_index_es_oe.get({path:`/v1/identity/${t}`,params:{sender:ethereum_provider_dist_index_es_f.state.activeCaipAddress?index_es_U.getPlainAddress(ethereum_provider_dist_index_es_f.state.activeCaipAddress):void 0}});return dist_index_es_q.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:i,chainId:o}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:o},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?ethereum_provider_dist_index_es_ct.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ethereum_provider_dist_index_es_T.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=dist_index_es_oe.getSdkProperties();if(!await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return dist_index_es_oe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ethereum_provider_dist_index_es_ct.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:ethereum_provider_dist_index_es_Te.CONVERT_SLIPPAGE_TOLERANCE},projectId:ethereum_provider_dist_index_es_T.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=dist_index_es_oe.getSdkProperties();if(!await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return dist_index_es_oe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=dist_index_es_oe.getSdkProperties();if(!await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId))return ethereum_provider_dist_index_es_Ee.showError("Token Balance Unavailable"),{balances:[]};const s=`${e}:${t}`,a=dist_index_es_q.getBalanceCacheForCaipAddress(s);if(a)return a;const c=await dist_index_es_oe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return dist_index_es_q.updateBalanceCache({caipAddress:s,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:`/v1/profile/reverse/${t}`,params:{sender:dist_index_es_Q.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?ethereum_provider_dist_index_es_ct.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?(await ethereum_provider_dist_index_es_ct.api.post({path:"/v1/generators/onrampurl",params:{projectId:ethereum_provider_dist_index_es_T.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await dist_index_es_oe.get({path:"/v1/onramp/options"})}catch{return kf}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?await ethereum_provider_dist_index_es_ct.api.post({path:"/v1/onramp/quote",params:{projectId:ethereum_provider_dist_index_es_T.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?dist_index_es_oe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await dist_index_es_oe.isNetworkSupported(ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)?ethereum_provider_dist_index_es_ct.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ethereum_provider_dist_index_es_T.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){ethereum_provider_dist_index_es_ct.clientId=t,ethereum_provider_dist_index_es_ct.api=new ethereum_provider_dist_index_es_Eo({baseUrl:Ud,clientId:t})}},ethereum_provider_dist_index_es_ft=ethereum_provider_dist_index_es_xe({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),dist_index_es_Q={state:ethereum_provider_dist_index_es_ft,replaceState(t){t&&Object.assign(ethereum_provider_dist_index_es_ft,ethereum_provider_dist_index_es_Ir(t))},subscribe(t){return ethereum_provider_dist_index_es_f.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return ethereum_provider_dist_index_es_f.subscribeChainProp("accountState",i=>{if(i){const o=i[t];n!==o&&(n=o,e(o))}},r)},setStatus(t,e){ethereum_provider_dist_index_es_f.setAccountProp("status",t,e)},getCaipAddress(t){return ethereum_provider_dist_index_es_f.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?index_es_U.getPlainAddress(t):void 0;e===ethereum_provider_dist_index_es_f.state.activeChain&&(ethereum_provider_dist_index_es_f.state.activeCaipAddress=t),ethereum_provider_dist_index_es_f.setAccountProp("caipAddress",t,e),ethereum_provider_dist_index_es_f.setAccountProp("address",r,e)},setBalance(t,e,r){ethereum_provider_dist_index_es_f.setAccountProp("balance",t,r),ethereum_provider_dist_index_es_f.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){ethereum_provider_dist_index_es_f.setAccountProp("profileName",t,e)},setProfileImage(t,e){ethereum_provider_dist_index_es_f.setAccountProp("profileImage",t,e)},setUser(t,e){ethereum_provider_dist_index_es_f.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){ethereum_provider_dist_index_es_f.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){ethereum_provider_dist_index_es_f.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){ethereum_provider_dist_index_es_f.setAccountProp("currentTab",t,ethereum_provider_dist_index_es_f.state.activeChain)},setTokenBalance(t,e){t&&ethereum_provider_dist_index_es_f.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){ethereum_provider_dist_index_es_f.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){ethereum_provider_dist_index_es_f.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=ethereum_provider_dist_index_es_f.getAccountProp("addressLabels",r)||new Map;n.set(t,e),ethereum_provider_dist_index_es_f.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=ethereum_provider_dist_index_es_f.getAccountProp("addressLabels",e)||new Map;r.delete(t),ethereum_provider_dist_index_es_f.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){ethereum_provider_dist_index_es_f.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){ethereum_provider_dist_index_es_f.setAccountProp("preferredAccountTypes",{...ethereum_provider_dist_index_es_ft.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){ethereum_provider_dist_index_es_ft.preferredAccountTypes=t},setSocialProvider(t,e){t&&ethereum_provider_dist_index_es_f.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){ethereum_provider_dist_index_es_f.setAccountProp("socialWindow",t?ethereum_provider_dist_index_es_Ir(t):void 0,e)},setFarcasterUrl(t,e){ethereum_provider_dist_index_es_f.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){ethereum_provider_dist_index_es_ft.balanceLoading=!0;const e=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId,r=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.chainNamespace,n=ethereum_provider_dist_index_es_f.state.activeCaipAddress,i=n?index_es_U.getPlainAddress(n):void 0;if(ethereum_provider_dist_index_es_ft.lastRetry&&!index_es_U.isAllowedRetry(ethereum_provider_dist_index_es_ft.lastRetry,30*ethereum_provider_dist_index_es_Te.ONE_SEC_MS))return ethereum_provider_dist_index_es_ft.balanceLoading=!1,[];try{if(i&&e&&r){const s=(await dist_index_es_oe.getBalance(i,e)).balances.filter(a=>a.quantity.decimals!=="0");return this.setTokenBalance(s,r),ethereum_provider_dist_index_es_ft.lastRetry=void 0,ethereum_provider_dist_index_es_ft.balanceLoading=!1,s}}catch(o){ethereum_provider_dist_index_es_ft.lastRetry=Date.now(),t?.(o),ethereum_provider_dist_index_es_Ee.showError("Token Balance Unavailable")}finally{ethereum_provider_dist_index_es_ft.balanceLoading=!1}return[]},resetAccount(t){ethereum_provider_dist_index_es_f.resetAccount(t)}},ethereum_provider_dist_index_es_Qe=ethereum_provider_dist_index_es_xe({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ethereum_provider_dist_index_es_he={state:ethereum_provider_dist_index_es_Qe,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_Qe,()=>t(ethereum_provider_dist_index_es_Qe))},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_Qe,t,e)},async open(t){const e=dist_index_es_Q.state.status==="connected";dist_index_es_Y.state.wcBasic?ethereum_provider_dist_index_es_W.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ethereum_provider_dist_index_es_W.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t?.namespace?(await ethereum_provider_dist_index_es_f.switchActiveNamespace(t.namespace),ethereum_provider_dist_index_es_he.setLoading(!0,t.namespace)):ethereum_provider_dist_index_es_he.setLoading(!0),ethereum_provider_dist_index_es_j.setFilterByNamespace(t?.namespace);const r=ethereum_provider_dist_index_es_f.getAccountData(t?.namespace)?.caipAddress;ethereum_provider_dist_index_es_f.state.noAdapters&&!r?index_es_U.isMobile()?dist_index_es_D.reset("AllWallets"):dist_index_es_D.reset("ConnectingWalletConnectBasic"):t?.view?dist_index_es_D.reset(t.view,t.data):r?dist_index_es_D.reset("Account"):dist_index_es_D.reset("Connect"),ethereum_provider_dist_index_es_Qe.open=!0,ethereum_provider_dist_index_es_zt.set({open:!0}),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=ethereum_provider_dist_index_es_T.state.enableEmbedded,e=!!ethereum_provider_dist_index_es_f.state.activeCaipAddress;ethereum_provider_dist_index_es_Qe.open&&ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ethereum_provider_dist_index_es_Qe.open=!1,ethereum_provider_dist_index_es_he.clearLoading(),t?e?dist_index_es_D.replace("Account"):dist_index_es_D.push("Connect"):ethereum_provider_dist_index_es_zt.set({open:!1}),dist_index_es_Y.resetUri()},setLoading(t,e){e&&ethereum_provider_dist_index_es_Qe.loadingNamespaceMap.set(e,t),ethereum_provider_dist_index_es_Qe.loading=t,ethereum_provider_dist_index_es_zt.set({loading:t})},clearLoading(){ethereum_provider_dist_index_es_Qe.loadingNamespaceMap.clear(),ethereum_provider_dist_index_es_Qe.loading=!1},shake(){ethereum_provider_dist_index_es_Qe.shake||(ethereum_provider_dist_index_es_Qe.shake=!0,setTimeout(()=>{ethereum_provider_dist_index_es_Qe.shake=!1},500))}},Md={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Tf={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Of={providers:s1,selectedProvider:null,error:null,purchaseCurrency:Md,paymentCurrency:Tf,purchaseCurrencies:[Md],paymentCurrencies:[],quotesLoading:!1};ethereum_provider_dist_index_es_xe(Of);const $f={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:ethereum_provider_dist_index_es_Te.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0};ethereum_provider_dist_index_es_xe($f);const ethereum_provider_dist_index_es_Et=ethereum_provider_dist_index_es_xe({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),ethereum_provider_dist_index_es_mn={state:ethereum_provider_dist_index_es_Et,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_Et,()=>t(ethereum_provider_dist_index_es_Et))},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_Et,t,e)},showTooltip({message:t,triggerRect:e,variant:r}){ethereum_provider_dist_index_es_Et.open=!0,ethereum_provider_dist_index_es_Et.message=t,ethereum_provider_dist_index_es_Et.triggerRect=e,ethereum_provider_dist_index_es_Et.variant=r},hide(){ethereum_provider_dist_index_es_Et.open=!1,ethereum_provider_dist_index_es_Et.message="",ethereum_provider_dist_index_es_Et.triggerRect={width:0,height:0,top:0,left:0}}},Dd=2147483648,Pf={convertEVMChainIdToCoinType(t){if(t>=Dd)throw new Error("Invalid chainId");return(Dd|t)>>>0}},ethereum_provider_dist_index_es_gt=ethereum_provider_dist_index_es_xe({suggestions:[],loading:!1}),zd={state:ethereum_provider_dist_index_es_gt,subscribe(t){return ethereum_provider_dist_index_es_We(ethereum_provider_dist_index_es_gt,()=>t(ethereum_provider_dist_index_es_gt))},subscribeKey(t,e){return ethereum_provider_dist_index_es_He(ethereum_provider_dist_index_es_gt,t,e)},async resolveName(t){try{return await dist_index_es_oe.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await dist_index_es_oe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ethereum_provider_dist_index_es_gt.loading=!0,ethereum_provider_dist_index_es_gt.suggestions=[];const e=await dist_index_es_oe.getEnsNameSuggestions(t);return ethereum_provider_dist_index_es_gt.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],ethereum_provider_dist_index_es_gt.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{ethereum_provider_dist_index_es_gt.loading=!1}},async getNamesForAddress(t){try{if(!ethereum_provider_dist_index_es_f.state.activeCaipNetwork)return[];const r=dist_index_es_q.getEnsFromCacheForAddress(t);if(r)return r;const n=await dist_index_es_oe.reverseLookupEnsName({address:t});return dist_index_es_q.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=ethereum_provider_dist_index_es_f.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=dist_index_es_Q.state.address,n=ethereum_provider_dist_index_es_j.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");ethereum_provider_dist_index_es_gt.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});dist_index_es_D.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){ethereum_provider_dist_index_es_gt.loading=!1}});const o=await dist_index_es_Y.signMessage(i),s=e.id;if(!s)throw new Error("Network not found");const a=Pf.convertEVMChainIdToCoinType(Number(s));await dist_index_es_oe.registerEnsName({coinType:a,address:r,signature:o,message:i}),dist_index_es_Q.setProfileName(t,e.chainNamespace),dist_index_es_D.replace("RegisterAccountNameSuccess")}catch(i){const o=this.parseEnsApiError(i,`Error registering name ${t}`);throw dist_index_es_D.replace("RegisterAccountName"),new Error(o)}finally{ethereum_provider_dist_index_es_gt.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}};ethereum_provider_dist_index_es_xe({isLegalCheckboxChecked:!1});const ethereum_provider_dist_index_es_Be={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},ethereum_provider_dist_index_es_Fo={ConnectorExplorerIds:{[ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[ethereum_provider_dist_index_es_Be.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[ethereum_provider_dist_index_es_Be.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[ethereum_provider_dist_index_es_Be.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[ethereum_provider_dist_index_es_Be.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[ethereum_provider_dist_index_es_Be.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[ethereum_provider_dist_index_es_Be.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[ethereum_provider_dist_index_es_Be.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[ethereum_provider_dist_index_es_Be.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[ethereum_provider_dist_index_es_Be.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[ethereum_provider_dist_index_es_Be.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[ethereum_provider_dist_index_es_Be.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ethereum_provider_dist_index_es_G.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE]:"Coinbase",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.LEDGER]:"Ledger",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ethereum_provider_dist_index_es_G.CONNECTOR_ID.INJECTED]:"INJECTED",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},Ja={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${ethereum_provider_dist_index_es_Be.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()}},ethereum_provider_dist_index_es_Ho={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Bf()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function Bf(){return typeof window<"u"}function Rf(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Lf=Uf;function Uf(t,e,r){var n=r&&r.stringify||Rf,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var s=new Array(o);s[0]=n(t);for(var a=1;a<o;a++)s[a]=n(e[a]);return s.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",d=1-i,u=-1,h=t&&t.length||0,p=0;p<h;){if(t.charCodeAt(p)===37&&p+1<h){switch(u=u>-1?u:0,t.charCodeAt(p+1)){case 100:case 102:if(d>=c||e[d]==null)break;u<p&&(l+=t.slice(u,p)),l+=Number(e[d]),u=p+2,p++;break;case 105:if(d>=c||e[d]==null)break;u<p&&(l+=t.slice(u,p)),l+=Math.floor(Number(e[d])),u=p+2,p++;break;case 79:case 111:case 106:if(d>=c||e[d]===void 0)break;u<p&&(l+=t.slice(u,p));var v=typeof e[d];if(v==="string"){l+="'"+e[d]+"'",u=p+2,p++;break}if(v==="function"){l+=e[d].name||"<anonymous>",u=p+2,p++;break}l+=n(e[d]),u=p+2,p++;break;case 115:if(d>=c)break;u<p&&(l+=t.slice(u,p)),l+=String(e[d]),u=p+2,p++;break;case 37:u<p&&(l+=t.slice(u,p)),l+="%",u=p+2,p++,d--;break}++d}++p}return u===-1?t:(u<h&&(l+=t.slice(u)),l)}const Wd=Lf;var ethereum_provider_dist_index_es_Rr=ethereum_provider_dist_index_es_Ot;const dist_index_es_ri=Gf().console||{},Mf={mapHttpRequest:dist_index_es_Zo,mapHttpResponse:dist_index_es_Zo,wrapRequestSerializer:index_es_ec,wrapResponseSerializer:index_es_ec,wrapErrorSerializer:index_es_ec,req:dist_index_es_Zo,res:dist_index_es_Zo,err:Ff};function Df(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function ethereum_provider_dist_index_es_Ot(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||dist_index_es_ri;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=Df(t.browser.serialize,n);let o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);const s=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=dist_index_es_ni),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:u,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:s,timestamp:Hf(t)};c.levels=ethereum_provider_dist_index_es_Ot.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=dist_index_es_ni,c.serializers=n,c._serialize=i,c._stdErrSerialize=o,c.child=p,e&&(c._logEvent=Qa());function d(){return this.level==="silent"?1/0:this.levels.values[this.level]}function u(){return this._level}function h(v){if(v!=="silent"&&!this.levels.values[v])throw Error("unknown level "+v);this._level=v,dist_index_es_bn(l,c,"error","log"),dist_index_es_bn(l,c,"fatal","error"),dist_index_es_bn(l,c,"warn","error"),dist_index_es_bn(l,c,"info","log"),dist_index_es_bn(l,c,"debug","log"),dist_index_es_bn(l,c,"trace","log")}function p(v,m){if(!v)throw new Error("missing bindings for child Pino");m=m||{},i&&v.serializers&&(m.serializers=v.serializers);const g=m.serializers;if(i&&g){var b=Object.assign({},n,g),y=t.browser.serialize===!0?Object.keys(b):i;delete v.serializers,dist_index_es_Vo([v],y,b,this._stdErrSerialize)}function x(E){this._childLevel=(E._childLevel|0)+1,this.error=dist_index_es_vn(E,v,"error"),this.fatal=dist_index_es_vn(E,v,"fatal"),this.warn=dist_index_es_vn(E,v,"warn"),this.info=dist_index_es_vn(E,v,"info"),this.debug=dist_index_es_vn(E,v,"debug"),this.trace=dist_index_es_vn(E,v,"trace"),b&&(this.serializers=b,this._serialize=y),e&&(this._logEvent=Qa([].concat(E._logEvent.bindings,v)))}return x.prototype=this,new x(this)}return c}ethereum_provider_dist_index_es_Ot.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},ethereum_provider_dist_index_es_Ot.stdSerializers=Mf,ethereum_provider_dist_index_es_Ot.stdTimeFunctions=Object.assign({},{nullTime:jd,epochTime:Fd,unixTime:Vf,isoTime:Zf});function dist_index_es_bn(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?dist_index_es_ni:i[r]?i[r]:dist_index_es_ri[r]||dist_index_es_ri[n]||dist_index_es_ni,zf(t,e,r)}function zf(t,e,r){!t.transmit&&e[r]===dist_index_es_ni||(e[r]=function(n){return function(){const o=t.timestamp(),s=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===dist_index_es_ri?dist_index_es_ri:this;for(var c=0;c<s.length;c++)s[c]=arguments[c];if(t.serialize&&!t.asObject&&dist_index_es_Vo(s,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,Wf(this,r,s,o)):n.apply(a,s),t.transmit){const l=t.transmit.level||e.level,d=ethereum_provider_dist_index_es_Ot.levels.values[l],u=ethereum_provider_dist_index_es_Ot.levels.values[r];if(u<d)return;jf(this,{ts:o,methodLevel:r,methodValue:u,transmitLevel:l,transmitValue:ethereum_provider_dist_index_es_Ot.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},s)}}}(e[r]))}function Wf(t,e,r,n){t._serialize&&dist_index_es_Vo(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let o=i[0];const s={};n&&(s.time=n),s.level=ethereum_provider_dist_index_es_Ot.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),o!==null&&typeof o=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(s,i.shift());o=i.length?Wd(i.shift(),i):void 0}else typeof o=="string"&&(o=Wd(i.shift(),i));return o!==void 0&&(s.msg=o),s}function dist_index_es_Vo(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=ethereum_provider_dist_index_es_Ot.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const o in t[i])e&&e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function dist_index_es_vn(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function jf(t,e,r){const n=e.send,i=e.ts,o=e.methodLevel,s=e.methodValue,a=e.val,c=t._logEvent.bindings;dist_index_es_Vo(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=o,t._logEvent.level.value=s,n(o,t._logEvent,a),t._logEvent=Qa(c)}function Qa(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Ff(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Hf(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?jd:Fd}function dist_index_es_Zo(){return{}}function index_es_ec(t){return t}function dist_index_es_ni(){}function jd(){return!1}function Fd(){return Date.now()}function Vf(){return Math.round(Date.now()/1e3)}function Zf(){return new Date(Date.now()).toISOString()}function Gf(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const qf=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r);function Hd(t){return typeof t=="string"?t:qf(t)||""}const Kf={level:"info"},index_es_tc=1e3*1024;class Yf{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Vd{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Yf(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}}class Zd{constructor(e,r=index_es_tc){this.level=e??"error",this.levelValue=ethereum_provider_dist_index_es_Rr.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Vd(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===ethereum_provider_dist_index_es_Rr.levels.values.error?console.error(e):r===ethereum_provider_dist_index_es_Rr.levels.values.warn?console.warn(e):r===ethereum_provider_dist_index_es_Rr.levels.values.debug?console.debug(e):r===ethereum_provider_dist_index_es_Rr.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Hd({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Vd(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Hd({extraMetadata:e})),new Blob(r,{type:"application/json"})}}class Xf{constructor(e,r=index_es_tc){this.baseChunkLogger=new Zd(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}class Jf{constructor(e,r=index_es_tc){this.baseChunkLogger=new Zd(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var Qf=Object.defineProperty,eg=Object.defineProperties,tg=Object.getOwnPropertyDescriptors,Gd=Object.getOwnPropertySymbols,rg=Object.prototype.hasOwnProperty,ng=Object.prototype.propertyIsEnumerable,qd=(t,e,r)=>e in t?Qf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ethereum_provider_dist_index_es_Go=(t,e)=>{for(var r in e||(e={}))rg.call(e,r)&&qd(t,r,e[r]);if(Gd)for(var r of Gd(e))ng.call(e,r)&&qd(t,r,e[r]);return t},ethereum_provider_dist_index_es_qo=(t,e)=>eg(t,tg(e));function ig(t){return ethereum_provider_dist_index_es_qo(ethereum_provider_dist_index_es_Go({},t),{level:t?.level||Kf.level})}function og(t){var e,r;const n=new Xf((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ethereum_provider_dist_index_es_Rr(ethereum_provider_dist_index_es_qo(ethereum_provider_dist_index_es_Go({},t.opts),{level:"trace",browser:ethereum_provider_dist_index_es_qo(ethereum_provider_dist_index_es_Go({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function sg(t){var e;const r=new Jf((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ethereum_provider_dist_index_es_Rr(ethereum_provider_dist_index_es_qo(ethereum_provider_dist_index_es_Go({},t.opts),{level:"trace"})),chunkLoggerController:r}}function ag(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?og(t):sg(t)}const cg={createLogger(t,e="error"){const r=ig({level:e}),{logger:n}=ag({opts:r});return n.error=(...i)=>{for(const o of i)if(o instanceof Error){t(o,...i);return}t(void 0,...i)},n}},lg="rpc.walletconnect.org";function Kd(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const index_es_rc=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ethereum_provider_dist_index_es_Cn={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===lg}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ethereum_provider_dist_index_es_G.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ethereum_provider_dist_index_es_G.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return index_es_rc.includes(e)?Kd(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),o=this.getCaipNetworkId(t),s=t.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(t,o,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||s,l=n?.[o]?.map(h=>h.url)||[],d=[...l,a],u=[...l];return c&&!u.includes(c)&&u.push(c),{...t,chainNamespace:i,caipNetworkId:o,assets:{imageId:ethereum_provider_dist_index_es_Fo.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:d},chainDefault:{http:u}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>ethereum_provider_dist_index_es_Cn.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(ethereum_provider_dist_index_es_Lo(i.url,i.config))}),index_es_rc.includes(t.caipNetworkId)&&n.push(ethereum_provider_dist_index_es_Lo(Kd(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(ethereum_provider_dist_index_es_Lo(i))}),nd(n)},extendWagmiTransports(t,e,r){if(index_es_rc.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return nd([r,ethereum_provider_dist_index_es_Lo(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ethereum_provider_dist_index_es_G.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=dist_index_es_q.getActiveCaipNetworkId(),r=ethereum_provider_dist_index_es_f.getAllRequestedCaipNetworks(),n=Array.from(ethereum_provider_dist_index_es_f.state.chains?.keys()||[]),i=e?.split(":")[0],o=i?n.includes(i):!1,s=r?.find(c=>c.caipNetworkId===e);return o&&!s&&e?this.getUnsupportedNetwork(e):s||t||r?.[0]}},ethereum_provider_dist_index_es_Ko={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},dist_index_es_et=ethereum_provider_dist_index_es_xe({providers:{...ethereum_provider_dist_index_es_Ko},providerIds:{...ethereum_provider_dist_index_es_Ko}}),ethereum_provider_dist_index_es_e={state:dist_index_es_et,subscribeKey(t,e){return ethereum_provider_dist_index_es_He(dist_index_es_et,t,e)},subscribe(t){return ethereum_provider_dist_index_es_We(dist_index_es_et,()=>{t(dist_index_es_et)})},subscribeProviders(t){return ethereum_provider_dist_index_es_We(dist_index_es_et.providers,()=>t(dist_index_es_et.providers))},setProvider(t,e){e&&(dist_index_es_et.providers[t]=ethereum_provider_dist_index_es_Ir(e))},getProvider(t){return dist_index_es_et.providers[t]},setProviderId(t,e){e&&(dist_index_es_et.providerIds[t]=e)},getProviderId(t){if(t)return dist_index_es_et.providerIds[t]},reset(){dist_index_es_et.providers={...ethereum_provider_dist_index_es_Ko},dist_index_es_et.providerIds={...ethereum_provider_dist_index_es_Ko}},resetChain(t){dist_index_es_et.providers[t]=void 0,dist_index_es_et.providerIds[t]=void 0}};var Yd;(function(t){t.Google="google",t.Github="github",t.Apple="apple",t.Facebook="facebook",t.X="x",t.Discord="discord",t.Farcaster="farcaster"})(Yd||(Yd={}));const ethereum_provider_dist_index_es_gr={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},ethereum_provider_dist_index_es_Lr={filterOutDuplicatesByRDNS(t){const e=ethereum_provider_dist_index_es_T.state.enableEIP6963?ethereum_provider_dist_index_es_j.state.connectors:[],r=dist_index_es_q.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),o=n.concat(i);if(o.includes("io.metamask.mobile")&&index_es_U.isMobile()){const a=o.indexOf("io.metamask.mobile");o[a]="io.metamask"}return t.filter(a=>!o.includes(String(a?.rdns)))},filterOutDuplicatesByIds(t){const e=ethereum_provider_dist_index_es_j.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=dist_index_es_q.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),o=n.concat(i);return t.filter(a=>!o.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ethereum_provider_dist_index_es_j.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,s)=>(s.info?.rdns&&(o[s.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,s)=>Number(s.installed)-Number(o.installed))},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||ethereum_provider_dist_index_es_T.state.features?.connectMethodsOrder,n=e||ethereum_provider_dist_index_es_j.state.connectors;if(r)return r;const{injected:i,announced:o}=ethereum_provider_dist_index_es_Kt.getConnectorsByType(n,ethereum_provider_dist_index_es_W.state.recommended,ethereum_provider_dist_index_es_W.state.featured),s=i.filter(ethereum_provider_dist_index_es_Kt.showConnector),a=o.filter(ethereum_provider_dist_index_es_Kt.showConnector);return s.length||a.length?["wallet","email","social"]:ethereum_provider_dist_index_es_gr.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ethereum_provider_dist_index_es_W.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&ethereum_provider_dist_index_es_W.state.excludedWallets.some(n=>Ja.isLowerCaseMatch(n.name,t.name));return e||r}},ethereum_provider_dist_index_es_Kt={getConnectorsByType(t,e,r){const{customWallets:n}=ethereum_provider_dist_index_es_T.state,i=dist_index_es_q.getRecentWallets(),o=ethereum_provider_dist_index_es_Lr.filterOutDuplicateWallets(e),s=ethereum_provider_dist_index_es_Lr.filterOutDuplicateWallets(r),a=t.filter(u=>u.type==="MULTI_CHAIN"),c=t.filter(u=>u.type==="ANNOUNCED"),l=t.filter(u=>u.type==="INJECTED"),d=t.filter(u=>u.type==="EXTERNAL");return{custom:n,recent:i,external:d,multiChain:a,announced:c,injected:l,recommended:o,featured:s}},showConnector(t){const e=t.info?.rdns,r=!!e&&ethereum_provider_dist_index_es_W.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&ethereum_provider_dist_index_es_W.state.excludedWallets.some(i=>Ja.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(!index_es_U.isMobile()&&t.name==="Browser Wallet"||!e&&!dist_index_es_Y.checkInstalled()||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(ethereum_provider_dist_index_es_f.state.chains.values()).some(r=>ethereum_provider_dist_index_es_j.getConnectorId(r.namespace)===ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:o,multiChain:s,external:a,overriddenConnectors:c=ethereum_provider_dist_index_es_T.state.features?.connectorTypeOrder??[]}){const l=ethereum_provider_dist_index_es_Kt.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:ethereum_provider_dist_index_es_T.state.enableWalletConnect&&!l},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...o,...i,...s].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),p=new Set(h.map(g=>g.type)),v=c.filter(g=>p.has(g)).map(g=>({type:g,isEnabled:!0})),m=h.filter(({type:g})=>!v.some(({type:y})=>y===g));return Array.from(new Set([...v,...m].map(({type:g})=>g)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ethereum_provider_dist_index_es_Yo=globalThis,index_es_nc=ethereum_provider_dist_index_es_Yo.ShadowRoot&&(ethereum_provider_dist_index_es_Yo.ShadyCSS===void 0||ethereum_provider_dist_index_es_Yo.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,index_es_ic=Symbol(),Xd=new WeakMap;class Jd{constructor(e,r,n){if(this._$cssResult$=!0,n!==index_es_ic)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(index_es_nc&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=Xd.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Xd.set(r,e))}return e}toString(){return this.cssText}}const ethereum_provider_dist_index_es_wt=t=>new Jd(typeof t=="string"?t:t+"",void 0,index_es_ic),ethereum_provider_dist_index_es_te=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,o)=>n+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return new Jd(r,t,index_es_ic)},dg=(t,e)=>{if(index_es_nc)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=ethereum_provider_dist_index_es_Yo.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},Qd=index_es_nc?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return ethereum_provider_dist_index_es_wt(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ug,defineProperty:hg,getOwnPropertyDescriptor:pg,getOwnPropertyNames:fg,getOwnPropertySymbols:gg,getPrototypeOf:wg}=Object,dist_index_es_Xo=globalThis,eu=dist_index_es_Xo.trustedTypes,mg=eu?eu.emptyScript:"",bg=dist_index_es_Xo.reactiveElementPolyfillSupport,dist_index_es_ii=(t,e)=>t,ethereum_provider_dist_index_es_Jo={toAttribute(t,e){switch(e){case Boolean:t=t?mg:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},index_es_oc=(t,e)=>!ug(t,e),tu={attribute:!0,type:String,converter:ethereum_provider_dist_index_es_Jo,reflect:!1,useDefault:!1,hasChanged:index_es_oc};Symbol.metadata??=Symbol("metadata"),dist_index_es_Xo.litPropertyMetadata??=new WeakMap;class ethereum_provider_dist_index_es_yn extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=tu){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&hg(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:o}=pg(this.prototype,e)??{get(){return this[r]},set(s){this[r]=s}};return{get:i,set(s){const a=i?.call(this);o?.call(this,s),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??tu}static _$Ei(){if(this.hasOwnProperty(dist_index_es_ii("elementProperties")))return;const e=wg(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(dist_index_es_ii("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(dist_index_es_ii("properties"))){const r=this.properties,n=[...fg(r),...gg(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(Qd(i))}else e!==void 0&&r.push(Qd(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return dg(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(n.converter?.toAttribute!==void 0?n.converter:ethereum_provider_dist_index_es_Jo).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const o=n.getPropertyOptions(i),s=typeof o.converter=="function"?{fromAttribute:o.converter}:o.converter?.fromAttribute!==void 0?o.converter:ethereum_provider_dist_index_es_Jo;this._$Em=i,this[i]=s.fromAttribute(r,o.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,o=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??index_es_oc)(o,r)||n.useDefault&&n.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:o},s){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,s??r??this[e]),o!==!0||s!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,o]of n){const{wrapped:s}=o,a=this[i];s!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,o,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(r=>this._$ET(r,this[r])),this._$EM()}updated(e){}firstUpdated(e){}}ethereum_provider_dist_index_es_yn.elementStyles=[],ethereum_provider_dist_index_es_yn.shadowRootOptions={mode:"open"},ethereum_provider_dist_index_es_yn[dist_index_es_ii("elementProperties")]=new Map,ethereum_provider_dist_index_es_yn[dist_index_es_ii("finalized")]=new Map,bg?.({ReactiveElement:ethereum_provider_dist_index_es_yn}),(dist_index_es_Xo.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const index_es_sc=globalThis,dist_index_es_Qo=index_es_sc.trustedTypes,ru=dist_index_es_Qo?dist_index_es_Qo.createPolicy("lit-html",{createHTML:t=>t}):void 0,nu="$lit$",ethereum_provider_dist_index_es_wr=`lit$${Math.random().toFixed(9).slice(2)}$`,iu="?"+ethereum_provider_dist_index_es_wr,vg=`<${iu}>`,ethereum_provider_dist_index_es_Ur=document,dist_index_es_oi=()=>ethereum_provider_dist_index_es_Ur.createComment(""),dist_index_es_si=t=>t===null||typeof t!="object"&&typeof t!="function",index_es_ac=Array.isArray,Cg=t=>index_es_ac(t)||typeof t?.[Symbol.iterator]=="function",index_es_cc=`[ 	
\f\r]`,dist_index_es_ai=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ou=/-->/g,su=/>/g,ethereum_provider_dist_index_es_Mr=RegExp(`>|${index_es_cc}(?:([^\\s"'>=/]+)(${index_es_cc}*=${index_es_cc}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),au=/'/g,cu=/"/g,lu=/^(?:script|style|textarea|title)$/i,du=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),ethereum_provider_dist_index_es_w=du(1),ethereum_provider_dist_index_es_M=du(2),ethereum_provider_dist_index_es_Yt=Symbol.for("lit-noChange"),ethereum_provider_dist_index_es_Ne=Symbol.for("lit-nothing"),uu=new WeakMap,ethereum_provider_dist_index_es_Dr=ethereum_provider_dist_index_es_Ur.createTreeWalker(ethereum_provider_dist_index_es_Ur,129);function hu(t,e){if(!index_es_ac(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return ru!==void 0?ru.createHTML(e):e}const yg=(t,e)=>{const r=t.length-1,n=[];let i,o=e===2?"<svg>":e===3?"<math>":"",s=dist_index_es_ai;for(let a=0;a<r;a++){const c=t[a];let l,d,u=-1,h=0;for(;h<c.length&&(s.lastIndex=h,d=s.exec(c),d!==null);)h=s.lastIndex,s===dist_index_es_ai?d[1]==="!--"?s=ou:d[1]!==void 0?s=su:d[2]!==void 0?(lu.test(d[2])&&(i=RegExp("</"+d[2],"g")),s=ethereum_provider_dist_index_es_Mr):d[3]!==void 0&&(s=ethereum_provider_dist_index_es_Mr):s===ethereum_provider_dist_index_es_Mr?d[0]===">"?(s=i??dist_index_es_ai,u=-1):d[1]===void 0?u=-2:(u=s.lastIndex-d[2].length,l=d[1],s=d[3]===void 0?ethereum_provider_dist_index_es_Mr:d[3]==='"'?cu:au):s===cu||s===au?s=ethereum_provider_dist_index_es_Mr:s===ou||s===su?s=dist_index_es_ai:(s=ethereum_provider_dist_index_es_Mr,i=void 0);const p=s===ethereum_provider_dist_index_es_Mr&&t[a+1].startsWith("/>")?" ":"";o+=s===dist_index_es_ai?c+vg:u>=0?(n.push(l),c.slice(0,u)+nu+c.slice(u)+ethereum_provider_dist_index_es_wr+p):c+ethereum_provider_dist_index_es_wr+(u===-2?a:p)}return[hu(t,o+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class ethereum_provider_dist_index_es_fo{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let o=0,s=0;const a=e.length-1,c=this.parts,[l,d]=yg(e,r);if(this.el=ethereum_provider_dist_index_es_fo.createElement(l,n),ethereum_provider_dist_index_es_Dr.currentNode=this.el.content,r===2||r===3){const u=this.el.content.firstChild;u.replaceWith(...u.childNodes)}for(;(i=ethereum_provider_dist_index_es_Dr.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const u of i.getAttributeNames())if(u.endsWith(nu)){const h=d[s++],p=i.getAttribute(u).split(ethereum_provider_dist_index_es_wr),v=/([.?@])?(.*)/.exec(h);c.push({type:1,index:o,name:v[2],strings:p,ctor:v[1]==="."?Eg:v[1]==="?"?Ag:v[1]==="@"?Sg:dist_index_es_es}),i.removeAttribute(u)}else u.startsWith(ethereum_provider_dist_index_es_wr)&&(c.push({type:6,index:o}),i.removeAttribute(u));if(lu.test(i.tagName)){const u=i.textContent.split(ethereum_provider_dist_index_es_wr),h=u.length-1;if(h>0){i.textContent=dist_index_es_Qo?dist_index_es_Qo.emptyScript:"";for(let p=0;p<h;p++)i.append(u[p],dist_index_es_oi()),ethereum_provider_dist_index_es_Dr.nextNode(),c.push({type:2,index:++o});i.append(u[h],dist_index_es_oi())}}}else if(i.nodeType===8)if(i.data===iu)c.push({type:2,index:o});else{let u=-1;for(;(u=i.data.indexOf(ethereum_provider_dist_index_es_wr,u+1))!==-1;)c.push({type:7,index:o}),u+=ethereum_provider_dist_index_es_wr.length-1}o++}}static createElement(e,r){const n=ethereum_provider_dist_index_es_Ur.createElement("template");return n.innerHTML=e,n}}function dist_index_es_xn(t,e,r=t,n){if(e===ethereum_provider_dist_index_es_Yt)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const o=dist_index_es_si(e)?void 0:e._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),o===void 0?i=void 0:(i=new o(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=dist_index_es_xn(t,i._$AS(t,e.values),i,n)),e}class xg{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??ethereum_provider_dist_index_es_Ur).importNode(r,!0);ethereum_provider_dist_index_es_Dr.currentNode=i;let o=ethereum_provider_dist_index_es_Dr.nextNode(),s=0,a=0,c=n[0];for(;c!==void 0;){if(s===c.index){let l;c.type===2?l=new ethereum_provider_dist_index_es_go(o,o.nextSibling,this,e):c.type===1?l=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(l=new _g(o,this,e)),this._$AV.push(l),c=n[++a]}s!==c?.index&&(o=ethereum_provider_dist_index_es_Dr.nextNode(),s++)}return ethereum_provider_dist_index_es_Dr.currentNode=ethereum_provider_dist_index_es_Ur,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class ethereum_provider_dist_index_es_go{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=ethereum_provider_dist_index_es_Ne,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=dist_index_es_xn(this,e,r),dist_index_es_si(e)?e===ethereum_provider_dist_index_es_Ne||e==null||e===""?(this._$AH!==ethereum_provider_dist_index_es_Ne&&this._$AR(),this._$AH=ethereum_provider_dist_index_es_Ne):e!==this._$AH&&e!==ethereum_provider_dist_index_es_Yt&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Cg(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ethereum_provider_dist_index_es_Ne&&dist_index_es_si(this._$AH)?this._$AA.nextSibling.data=e:this.T(ethereum_provider_dist_index_es_Ur.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=ethereum_provider_dist_index_es_fo.createElement(hu(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const o=new xg(i,this),s=o.u(this.options);o.p(r),this.T(s),this._$AH=o}}_$AC(e){let r=uu.get(e.strings);return r===void 0&&uu.set(e.strings,r=new ethereum_provider_dist_index_es_fo(e)),r}k(e){index_es_ac(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const o of e)i===r.length?r.push(n=new ethereum_provider_dist_index_es_go(this.O(dist_index_es_oi()),this.O(dist_index_es_oi()),this,this.options)):n=r[i],n._$AI(o),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class dist_index_es_es{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,o){this.type=1,this._$AH=ethereum_provider_dist_index_es_Ne,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ethereum_provider_dist_index_es_Ne}_$AI(e,r=this,n,i){const o=this.strings;let s=!1;if(o===void 0)e=dist_index_es_xn(this,e,r,0),s=!dist_index_es_si(e)||e!==this._$AH&&e!==ethereum_provider_dist_index_es_Yt,s&&(this._$AH=e);else{const a=e;let c,l;for(e=o[0],c=0;c<o.length-1;c++)l=dist_index_es_xn(this,a[n+c],r,c),l===ethereum_provider_dist_index_es_Yt&&(l=this._$AH[c]),s||=!dist_index_es_si(l)||l!==this._$AH[c],l===ethereum_provider_dist_index_es_Ne?e=ethereum_provider_dist_index_es_Ne:e!==ethereum_provider_dist_index_es_Ne&&(e+=(l??"")+o[c+1]),this._$AH[c]=l}s&&!i&&this.j(e)}j(e){e===ethereum_provider_dist_index_es_Ne?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Eg extends dist_index_es_es{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ethereum_provider_dist_index_es_Ne?void 0:e}}class Ag extends dist_index_es_es{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ethereum_provider_dist_index_es_Ne)}}class Sg extends dist_index_es_es{constructor(e,r,n,i,o){super(e,r,n,i,o),this.type=5}_$AI(e,r=this){if((e=dist_index_es_xn(this,e,r,0)??ethereum_provider_dist_index_es_Ne)===ethereum_provider_dist_index_es_Yt)return;const n=this._$AH,i=e===ethereum_provider_dist_index_es_Ne&&n!==ethereum_provider_dist_index_es_Ne||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==ethereum_provider_dist_index_es_Ne&&(n===ethereum_provider_dist_index_es_Ne||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class _g{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){dist_index_es_xn(this,e)}}const Ig=index_es_sc.litHtmlPolyfillSupport;Ig?.(ethereum_provider_dist_index_es_fo,ethereum_provider_dist_index_es_go),(index_es_sc.litHtmlVersions??=[]).push("3.3.0");const Ng=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const o=r?.renderBefore??null;n._$litPart$=i=new ethereum_provider_dist_index_es_go(e.insertBefore(dist_index_es_oi(),o),o,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const index_es_lc=globalThis;class ethereum_provider_dist_index_es_V extends ethereum_provider_dist_index_es_yn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Ng(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ethereum_provider_dist_index_es_Yt}}ethereum_provider_dist_index_es_V._$litElement$=!0,ethereum_provider_dist_index_es_V.finalized=!0,index_es_lc.litElementHydrateSupport?.({LitElement:ethereum_provider_dist_index_es_V});const kg=index_es_lc.litElementPolyfillSupport;kg?.({LitElement:ethereum_provider_dist_index_es_V}),(index_es_lc.litElementVersions??=[]).push("4.2.0");let dist_index_es_ci,ethereum_provider_dist_index_es_mr,ethereum_provider_dist_index_es_br;function Tg(t,e){dist_index_es_ci=document.createElement("style"),ethereum_provider_dist_index_es_mr=document.createElement("style"),ethereum_provider_dist_index_es_br=document.createElement("style"),dist_index_es_ci.textContent=ethereum_provider_dist_index_es_En(t).core.cssText,ethereum_provider_dist_index_es_mr.textContent=ethereum_provider_dist_index_es_En(t).dark.cssText,ethereum_provider_dist_index_es_br.textContent=ethereum_provider_dist_index_es_En(t).light.cssText,document.head.appendChild(dist_index_es_ci),document.head.appendChild(ethereum_provider_dist_index_es_mr),document.head.appendChild(ethereum_provider_dist_index_es_br),pu(e)}function pu(t){ethereum_provider_dist_index_es_mr&&ethereum_provider_dist_index_es_br&&(t==="light"?(ethereum_provider_dist_index_es_mr.removeAttribute("media"),ethereum_provider_dist_index_es_br.media="enabled"):(ethereum_provider_dist_index_es_br.removeAttribute("media"),ethereum_provider_dist_index_es_mr.media="enabled"))}function Og(t){dist_index_es_ci&&ethereum_provider_dist_index_es_mr&&ethereum_provider_dist_index_es_br&&(dist_index_es_ci.textContent=ethereum_provider_dist_index_es_En(t).core.cssText,ethereum_provider_dist_index_es_mr.textContent=ethereum_provider_dist_index_es_En(t).dark.cssText,ethereum_provider_dist_index_es_br.textContent=ethereum_provider_dist_index_es_En(t).light.cssText)}function ethereum_provider_dist_index_es_En(t){return{core:ethereum_provider_dist_index_es_te`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:ethereum_provider_dist_index_es_te`
      :root {
        --w3m-color-mix: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${ethereum_provider_dist_index_es_wt(ethereum_provider_dist_index_es_ir(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${ethereum_provider_dist_index_es_wt(ethereum_provider_dist_index_es_ir(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:ethereum_provider_dist_index_es_te`
      :root {
        --w3m-color-mix: ${ethereum_provider_dist_index_es_wt(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${ethereum_provider_dist_index_es_wt(ethereum_provider_dist_index_es_ir(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${ethereum_provider_dist_index_es_wt(ethereum_provider_dist_index_es_ir(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const ethereum_provider_dist_index_es_we=ethereum_provider_dist_index_es_te`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,ethereum_provider_dist_index_es_De=ethereum_provider_dist_index_es_te`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,dist_index_es_li=ethereum_provider_dist_index_es_te`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,ethereum_provider_dist_index_es_Me={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:r,truncate:n}){return t.length<=e+r?t:n==="end"?`${t.substring(0,e)}...`:n==="start"?`...${t.substring(t.length-r)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(r))}`},generateAvatarColors(t){const r=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),n=this.hexToRgb(r),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),s=100-3*Number(i?.replace("px","")),a=`${s}% ${s}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const d=this.tintColor(n,.15*l);c.push(`rgb(${d[0]}, ${d[1]}, ${d[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),r=e>>16&255,n=e>>8&255,i=e&255;return[r,n,i]},tintColor(t,e){const[r,n,i]=t,o=Math.round(r+(255-r)*e),s=Math.round(n+(255-n)*e),a=Math.round(i+(255-i)*e);return[o,s,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){return t||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,r){return t.toString().length>=e?Number(t).toFixed(r):t},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}};function $g(t,e){const{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function Pg(t,e){return customElements.get(t)||customElements.define(t,e),e}function ethereum_provider_dist_index_es_F(t){return function(r){return typeof r=="function"?Pg(t,r):$g(t,r)}}function Bg(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const d=t.charAt(l),u=d.charCodeAt(0);if(e[u]!==255)throw new TypeError(d+" is ambiguous");e[u]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let d=0,u=0,h=0;const p=l.length;for(;h!==p&&l[h]===0;)h++,d++;const v=(p-h)*o+1>>>0,m=new Uint8Array(v);for(;h!==p;){let y=l[h],x=0;for(let E=v-1;(y!==0||x<u)&&E!==-1;E--,x++)y+=256*m[E]>>>0,m[E]=y%r>>>0,y=y/r>>>0;if(y!==0)throw new Error("Non-zero carry");u=x,h++}let g=v-u;for(;g!==v&&m[g]===0;)g++;let b=n.repeat(d);for(;g<v;++g)b+=t.charAt(m[g]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let d=0,u=0,h=0;for(;l[d]===n;)u++,d++;const p=(l.length-d)*i+1>>>0,v=new Uint8Array(p);for(;d<l.length;){const y=l.charCodeAt(d);if(y>255)return;let x=e[y];if(x===255)return;let E=0;for(let I=p-1;(x!==0||E<h)&&I!==-1;I--,E++)x+=r*v[I]>>>0,v[I]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");h=E,d++}let m=p-h;for(;m!==p&&v[m]===0;)m++;const g=new Uint8Array(u+(p-m));let b=u;for(;m!==p;)g[b++]=v[m++];return g}function c(l){const d=a(l);if(d)return d;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var Rg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Lg=Bg(Rg);const ethereum_provider_dist_index_es_ts={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},fu={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Ug={block:Vl({format(t){return{transactions:t.transactions?.map(r=>{if(typeof r=="string")return r;const n=ethereum_provider_dist_index_es_$o(r);return n.typeHex==="0x7e"&&(n.isSystemTx=r.isSystemTx,n.mint=r.mint?ethereum_provider_dist_index_es_Wt(r.mint):void 0,n.sourceHash=r.sourceHash,n.type="deposit"),n}),stateRoot:t.stateRoot}}}),transaction:Hl({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?ethereum_provider_dist_index_es_Wt(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:dp({format(t){return{l1GasPrice:t.l1GasPrice?ethereum_provider_dist_index_es_Wt(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?ethereum_provider_dist_index_es_Wt(t.l1GasUsed):null,l1Fee:t.l1Fee?ethereum_provider_dist_index_es_Wt(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function gu(t,e){return zg(t)?Dg(t):tp(t,e)}const Mg={transaction:gu};function Dg(t){Wg(t);const{sourceHash:e,data:r,from:n,gas:i,isSystemTx:o,mint:s,to:a,value:c}=t,l=[e,n,a??"0x",s?ethereum_provider_dist_index_es_ie(s):"0x",c?ethereum_provider_dist_index_es_ie(c):"0x",i?ethereum_provider_dist_index_es_ie(i):"0x",o?"0x1":"0x",r??"0x"];return dist_index_es_dn(["0x7e",ethereum_provider_dist_index_es_hr(l)])}function zg(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function Wg(t){const{from:e,to:r}=t;if(e&&!ethereum_provider_dist_index_es_Ht(e))throw new ethereum_provider_dist_index_es_ur({address:e});if(r&&!ethereum_provider_dist_index_es_Ht(r))throw new ethereum_provider_dist_index_es_ur({address:r})}const ethereum_provider_dist_index_es_O={contracts:fu,formatters:Ug,serializers:Mg},index_es_rs=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_rs+"",portal:index_es_rs+"",l1StandardBridge:index_es_rs+""}});const index_es_ns=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_ns+"",portal:index_es_ns+"",l1StandardBridge:index_es_ns+""}});const dist_index_es_di=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_di+"",l2OutputOracle:dist_index_es_di+"",portal:dist_index_es_di+"",l1StandardBridge:dist_index_es_di+""}});const index_es_is=5;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_is+"",portal:index_es_is+"",l1StandardBridge:index_es_is+""}});const dist_index_es_ui=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_ui+"",l2OutputOracle:dist_index_es_ui+"",portal:dist_index_es_ui+"",l1StandardBridge:dist_index_es_ui+""}},ethereum_provider_dist_index_es_J({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}));const jg=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}});const index_es_dc=1;ethereum_provider_dist_index_es_J({...ethereum_provider_dist_index_es_O,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...ethereum_provider_dist_index_es_O.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[index_es_dc]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[index_es_dc]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:index_es_dc});const index_es_uc=11155111;ethereum_provider_dist_index_es_J({...ethereum_provider_dist_index_es_O,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...ethereum_provider_dist_index_es_O.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{[index_es_uc]:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{[index_es_uc]:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:index_es_uc});const Fg={estimateFeesPerGas:async t=>{if(!t.request?.feeCurrency)return null;const[e,r]=await Promise.all([Hg(t.client,t.request.feeCurrency),Vg(t.client,t.request.feeCurrency)]);return{maxFeePerGas:t.multiply(e-r)+r,maxPriorityFeePerGas:r}}};async function Hg(t,e){const r=await t.request({method:"eth_gasPrice",params:[e]});return BigInt(r)}async function Vg(t,e){const r=await t.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(r)}function wu(t){return t===0||t===0n||t===void 0||t===null||t==="0"||t===""||typeof t=="string"&&(ethereum_provider_dist_index_es_sn(t).toLowerCase()==="0x"||ethereum_provider_dist_index_es_sn(t).toLowerCase()==="0x00")}function dist_index_es_hi(t){return!wu(t)}function Zg(t){return typeof t.maxFeePerGas<"u"&&typeof t.maxPriorityFeePerGas<"u"}function mu(t){return t.type==="cip64"?!0:Zg(t)&&dist_index_es_hi(t.feeCurrency)}const Gg={block:Vl({format(t){return{transactions:t.transactions?.map(r=>typeof r=="string"?r:{...ethereum_provider_dist_index_es_$o(r),...r.gatewayFee?{gatewayFee:ethereum_provider_dist_index_es_Wt(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency}),...t.randomness?{randomness:t.randomness}:{}}}}),transaction:Hl({format(t){if(t.type==="0x7e")return{isSystemTx:t.isSystemTx,mint:t.mint?ethereum_provider_dist_index_es_Wt(t.mint):void 0,sourceHash:t.sourceHash,type:"deposit"};const e={feeCurrency:t.feeCurrency};return t.type==="0x7b"?e.type="cip64":(t.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=t.gatewayFee?ethereum_provider_dist_index_es_Wt(t.gatewayFee):null,e.gatewayFeeRecipient=t.gatewayFeeRecipient),e}}),transactionRequest:bh({format(t){const e={};return t.feeCurrency&&(e.feeCurrency=t.feeCurrency),mu(t)&&(e.type="0x7b"),e}})};function qg(t,e){return mu(t)?Yg(t,e):gu(t,e)}const Kg={transaction:qg};function Yg(t,e){Jg(t);const{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:d,data:u}=t,h=[ethereum_provider_dist_index_es_ie(r),i?ethereum_provider_dist_index_es_ie(i):"0x",c?ethereum_provider_dist_index_es_ie(c):"0x",a?ethereum_provider_dist_index_es_ie(a):"0x",n?ethereum_provider_dist_index_es_ie(n):"0x",o??"0x",s?ethereum_provider_dist_index_es_ie(s):"0x",u??"0x",ethereum_provider_dist_index_es_Jn(l),d,...dist_index_es_un(t,e)];return dist_index_es_dn(["0x7b",ethereum_provider_dist_index_es_hr(h)])}const Xg=ethereum_provider_dist_index_es_Oo;function Jg(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o,feeCurrency:s}=t;if(e<=0)throw new ethereum_provider_dist_index_es_Xn({chainId:e});if(o&&!ethereum_provider_dist_index_es_Ht(o))throw new ethereum_provider_dist_index_es_ur({address:o});if(n)throw new ethereum_provider_dist_index_es_de("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(dist_index_es_hi(i)&&i>Xg)throw new ethereum_provider_dist_index_es_Yn({maxFeePerGas:i});if(dist_index_es_hi(r)&&dist_index_es_hi(i)&&r>i)throw new index_es_Sa({maxFeePerGas:i,maxPriorityFeePerGas:r});if(dist_index_es_hi(s)&&!ethereum_provider_dist_index_es_Ht(s))throw new ethereum_provider_dist_index_es_de("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(wu(s))throw new ethereum_provider_dist_index_es_de("`feeCurrency` must be provided for CIP-64 transactions.")}const bu={contracts:fu,formatters:Gg,serializers:Kg,fees:Fg},index_es_os=17e3;({...bu,contracts:{...bu.contracts,portal:index_es_os+"",disputeGameFactory:index_es_os+"",l2OutputOracle:index_es_os+"",l1StandardBridge:index_es_os+""}},ethereum_provider_dist_index_es_J({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}})),ethereum_provider_dist_index_es_J({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),{...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}},{...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}},ethereum_provider_dist_index_es_J({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0});const ethereum_provider_dist_index_es_An=1;({...ethereum_provider_dist_index_es_O.contracts,addressManager:ethereum_provider_dist_index_es_An+"",l1CrossDomainMessenger:ethereum_provider_dist_index_es_An+"",l2OutputOracle:ethereum_provider_dist_index_es_An+"",portal:ethereum_provider_dist_index_es_An+"",l1StandardBridge:ethereum_provider_dist_index_es_An+""});const dist_index_es_Sn=11155111;({...ethereum_provider_dist_index_es_O.contracts,addressManager:dist_index_es_Sn+"",l1CrossDomainMessenger:dist_index_es_Sn+"",l2OutputOracle:dist_index_es_Sn+"",portal:dist_index_es_Sn+"",l1StandardBridge:dist_index_es_Sn+""});const index_es_ss=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_ss+"",portal:index_es_ss+"",l1StandardBridge:index_es_ss+""}});const index_es_as=17e3;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_as+"",portal:index_es_as+"",l1StandardBridge:index_es_as+""}});const Qg=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}});const e2=11155111;ethereum_provider_dist_index_es_J({...ethereum_provider_dist_index_es_O,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...ethereum_provider_dist_index_es_O.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:e2});const index_es_cs=17e3;ethereum_provider_dist_index_es_J({...ethereum_provider_dist_index_es_O,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:index_es_cs,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...ethereum_provider_dist_index_es_O.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[index_es_cs]:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{[index_es_cs]:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{[index_es_cs]:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}});const index_es_ls=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:index_es_ls+"",portal:index_es_ls+"",l1StandardBridge:index_es_ls+""}});const index_es_ds=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:index_es_ds+"",portal:index_es_ds+"",l1StandardBridge:index_es_ds+""}},ethereum_provider_dist_index_es_J({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}));const index_es_us=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_us+"",portal:index_es_us+"",l1StandardBridge:index_es_us+""}});const index_es_hs=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_hs+"",portal:index_es_hs+"",l1StandardBridge:index_es_hs+""}});const index_es_ps=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_ps+"",portal:index_es_ps+"",l1StandardBridge:index_es_ps+""}});const dist_index_es_fs=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_fs+"",portal:dist_index_es_fs+"",l1StandardBridge:dist_index_es_fs+""}});const index_es_gs=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:index_es_gs+"",portal:index_es_gs+"",l1StandardBridge:index_es_gs+""}});const dist_index_es_ws=56;({...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_ws+"",portal:dist_index_es_ws+"",l1StandardBridge:dist_index_es_ws+""});const dist_index_es_ms=97;({...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_ms+"",portal:dist_index_es_ms+"",l1StandardBridge:dist_index_es_ms+""});const dist_index_es_pi=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_pi+"",l2OutputOracle:dist_index_es_pi+"",portal:dist_index_es_pi+"",l1StandardBridge:dist_index_es_pi+""}});const dist_index_es_bs=5;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_bs+"",portal:dist_index_es_bs+"",l1StandardBridge:dist_index_es_bs+""}});const dist_index_es_fi=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_fi+"",l2OutputOracle:dist_index_es_fi+"",portal:dist_index_es_fi+"",l1StandardBridge:dist_index_es_fi+""}});const vu=11155111;ethereum_provider_dist_index_es_J({...ethereum_provider_dist_index_es_O,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:vu,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...ethereum_provider_dist_index_es_O.contracts,l1StandardBridge:{[vu]:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}});const dist_index_es_vs=1;ethereum_provider_dist_index_es_J({...ethereum_provider_dist_index_es_O,name:"Redstone",id:690,sourceId:dist_index_es_vs,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...ethereum_provider_dist_index_es_O.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[dist_index_es_vs]:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{[dist_index_es_vs]:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{[dist_index_es_vs]:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}});const dist_index_es_Cs=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_Cs+"",portal:dist_index_es_Cs+"",l1StandardBridge:dist_index_es_Cs+""}});const dist_index_es_ys=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_ys+"",portal:dist_index_es_ys+"",l1StandardBridge:dist_index_es_ys+""}});const dist_index_es_xs=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_xs+"",portal:dist_index_es_xs+"",l1StandardBridge:dist_index_es_xs+""}});const t2=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}});const dist_index_es_gi=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_gi+"",l2OutputOracle:dist_index_es_gi+"",portal:dist_index_es_gi+"",l1StandardBridge:dist_index_es_gi+""}});const dist_index_es_wi=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_wi+"",l2OutputOracle:dist_index_es_wi+"",portal:dist_index_es_wi+"",l1StandardBridge:dist_index_es_wi+""}});const dist_index_es_mi=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_mi+"",l2OutputOracle:dist_index_es_mi+"",portal:dist_index_es_mi+"",l1StandardBridge:dist_index_es_mi+""}});const dist_index_es_bi=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_bi+"",l2OutputOracle:dist_index_es_bi+"",portal:dist_index_es_bi+"",l1StandardBridge:dist_index_es_bi+""}});const dist_index_es_vi=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_vi+"",l2OutputOracle:dist_index_es_vi+"",portal:dist_index_es_vi+"",l1StandardBridge:dist_index_es_vi+""}});const index_es_hc=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,portal:index_es_hc+"",l1StandardBridge:index_es_hc+""}},{...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}}),{...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts}};const dist_index_es_Es=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_Es+"",portal:dist_index_es_Es+"",l1StandardBridge:dist_index_es_Es+""}});const dist_index_es_As=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,portal:dist_index_es_As+"",l1StandardBridge:dist_index_es_As+"",disputeGameFactory:dist_index_es_As+""}});const dist_index_es_Ci=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_Ci+"",l2OutputOracle:dist_index_es_Ci+"",portal:dist_index_es_Ci+"",l1StandardBridge:dist_index_es_Ci+""}});const dist_index_es_yi=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,disputeGameFactory:dist_index_es_yi+"",l2OutputOracle:dist_index_es_yi+"",portal:dist_index_es_yi+"",l1StandardBridge:dist_index_es_yi+""}});const dist_index_es_Ss=1;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_Ss+"",portal:dist_index_es_Ss+"",l1StandardBridge:dist_index_es_Ss+""}});const dist_index_es_s=11155111;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,l2OutputOracle:dist_index_es_s+"",portal:dist_index_es_s+"",l1StandardBridge:dist_index_es_s+""}});const Cu=5;({...ethereum_provider_dist_index_es_O,contracts:{...ethereum_provider_dist_index_es_O.contracts,portal:Cu+""}});function ethereum_provider_dist_index_es_n(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const yu=ethereum_provider_dist_index_es_n({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),xu=ethereum_provider_dist_index_es_n({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ethereum_provider_dist_index_es_n({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),ethereum_provider_dist_index_es_n({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),ethereum_provider_dist_index_es_n({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const r2={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Eu={getMethodsByChainNamespace(t){return r2[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[o]=i.split(":");o&&n.add(o)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,o])=>{r[i]&&(r[i].methods=o)}),e.chains&&Object.entries(e.chains).forEach(([i,o])=>{r[i]&&(r[i].chains=o)}),e.events&&Object.entries(e.events).forEach(([i,o])=>{r[i]&&(r[i].events=o)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([o,s])=>{const[a,c]=o.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=s)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:o,chainNamespace:s,rpcUrls:a}=i,c=a.default.http[0];n[s]||(n[s]=this.createDefaultNamespace(s));const l=`${s}:${o}`,d=n[s];switch(d.chains.push(l),l){case yu.caipNetworkId:d.chains.push(yu.deprecatedCaipNetworkId);break;case xu.caipNetworkId:d.chains.push(xu.deprecatedCaipNetworkId);break}return d?.rpcMap&&c&&(d.rpcMap[o]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await zd.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[o,s]=i.split(":");return`${o}:${s}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class Au{constructor({provider:e,namespace:r}){this.id=ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT,this.name=ethereum_provider_dist_index_es_Fo.ConnectorNamesMap[ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=ethereum_provider_dist_index_es_Fo.ConnectorImageIds[ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=ethereum_provider_dist_index_es_f.getCaipNetworks.bind(ethereum_provider_dist_index_es_f),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=ethereum_provider_dist_index_es_T.state.universalProviderConfigOverride,i=Eu.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return ethereum_provider_dist_index_es_lr.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:n2})}}const n2=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class i2{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=r=>ethereum_provider_dist_index_es_f.getCaipNetworks(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH,type:"AUTH",name:ethereum_provider_dist_index_es_G.CONNECTOR_NAMES.AUTH,provider:e,imageId:ethereum_provider_dist_index_es_Fo.ConnectorImageIds[ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){dist_index_es_Q.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const o=i,s=dist_index_es_Q.state.preferredAccountTypes?.[r.chainNamespace];await o.switchNetwork(r.caipNetworkId);const a=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:s});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof Au);if(!e)throw new Error("WalletConnectConnector not found");return e}}class o2 extends i2{setUniversalProvider(e){this.addConnector(new Au({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,o]=i.split(":");return o}).filter((i,o,s)=>s.indexOf(i)===o)||[];return Promise.resolve({accounts:n.map(i=>index_es_U.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&ethereum_provider_dist_index_es_Te.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(dist_index_es_Q.state.balanceLoading&&e.chainId===ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.id)return{balance:dist_index_es_Q.state.balance||"0.00",symbol:dist_index_es_Q.state.balanceSymbol||""};const i=(await dist_index_es_Q.fetchTokenBalance()).find(o=>o.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&o.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let o="";return ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.chainNamespace===ethereum_provider_dist_index_es_G.CHAIN.SOLANA?o=(await r.request({method:"solana_signMessage",params:{message:Lg.encode(new TextEncoder().encode(n)),pubkey:i}},ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId)).signature:o=await r.request({method:"personal_sign",params:[n,i]},ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.caipNetworkId),{signature:o}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===ethereum_provider_dist_index_es_G.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:ethereum_provider_dist_index_es_ie(r.id)}]})}catch(i){if(i.code===ethereum_provider_dist_index_es_ts.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===ethereum_provider_dist_index_es_ts.ERROR_INVALID_CHAIN_ID||i.code===ethereum_provider_dist_index_es_ts.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===ethereum_provider_dist_index_es_ts.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:ethereum_provider_dist_index_es_ie(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}class s2{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=ethereum_provider_dist_index_es_f.getNetworkData(r)?.requestedCaipNetworks?.find(s=>s.id===n);if(i)return i;const o=ethereum_provider_dist_index_es_f.getNetworkData(r)?.caipNetwork;return o||ethereum_provider_dist_index_es_f.getRequestedCaipNetworks(r).filter(s=>s.chainNamespace===r)?.[0]}return ethereum_provider_dist_index_es_f.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>ethereum_provider_dist_index_es_f.getCaipNetworks(r),this.getActiveChainNamespace=()=>ethereum_provider_dist_index_es_f.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{ethereum_provider_dist_index_es_f.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>ethereum_provider_dist_index_es_f.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>ethereum_provider_dist_index_es_f.state.activeChain===r||!r?ethereum_provider_dist_index_es_f.state.activeCaipAddress:ethereum_provider_dist_index_es_f.getAccountProp("caipAddress",r),this.setClientId=r=>{dist_index_es_oe.setClientId(r)},this.getProvider=r=>ethereum_provider_dist_index_es_e.getProvider(r),this.getProviderType=r=>ethereum_provider_dist_index_es_e.getProviderId(r),this.getPreferredAccountType=r=>dist_index_es_Q.state.preferredAccountTypes?.[r],this.setCaipAddress=(r,n)=>{dist_index_es_Q.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{dist_index_es_Q.setBalance(r,n,i)},this.setProfileName=(r,n)=>{dist_index_es_Q.setProfileName(r,n)},this.setProfileImage=(r,n)=>{dist_index_es_Q.setProfileImage(r,n)},this.setUser=(r,n)=>{dist_index_es_Q.setUser(r,n),ethereum_provider_dist_index_es_T.state.enableEmbedded&&ethereum_provider_dist_index_es_he.close()},this.resetAccount=r=>{dist_index_es_Q.resetAccount(r)},this.setCaipNetwork=r=>{ethereum_provider_dist_index_es_f.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{ethereum_provider_dist_index_es_f.setChainNetworkData(n,{caipNetwork:r})},this.setAllAccounts=(r,n)=>{dist_index_es_Q.setAllAccounts(r,n),ethereum_provider_dist_index_es_T.setHasMultipleAddresses(r?.length>1)},this.setStatus=(r,n)=>{dist_index_es_Q.setStatus(r,n),ethereum_provider_dist_index_es_j.isConnected()?dist_index_es_q.setConnectionStatus("connected"):dist_index_es_q.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>ethereum_provider_dist_index_es_f.getAccountProp("address",r),this.setConnectors=r=>{const n=[...ethereum_provider_dist_index_es_j.state.allConnectors,...r];ethereum_provider_dist_index_es_j.setConnectors(n)},this.fetchIdentity=r=>dist_index_es_oe.fetchIdentity(r),this.getReownName=r=>zd.getNamesForAddress(r),this.getConnectors=()=>ethereum_provider_dist_index_es_j.getConnectors(),this.getConnectorImage=r=>dist_index_es_Oe.getConnectorImage(r),this.setConnectedWalletInfo=(r,n)=>{const i=ethereum_provider_dist_index_es_e.getProviderId(n),o=r?{...r,type:i}:void 0;dist_index_es_Q.setConnectedWalletInfo(o,n)},this.getIsConnectedState=()=>!!ethereum_provider_dist_index_es_f.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{dist_index_es_Q.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{dist_index_es_Q.removeAddressLabel(r,n)},this.getAddress=r=>ethereum_provider_dist_index_es_f.state.activeChain===r||!r?dist_index_es_Q.state.address:ethereum_provider_dist_index_es_f.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>ethereum_provider_dist_index_es_f.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{ethereum_provider_dist_index_es_f.resetNetwork(r)},this.addConnector=r=>{ethereum_provider_dist_index_es_j.addConnector(r)},this.resetWcConnection=()=>{dist_index_es_Y.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{dist_index_es_Q.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{dist_index_es_Q.setSmartAccountDeployed(r,n)},this.setSmartAccountEnabledNetworks=(r,n)=>{ethereum_provider_dist_index_es_f.setSmartAccountEnabledNetworks(r,n)},this.setPreferredAccountType=(r,n)=>{dist_index_es_Q.setPreferredAccountType(r,n)},this.setEIP6963Enabled=r=>{ethereum_provider_dist_index_es_T.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(o=>o.namespace).filter(o=>!!o);if(n?.length)return[...new Set(n)];const i=r?.map(o=>o.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),ethereum_provider_dist_index_es_zt.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ethereum_provider_dist_index_es_$e.setThemeMode(e.themeMode),e.themeVariables&&ethereum_provider_dist_index_es_$e.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");ethereum_provider_dist_index_es_f.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&ethereum_provider_dist_index_es_f.setActiveCaipNetwork(r)}initializeConnectionController(e){dist_index_es_Y.setWcBasic(e.basic??!1)}initializeConnectorController(){ethereum_provider_dist_index_es_j.initialize(this.chainNamespaces)}initializeOptionsController(e){ethereum_provider_dist_index_es_T.setDebug(e.debug!==!1),ethereum_provider_dist_index_es_T.setEnableWalletConnect(e.enableWalletConnect!==!1),ethereum_provider_dist_index_es_T.setEnableWalletGuide(e.enableWalletGuide!==!1),ethereum_provider_dist_index_es_T.setEnableWallets(e.enableWallets!==!1),ethereum_provider_dist_index_es_T.setEIP6963Enabled(e.enableEIP6963!==!1),ethereum_provider_dist_index_es_T.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ethereum_provider_dist_index_es_T.setEnableAuthLogger(e.enableAuthLogger!==!1),ethereum_provider_dist_index_es_T.setCustomRpcUrls(e.customRpcUrls),ethereum_provider_dist_index_es_T.setSdkVersion(e.sdkVersion),ethereum_provider_dist_index_es_T.setProjectId(e.projectId),ethereum_provider_dist_index_es_T.setEnableEmbedded(e.enableEmbedded),ethereum_provider_dist_index_es_T.setAllWallets(e.allWallets),ethereum_provider_dist_index_es_T.setIncludeWalletIds(e.includeWalletIds),ethereum_provider_dist_index_es_T.setExcludeWalletIds(e.excludeWalletIds),ethereum_provider_dist_index_es_T.setFeaturedWalletIds(e.featuredWalletIds),ethereum_provider_dist_index_es_T.setTokens(e.tokens),ethereum_provider_dist_index_es_T.setTermsConditionsUrl(e.termsConditionsUrl),ethereum_provider_dist_index_es_T.setPrivacyPolicyUrl(e.privacyPolicyUrl),ethereum_provider_dist_index_es_T.setCustomWallets(e.customWallets),ethereum_provider_dist_index_es_T.setFeatures(e.features),ethereum_provider_dist_index_es_T.setAllowUnsupportedChain(e.allowUnsupportedChain),ethereum_provider_dist_index_es_T.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ethereum_provider_dist_index_es_T.setDefaultAccountTypes(e.defaultAccountTypes);const r=dist_index_es_q.getPreferredAccountTypes(),n={...ethereum_provider_dist_index_es_T.state.defaultAccountTypes,...r};dist_index_es_Q.setPreferredAccountTypes(n);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),ethereum_provider_dist_index_es_T.setMetadata(e.metadata),ethereum_provider_dist_index_es_T.setDisableAppend(e.disableAppend),ethereum_provider_dist_index_es_T.setEnableEmbedded(e.enableEmbedded),ethereum_provider_dist_index_es_T.setSIWX(e.siwx),!e.projectId){ethereum_provider_dist_index_es_ar.open(ethereum_provider_dist_index_es_Ho.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(s=>s.namespace===ethereum_provider_dist_index_es_G.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ethereum_provider_dist_index_es_T.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return typeof window<"u"&&typeof document<"u"?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=ethereum_provider_dist_index_es_Cn.getUnsupportedNetwork(`${r}:${e}`);ethereum_provider_dist_index_es_f.setActiveCaipNetwork(n)}}getDefaultNetwork(){return ethereum_provider_dist_index_es_Cn.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return ethereum_provider_dist_index_es_Cn.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return ethereum_provider_dist_index_es_Cn.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?ethereum_provider_dist_index_es_Cn.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=ethereum_provider_dist_index_es_f.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId(i?.clientId||null),dist_index_es_q.setConnectedNamespaces([...ethereum_provider_dist_index_es_f.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ethereum_provider_dist_index_es_j.setConnectorId(ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:i,chain:o,caipNetwork:s})=>{const a=ethereum_provider_dist_index_es_f.state.activeChain,c=o||a,l=this.getAdapter(c);if(o&&o!==a&&!s){const p=this.getCaipNetworks().find(v=>v.chainNamespace===o);p&&this.setCaipNetwork(p)}if(!l)throw new Error("Adapter not found");const d=this.getCaipNetwork(c),u=await l.connect({id:e,info:r,type:n,provider:i,chainId:s?.id||d?.id,rpcUrl:s?.rpcUrls?.default?.http?.[0]||d?.rpcUrls?.default?.http?.[0]});if(!u)return;dist_index_es_q.addConnectedNamespace(c),this.syncProvider({...u,chainNamespace:c});const{accounts:h}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(h,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const o=ethereum_provider_dist_index_es_f.state.activeChain,s=this.getAdapter(o);s?.reconnect&&(await s?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),dist_index_es_q.addConnectedNamespace(o))},disconnect:async e=>{const r=e||ethereum_provider_dist_index_es_f.state.activeChain,n=this.getAdapter(r),i=ethereum_provider_dist_index_es_e.getProvider(r),o=ethereum_provider_dist_index_es_e.getProviderId(r);await n?.disconnect({provider:i,providerType:o}),dist_index_es_q.removeConnectedNamespace(r),ethereum_provider_dist_index_es_e.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r)},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>(await this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.signMessage({message:e,address:dist_index_es_Q.state.address,provider:ethereum_provider_dist_index_es_e.getProvider(ethereum_provider_dist_index_es_f.state.activeChain)}))?.signature||"",sendTransaction:async e=>{if(e.chainNamespace===ethereum_provider_dist_index_es_G.CHAIN.EVM){const r=this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain),n=ethereum_provider_dist_index_es_e.getProvider(ethereum_provider_dist_index_es_f.state.activeChain);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}))?.hash||""}return""},estimateGas:async e=>{if(e.chainNamespace===ethereum_provider_dist_index_es_G.CHAIN.EVM){const r=this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain),n=ethereum_provider_dist_index_es_e.getProvider(ethereum_provider_dist_index_es_f.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");return(await r?.estimateGas({...e,provider:n,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.getProfile({address:dist_index_es_Q.state.address,chainId:Number(this.getCaipNetwork()?.id)}))?.profileImage||!1,getEnsAddress:async e=>{const r=this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain),n=this.getCaipNetwork();return n&&(await r?.getEnsAddress({name:e,caipNetwork:n}))?.address||!1},writeContract:async e=>{const r=this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),o=ethereum_provider_dist_index_es_e.getProvider(ethereum_provider_dist_index_es_f.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(await r?.writeContract({...e,caipNetwork:n,provider:o,caipAddress:i}))?.hash},parseUnits:(e,r)=>this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.parseUnits({value:e,decimals:r})??0n,formatUnits:(e,r)=>this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.formatUnits({value:e,decimals:r})??"0",getCapabilities:async e=>await this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.getCapabilities(e),grantPermissions:async e=>await this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.grantPermissions(e),revokePermissions:async e=>{const r=this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain);return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>await this.getAdapter(ethereum_provider_dist_index_es_f.state.activeChain)?.walletGetAssets(e)??{}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},dist_index_es_Y.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(ethereum_provider_dist_index_es_e.getProviderId(ethereum_provider_dist_index_es_f.state.activeChain)===ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=ethereum_provider_dist_index_es_e.getProvider(r),o=ethereum_provider_dist_index_es_e.getProviderId(r);if(e.chainNamespace===ethereum_provider_dist_index_es_f.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:o});else if(this.setCaipNetwork(e),o===ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const s=this.getAddressByChainNamespace(r);s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(o=>{const{chainId:s,chainNamespace:a}=ethereum_provider_dist_index_es_nr.parseCaipAddress(o);return`${a}:${s}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(o=>o.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new o2({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=dist_index_es_q.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(dist_index_es_q.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:o})=>{const s=this.getCaipNetworks().find(l=>l.id===o||l.caipNetworkId===o),a=ethereum_provider_dist_index_es_f.state.activeChain===e,c=ethereum_provider_dist_index_es_f.getAccountProp("address",e);if(s){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:s.id,chainNamespace:e})}else this.setUnsupportedNetwork(o)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const i=dist_index_es_Q.state.address,o=ethereum_provider_dist_index_es_f.state.activeCaipNetwork;!i||!o?.id||this.updateNativeBalance(i,o.id,o.chainNamespace)}),r.on("accountChanged",({address:i,chainId:o})=>{const s=ethereum_provider_dist_index_es_f.state.activeChain===e;s&&o?this.syncAccount({address:i,chainId:o,chainNamespace:e}):s&&ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(i,o,e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=ethereum_provider_dist_index_es_j.getConnectorId(e);switch(this.setStatus("connecting",e),r){case ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ethereum_provider_dist_index_es_G.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){const r=this.getAdapter(e),n=ethereum_provider_dist_index_es_j.getConnectorId(e),i=this.getCaipNetwork(e),o=ethereum_provider_dist_index_es_j.getConnectors(e).find(s=>s.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const s=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});if(s){const a=await r?.getAccounts({namespace:e,id:o.id});a&&a.accounts.length>0?this.setAllAccounts(a.accounts,e):this.setAllAccounts([index_es_U.createAccount(e,s.address,"eoa")],e),this.syncProvider({...s,chainNamespace:e}),await this.syncAccount({...s,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{const n=this.getAdapter(r),i=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.id,s=i.find(a=>{const{chainId:c}=ethereum_provider_dist_index_es_nr.parseCaipAddress(a);return c===o?.toString()})||i[0];if(s){const a=ethereum_provider_dist_index_es_nr.validateCaipAddress(s),{chainId:c,address:l}=ethereum_provider_dist_index_es_nr.parseCaipAddress(a);if(ethereum_provider_dist_index_es_e.setProviderId(r,ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&ethereum_provider_dist_index_es_f.state.activeCaipNetwork&&n?.namespace!==ethereum_provider_dist_index_es_G.CHAIN.EVM){const d=n?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:ethereum_provider_dist_index_es_f.state.activeCaipNetwork});ethereum_provider_dist_index_es_e.setProvider(r,d)}else ethereum_provider_dist_index_es_e.setProvider(r,this.universalProvider);ethereum_provider_dist_index_es_j.setConnectorId(ethereum_provider_dist_index_es_G.CONNECTOR_ID.WALLET_CONNECT,r),dist_index_es_q.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:l,chainId:c,chainNamespace:r})}else this.setStatus("disconnected",r);await ethereum_provider_dist_index_es_f.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){const r=this.universalProvider?.session?.namespaces?.[e]?.accounts?.map(n=>{const{address:i}=ethereum_provider_dist_index_es_nr.parseCaipAddress(n);return i}).filter((n,i,o)=>o.indexOf(n)===i);r&&this.setAllAccounts(r.map(n=>index_es_U.createAccount(e,n,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){ethereum_provider_dist_index_es_e.setProviderId(i,e),ethereum_provider_dist_index_es_e.setProvider(i,r),ethereum_provider_dist_index_es_j.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===ethereum_provider_dist_index_es_f.state.activeChain,n=ethereum_provider_dist_index_es_f.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:o,chainNamespace:s}=e,{chainId:a}=dist_index_es_q.getActiveNetworkProps(),c=o||a,l=ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.name===ethereum_provider_dist_index_es_G.UNSUPPORTED_NETWORK_NAME,d=ethereum_provider_dist_index_es_f.getNetworkProp("supportsAllNetworks",s);if(this.setStatus("connected",s),!(l&&!d)&&c){let u=this.getCaipNetworks().find(v=>v.id.toString()===c.toString()),h=this.getCaipNetworks().find(v=>v.chainNamespace===s);if(!d&&!u&&!h){const v=this.getApprovedCaipNetworkIds()||[],m=v.find(b=>ethereum_provider_dist_index_es_nr.parseCaipNetworkId(b)?.chainId===c.toString()),g=v.find(b=>ethereum_provider_dist_index_es_nr.parseCaipNetworkId(b)?.chainNamespace===s);u=this.getCaipNetworks().find(b=>b.caipNetworkId===m),h=this.getCaipNetworks().find(b=>b.caipNetworkId===g||"deprecatedCaipNetworkId"in b&&b.deprecatedCaipNetworkId===g)}const p=u||h;p?.chainNamespace===ethereum_provider_dist_index_es_f.state.activeChain?ethereum_provider_dist_index_es_T.state.enableNetworkSwitch&&!ethereum_provider_dist_index_es_T.state.allowUnsupportedChain&&ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.name===ethereum_provider_dist_index_es_G.UNSUPPORTED_NETWORK_NAME?ethereum_provider_dist_index_es_f.showUnsupportedChainUI():this.setCaipNetwork(p):r||n&&this.setCaipNetworkOfNamespace(n,s),this.syncConnectedWalletInfo(s),Ja.isLowerCaseMatch(i,dist_index_es_Q.state.address)||this.syncAccountInfo(i,p?.id,s),r?await this.syncBalance({address:i,chainId:p?.id,chainNamespace:s}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:s})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),o=r||i?.split(":")[1];if(!o)return;const s=`${n}:${o}:${e}`;this.setCaipAddress(s,n),await this.syncIdentity({address:e,chainId:o,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=ethereum_provider_dist_index_es_j.getConnectorId(e),n=ethereum_provider_dist_index_es_e.getProviderId(e);if(n===ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_ANNOUNCED||n===ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_INJECTED){if(r){const i=this.getConnectors().find(o=>o.id===r);if(i){const{info:o,name:s,imageUrl:a}=i,c=a||this.getConnectorImage(i);this.setConnectedWalletInfo({name:s,icon:c,...o},e)}}}else if(n===ethereum_provider_dist_index_es_Be.CONNECTOR_TYPE_WALLET_CONNECT){const i=ethereum_provider_dist_index_es_e.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r)if(r===ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!al.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),o=ethereum_provider_dist_index_es_f.getCaipNetworkByNamespace(n,r);if(i){const s=await i.getBalance({address:e,chainId:r,caipNetwork:o,tokens:this.options.tokens});this.setBalance(s.balance,s.symbol,n)}}async initializeUniversalAdapter(){const e=cg.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};ethereum_provider_dist_index_es_T.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await universal_provider_dist_index_es_x.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{dist_index_es_Y.setUri(e)}),this.universalProvider.on("connect",dist_index_es_Y.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),dist_index_es_Y.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const r=this.getCaipNetworks().find(i=>i.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}n?.id!==r?.id&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(Eu.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&index_es_U.isCaipAddress(n[0])&&this.syncAccount(ethereum_provider_dist_index_es_nr.parseCaipAddress(n[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&index_es_U.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){ethereum_provider_dist_index_es_le.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(ethereum_provider_dist_index_es_Ho.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:o,alertErrorKey:s}=i??{};if(n&&o&&!this.reportedAlertErrors[n]){const a=ethereum_provider_dist_index_es_Ho.ALERT_ERRORS[s];a&&(ethereum_provider_dist_index_es_ar.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&dist_index_es_Y.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return ethereum_provider_dist_index_es_he.open({...e,data:{swap:e.arguments}})}return ethereum_provider_dist_index_es_he.open(e)}async close(){await this.injectModalUi(),ethereum_provider_dist_index_es_he.close()}setLoading(e,r){ethereum_provider_dist_index_es_he.setLoading(e,r)}async disconnect(e){await dist_index_es_Y.disconnect(e)}getError(){return""}getChainId(){return ethereum_provider_dist_index_es_f.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){ethereum_provider_dist_index_es_ar.open(ethereum_provider_dist_index_es_Ho.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await ethereum_provider_dist_index_es_f.switchActiveNetwork(r)}getWalletProvider(){return ethereum_provider_dist_index_es_f.state.activeChain?ethereum_provider_dist_index_es_e.state.providers[ethereum_provider_dist_index_es_f.state.activeChain]:null}getWalletProviderType(){return ethereum_provider_dist_index_es_e.getProviderId(ethereum_provider_dist_index_es_f.state.activeChain)}subscribeProviders(e){return ethereum_provider_dist_index_es_e.subscribeProviders(e)}getThemeMode(){return ethereum_provider_dist_index_es_$e.state.themeMode}getThemeVariables(){return ethereum_provider_dist_index_es_$e.state.themeVariables}setThemeMode(e){ethereum_provider_dist_index_es_$e.setThemeMode(e),pu(ethereum_provider_dist_index_es_$e.state.themeMode)}setTermsConditionsUrl(e){ethereum_provider_dist_index_es_T.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ethereum_provider_dist_index_es_T.setPrivacyPolicyUrl(e)}setThemeVariables(e){ethereum_provider_dist_index_es_$e.setThemeVariables(e),Og(ethereum_provider_dist_index_es_$e.state.themeVariables)}subscribeTheme(e){return ethereum_provider_dist_index_es_$e.subscribe(e)}getWalletInfo(){return dist_index_es_Q.state.connectedWalletInfo}getAccount(e){const r=ethereum_provider_dist_index_es_j.getAuthConnector(e),n=ethereum_provider_dist_index_es_f.getAccountData(e),i=ethereum_provider_dist_index_es_f.state.activeChain;if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:index_es_U.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user?{...n.user,username:dist_index_es_q.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:n.preferredAccountTypes?.[e||i],isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?ethereum_provider_dist_index_es_f.subscribeChainProp("accountState",n,r):ethereum_provider_dist_index_es_f.subscribe(n),ethereum_provider_dist_index_es_j.subscribe(n)}subscribeNetwork(e){return ethereum_provider_dist_index_es_f.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e){return dist_index_es_Q.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){dist_index_es_Q.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){ethereum_provider_dist_index_es_f.subscribeKey("activeCaipNetwork",e)}getState(){return ethereum_provider_dist_index_es_zt.state}subscribeState(e){return ethereum_provider_dist_index_es_zt.subscribe(e)}showErrorMessage(e){ethereum_provider_dist_index_es_Ee.showError(e)}showSuccessMessage(e){ethereum_provider_dist_index_es_Ee.showSuccess(e)}getEvent(){return{...ethereum_provider_dist_index_es_le.state}}subscribeEvents(e){return ethereum_provider_dist_index_es_le.subscribe(e)}replace(e){dist_index_es_D.replace(e)}redirect(e){dist_index_es_D.push(e)}popTransactionStack(e){dist_index_es_D.popTransactionStack(e)}isOpen(){return ethereum_provider_dist_index_es_he.state.open}isTransactionStackEmpty(){return dist_index_es_D.state.transactionStack.length===0}isTransactionShouldReplaceView(){return dist_index_es_D.state.transactionStack[dist_index_es_D.state.transactionStack.length-1]?.replace}static getInstance(){return this.instance}updateFeatures(e){ethereum_provider_dist_index_es_T.setFeatures(e)}updateOptions(e){const n={...ethereum_provider_dist_index_es_T.state||{},...e};ethereum_provider_dist_index_es_T.setOptions(n)}setConnectMethodsOrder(e){ethereum_provider_dist_index_es_T.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ethereum_provider_dist_index_es_T.setWalletFeaturesOrder(e)}setCollapseWallets(e){ethereum_provider_dist_index_es_T.setCollapseWallets(e)}setSocialsOrder(e){ethereum_provider_dist_index_es_T.setSocialsOrder(e)}getConnectMethodsOrder(){return ethereum_provider_dist_index_es_Lr.getConnectOrderMethod(ethereum_provider_dist_index_es_T.state.features,ethereum_provider_dist_index_es_j.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||ethereum_provider_dist_index_es_f.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&ethereum_provider_dist_index_es_f.removeNetwork(e,r)}}let Su=!1;class _u extends s2{async open(e){ethereum_provider_dist_index_es_j.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&dist_index_es_Y.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!Su&&index_es_U.isClient()){if(await Promise.resolve().then(function(){return bm}),await Promise.resolve().then(function(){return Bm}),!document.querySelector("w3m-modal")){const r=document.createElement("w3m-modal");!ethereum_provider_dist_index_es_T.state.disableAppend&&!ethereum_provider_dist_index_es_T.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",r)}Su=!0}}}const a2="1.7.3";function c2(t){return new _u({...t,basic:!0,sdkVersion:`html-core-${a2}`})}var l2=Object.freeze({__proto__:null,createAppKit:c2,AppKit:_u}),d2=Object.defineProperty,u2=Object.defineProperties,h2=Object.getOwnPropertyDescriptors,Iu=Object.getOwnPropertySymbols,p2=Object.prototype.hasOwnProperty,f2=Object.prototype.propertyIsEnumerable,Nu=(t,e,r)=>e in t?d2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g2=(t,e)=>{for(var r in e||(e={}))p2.call(e,r)&&Nu(t,r,e[r]);if(Iu)for(var r of Iu(e))f2.call(e,r)&&Nu(t,r,e[r]);return t},w2=(t,e)=>u2(t,h2(e));function m2(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const b2=t=>{const[e,r]=t.split(":");return ethereum_provider_dist_index_es_n({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function v2(t){var e,r,n,i,o,s,a;const c=(e=t.chains)==null?void 0:e.map(b2).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(u=>{var h;return u.id===((h=t.defaultChain)==null?void 0:h.id)}),d={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:m2(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:w2(g2({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((o=t.metadata)==null?void 0:o.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((s=t.mobileWallets)!=null&&s.length||(a=t.desktopWallets)!=null&&a.length){const u=[...(t.mobileWallets||[]).map(v=>({id:v.id,name:v.name,links:v.links})),...(t.desktopWallets||[]).map(v=>({id:v.id,name:v.name,links:{native:v.links.native,universal:v.links.universal}}))],h=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],p=u.filter(v=>!h.includes(v.id));p.length&&(d.customWallets=p)}return d}var C2=Object.freeze({__proto__:null,convertWCMToAppKitOptions:v2});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const y2={attribute:!0,type:String,converter:ethereum_provider_dist_index_es_Jo,reflect:!1,hasChanged:index_es_oc},x2=(t=y2,e,r)=>{const{kind:n,metadata:i}=r;let o=globalThis.litPropertyMetadata.get(i);if(o===void 0&&globalThis.litPropertyMetadata.set(i,o=new Map),n==="setter"&&((t=Object.create(t)).wrapped=!0),o.set(r.name,t),n==="accessor"){const{name:s}=r;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(s,c,t)},init(a){return a!==void 0&&this.C(s,void 0,t,a),a}}}if(n==="setter"){const{name:s}=r;return function(a){const c=this[s];e.call(this,a),this.requestUpdate(s,c,t)}}throw Error("Unsupported decorator location: "+n)};function ethereum_provider_dist_index_es_C(t){return(e,r)=>typeof r=="object"?x2(t,e,r):((n,i,o)=>{const s=i.hasOwnProperty(o);return i.constructor.createProperty(o,n),s?Object.getOwnPropertyDescriptor(i,o):void 0})(t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ethereum_provider_dist_index_es_H(t){return ethereum_provider_dist_index_es_C({...t,state:!0,attribute:!1})}var E2=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`,ethereum_provider_dist_index_es_lt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Ze=class extends ethereum_provider_dist_index_es_V{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,3)};
    `,ethereum_provider_dist_index_es_w`<slot></slot>`}};ethereum_provider_dist_index_es_Ze.styles=[ethereum_provider_dist_index_es_we,E2],ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"flexDirection",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"flexWrap",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"flexBasis",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"flexGrow",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"flexShrink",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"alignItems",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"justifyContent",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"columnGap",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"rowGap",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"gap",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"padding",void 0),ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Ze.prototype,"margin",void 0),ethereum_provider_dist_index_es_Ze=ethereum_provider_dist_index_es_lt([ethereum_provider_dist_index_es_F("wui-flex")],ethereum_provider_dist_index_es_Ze);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ethereum_provider_dist_index_es_re=t=>t??ethereum_provider_dist_index_es_Ne;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const A2=t=>t===null||typeof t!="object"&&typeof t!="function",S2=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ku={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},index_es_pc=t=>(...e)=>({_$litDirective$:t,values:e});class Tu{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dist_index_es_xi=(t,e)=>{const r=t._$AN;if(r===void 0)return!1;for(const n of r)n._$AO?.(e,!1),dist_index_es_xi(n,e);return!0},dist_index_es_Is=t=>{let e,r;do{if((e=t._$AM)===void 0)break;r=e._$AN,r.delete(t),t=e}while(r?.size===0)},Ou=t=>{for(let e;e=t._$AM;t=e){let r=e._$AN;if(r===void 0)e._$AN=r=new Set;else if(r.has(t))break;r.add(t),N2(e)}};function _2(t){this._$AN!==void 0?(dist_index_es_Is(this),this._$AM=t,Ou(this)):this._$AM=t}function I2(t,e=!1,r=0){const n=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(n))for(let o=r;o<n.length;o++)dist_index_es_xi(n[o],!1),dist_index_es_Is(n[o]);else n!=null&&(dist_index_es_xi(n,!1),dist_index_es_Is(n));else dist_index_es_xi(this,t)}const N2=t=>{t.type==ku.CHILD&&(t._$AP??=I2,t._$AQ??=_2)};class $u extends Tu{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,r,n){super._$AT(e,r,n),Ou(this),this.isConnected=e._$AU}_$AO(e,r=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),r&&(dist_index_es_xi(this,e),dist_index_es_Is(this))}setValue(e){if(S2(this._$Ct))this._$Ct._$AI(e,this);else{const r=[...this._$Ct._$AH];r[this._$Ci]=e,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class k2{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class T2{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(e=>this.Z=e)}resume(){this.Z?.(),this.Y=this.Z=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pu=t=>!A2(t)&&typeof t.then=="function",Bu=1073741823;class O2 extends $u{constructor(){super(...arguments),this._$Cwt=Bu,this._$Cbt=[],this._$CK=new k2(this),this._$CX=new T2}render(...e){return e.find(r=>!Pu(r))??ethereum_provider_dist_index_es_Yt}update(e,r){const n=this._$Cbt;let i=n.length;this._$Cbt=r;const o=this._$CK,s=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<r.length&&!(a>this._$Cwt);a++){const c=r[a];if(!Pu(c))return this._$Cwt=a,c;a<i&&c===n[a]||(this._$Cwt=Bu,i=0,Promise.resolve(c).then(async l=>{for(;s.get();)await s.get();const d=o.deref();if(d!==void 0){const u=d._$Cbt.indexOf(c);u>-1&&u<d._$Cwt&&(d._$Cwt=u,d.setValue(l))}}))}return ethereum_provider_dist_index_es_Yt}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const $2=index_es_pc(O2);class P2{constructor(){this.cache=new Map}set(e,r){this.cache.set(e,r)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const index_es_fc=new P2;var B2=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`,dist_index_es_Ei=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const Ru={add:async()=>(await Promise.resolve().then(function(){return Lm})).addSvg,allWallets:async()=>(await Promise.resolve().then(function(){return Mm})).allWalletsSvg,arrowBottomCircle:async()=>(await Promise.resolve().then(function(){return zm})).arrowBottomCircleSvg,appStore:async()=>(await Promise.resolve().then(function(){return jm})).appStoreSvg,apple:async()=>(await Promise.resolve().then(function(){return Hm})).appleSvg,arrowBottom:async()=>(await Promise.resolve().then(function(){return Zm})).arrowBottomSvg,arrowLeft:async()=>(await Promise.resolve().then(function(){return qm})).arrowLeftSvg,arrowRight:async()=>(await Promise.resolve().then(function(){return Ym})).arrowRightSvg,arrowTop:async()=>(await Promise.resolve().then(function(){return Jm})).arrowTopSvg,bank:async()=>(await Promise.resolve().then(function(){return e3})).bankSvg,browser:async()=>(await Promise.resolve().then(function(){return r3})).browserSvg,card:async()=>(await Promise.resolve().then(function(){return i3})).cardSvg,checkmark:async()=>(await Promise.resolve().then(function(){return s3})).checkmarkSvg,checkmarkBold:async()=>(await Promise.resolve().then(function(){return c3})).checkmarkBoldSvg,chevronBottom:async()=>(await Promise.resolve().then(function(){return d3})).chevronBottomSvg,chevronLeft:async()=>(await Promise.resolve().then(function(){return h3})).chevronLeftSvg,chevronRight:async()=>(await Promise.resolve().then(function(){return f3})).chevronRightSvg,chevronTop:async()=>(await Promise.resolve().then(function(){return w3})).chevronTopSvg,chromeStore:async()=>(await Promise.resolve().then(function(){return b3})).chromeStoreSvg,clock:async()=>(await Promise.resolve().then(function(){return C3})).clockSvg,close:async()=>(await Promise.resolve().then(function(){return x3})).closeSvg,compass:async()=>(await Promise.resolve().then(function(){return A3})).compassSvg,coinPlaceholder:async()=>(await Promise.resolve().then(function(){return _3})).coinPlaceholderSvg,copy:async()=>(await Promise.resolve().then(function(){return N3})).copySvg,cursor:async()=>(await Promise.resolve().then(function(){return T3})).cursorSvg,cursorTransparent:async()=>(await Promise.resolve().then(function(){return $3})).cursorTransparentSvg,desktop:async()=>(await Promise.resolve().then(function(){return B3})).desktopSvg,disconnect:async()=>(await Promise.resolve().then(function(){return L3})).disconnectSvg,discord:async()=>(await Promise.resolve().then(function(){return M3})).discordSvg,etherscan:async()=>(await Promise.resolve().then(function(){return z3})).etherscanSvg,extension:async()=>(await Promise.resolve().then(function(){return j3})).extensionSvg,externalLink:async()=>(await Promise.resolve().then(function(){return H3})).externalLinkSvg,facebook:async()=>(await Promise.resolve().then(function(){return Z3})).facebookSvg,farcaster:async()=>(await Promise.resolve().then(function(){return q3})).farcasterSvg,filters:async()=>(await Promise.resolve().then(function(){return Y3})).filtersSvg,github:async()=>(await Promise.resolve().then(function(){return J3})).githubSvg,google:async()=>(await Promise.resolve().then(function(){return e5})).googleSvg,helpCircle:async()=>(await Promise.resolve().then(function(){return r5})).helpCircleSvg,image:async()=>(await Promise.resolve().then(function(){return i5})).imageSvg,id:async()=>(await Promise.resolve().then(function(){return s5})).idSvg,infoCircle:async()=>(await Promise.resolve().then(function(){return c5})).infoCircleSvg,lightbulb:async()=>(await Promise.resolve().then(function(){return d5})).lightbulbSvg,mail:async()=>(await Promise.resolve().then(function(){return h5})).mailSvg,mobile:async()=>(await Promise.resolve().then(function(){return f5})).mobileSvg,more:async()=>(await Promise.resolve().then(function(){return w5})).moreSvg,networkPlaceholder:async()=>(await Promise.resolve().then(function(){return b5})).networkPlaceholderSvg,nftPlaceholder:async()=>(await Promise.resolve().then(function(){return C5})).nftPlaceholderSvg,off:async()=>(await Promise.resolve().then(function(){return x5})).offSvg,playStore:async()=>(await Promise.resolve().then(function(){return A5})).playStoreSvg,plus:async()=>(await Promise.resolve().then(function(){return _5})).plusSvg,qrCode:async()=>(await Promise.resolve().then(function(){return N5})).qrCodeIcon,recycleHorizontal:async()=>(await Promise.resolve().then(function(){return T5})).recycleHorizontalSvg,refresh:async()=>(await Promise.resolve().then(function(){return $5})).refreshSvg,search:async()=>(await Promise.resolve().then(function(){return B5})).searchSvg,send:async()=>(await Promise.resolve().then(function(){return L5})).sendSvg,swapHorizontal:async()=>(await Promise.resolve().then(function(){return M5})).swapHorizontalSvg,swapHorizontalMedium:async()=>(await Promise.resolve().then(function(){return z5})).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await Promise.resolve().then(function(){return j5})).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await Promise.resolve().then(function(){return H5})).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await Promise.resolve().then(function(){return Z5})).swapVerticalSvg,telegram:async()=>(await Promise.resolve().then(function(){return q5})).telegramSvg,threeDots:async()=>(await Promise.resolve().then(function(){return Y5})).threeDotsSvg,twitch:async()=>(await Promise.resolve().then(function(){return J5})).twitchSvg,twitter:async()=>(await Promise.resolve().then(function(){return x0})).xSvg,twitterIcon:async()=>(await Promise.resolve().then(function(){return tb})).twitterIconSvg,verify:async()=>(await Promise.resolve().then(function(){return nb})).verifySvg,verifyFilled:async()=>(await Promise.resolve().then(function(){return ob})).verifyFilledSvg,wallet:async()=>(await Promise.resolve().then(function(){return ab})).walletSvg,walletConnect:async()=>(await Promise.resolve().then(function(){return index_es_Yc})).walletConnectSvg,walletConnectLightBrown:async()=>(await Promise.resolve().then(function(){return index_es_Yc})).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await Promise.resolve().then(function(){return index_es_Yc})).walletConnectBrownSvg,walletPlaceholder:async()=>(await Promise.resolve().then(function(){return hb})).walletPlaceholderSvg,warningCircle:async()=>(await Promise.resolve().then(function(){return fb})).warningCircleSvg,x:async()=>(await Promise.resolve().then(function(){return x0})).xSvg,info:async()=>(await Promise.resolve().then(function(){return wb})).infoSvg,exclamationTriangle:async()=>(await Promise.resolve().then(function(){return bb})).exclamationTriangleSvg,reown:async()=>(await Promise.resolve().then(function(){return Cb})).reownSvg};async function R2(t){if(index_es_fc.has(t))return index_es_fc.get(t);const r=(Ru[t]??Ru.copy)();return index_es_fc.set(t,r),r}let ethereum_provider_dist_index_es_zr=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,ethereum_provider_dist_index_es_w`${$2(R2(this.name),ethereum_provider_dist_index_es_w`<div class="fallback"></div>`)}`}};ethereum_provider_dist_index_es_zr.styles=[ethereum_provider_dist_index_es_we,dist_index_es_li,B2],dist_index_es_Ei([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_zr.prototype,"size",void 0),dist_index_es_Ei([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_zr.prototype,"name",void 0),dist_index_es_Ei([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_zr.prototype,"color",void 0),dist_index_es_Ei([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_zr.prototype,"aspectRatio",void 0),ethereum_provider_dist_index_es_zr=dist_index_es_Ei([ethereum_provider_dist_index_es_F("wui-icon")],ethereum_provider_dist_index_es_zr);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lu=index_es_pc(class extends Tu{constructor(t){if(super(t),t.type!==ku.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in e)e[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(e)}const r=t.element.classList;for(const n of this.st)n in e||(r.remove(n),this.st.delete(n));for(const n in e){const i=!!e[n];i===this.st.has(n)||this.nt?.has(n)||(i?(r.add(n),this.st.add(n)):(r.remove(n),this.st.delete(n)))}return ethereum_provider_dist_index_es_Yt}});var L2=ethereum_provider_dist_index_es_te`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`,dist_index_es_Ai=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Wr=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,ethereum_provider_dist_index_es_w`<slot class=${Lu(e)}></slot>`}};ethereum_provider_dist_index_es_Wr.styles=[ethereum_provider_dist_index_es_we,L2],dist_index_es_Ai([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Wr.prototype,"variant",void 0),dist_index_es_Ai([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Wr.prototype,"color",void 0),dist_index_es_Ai([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Wr.prototype,"align",void 0),dist_index_es_Ai([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Wr.prototype,"lineClamp",void 0),ethereum_provider_dist_index_es_Wr=dist_index_es_Ai([ethereum_provider_dist_index_es_F("wui-text")],ethereum_provider_dist_index_es_Wr);var U2=ethereum_provider_dist_index_es_te`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`,ethereum_provider_dist_index_es_Xt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_At=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,r=this.size==="lg",n=this.size==="xl",i=r?"12%":"16%",o=r?"xxs":n?"s":"3xl",s=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:s&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${l};
       --local-bg-mix: ${c||s?"100%":i};
       --local-border-radius: var(--wui-border-radius-${o});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,ethereum_provider_dist_index_es_w` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};dist_index_es_At.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,U2],ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"size",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"backgroundColor",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"iconColor",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"iconSize",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"background",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C({type:Boolean})],dist_index_es_At.prototype,"border",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"borderColor",void 0),ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_C()],dist_index_es_At.prototype,"icon",void 0),dist_index_es_At=ethereum_provider_dist_index_es_Xt([ethereum_provider_dist_index_es_F("wui-icon-box")],dist_index_es_At);var M2=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`,dist_index_es_Ns=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_In=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,ethereum_provider_dist_index_es_w`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};ethereum_provider_dist_index_es_In.styles=[ethereum_provider_dist_index_es_we,dist_index_es_li,M2],dist_index_es_Ns([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_In.prototype,"src",void 0),dist_index_es_Ns([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_In.prototype,"alt",void 0),dist_index_es_Ns([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_In.prototype,"size",void 0),ethereum_provider_dist_index_es_In=dist_index_es_Ns([ethereum_provider_dist_index_es_F("wui-image")],ethereum_provider_dist_index_es_In);var D2=ethereum_provider_dist_index_es_te`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`,ethereum_provider_dist_index_es_jr=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Jt=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),ethereum_provider_dist_index_es_w`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?ethereum_provider_dist_index_es_w`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?ethereum_provider_dist_index_es_w`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:ethereum_provider_dist_index_es_w`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};ethereum_provider_dist_index_es_Jt.styles=[ethereum_provider_dist_index_es_De,ethereum_provider_dist_index_es_we,D2],ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Jt.prototype,"size",void 0),ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Jt.prototype,"name",void 0),ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Jt.prototype,"imageSrc",void 0),ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Jt.prototype,"walletIcon",void 0),ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_Jt.prototype,"installed",void 0),ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Jt.prototype,"badgeSize",void 0),ethereum_provider_dist_index_es_Jt=ethereum_provider_dist_index_es_jr([ethereum_provider_dist_index_es_F("wui-wallet-image")],ethereum_provider_dist_index_es_Jt);var z2=ethereum_provider_dist_index_es_te`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`,Uu=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const index_es_gc=4;let dist_index_es_ks=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<index_es_gc;return ethereum_provider_dist_index_es_w`${this.walletImages.slice(0,index_es_gc).map(({src:r,walletName:n})=>ethereum_provider_dist_index_es_w`
            <wui-wallet-image
              size="inherit"
              imageSrc=${r}
              name=${ethereum_provider_dist_index_es_re(n)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(index_es_gc-this.walletImages.length)].map(()=>ethereum_provider_dist_index_es_w` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};dist_index_es_ks.styles=[ethereum_provider_dist_index_es_we,z2],Uu([ethereum_provider_dist_index_es_C({type:Array})],dist_index_es_ks.prototype,"walletImages",void 0),dist_index_es_ks=Uu([ethereum_provider_dist_index_es_F("wui-all-wallets-image")],dist_index_es_ks);var W2=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`,index_es_wc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Si=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"mini-700":"micro-700";return ethereum_provider_dist_index_es_w`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};dist_index_es_Si.styles=[ethereum_provider_dist_index_es_we,W2],index_es_wc([ethereum_provider_dist_index_es_C()],dist_index_es_Si.prototype,"variant",void 0),index_es_wc([ethereum_provider_dist_index_es_C()],dist_index_es_Si.prototype,"size",void 0),dist_index_es_Si=index_es_wc([ethereum_provider_dist_index_es_F("wui-tag")],dist_index_es_Si);var j2=ethereum_provider_dist_index_es_te`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`,dist_index_es_tt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_je=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return ethereum_provider_dist_index_es_w`
      <button ?disabled=${this.disabled} tabindex=${ethereum_provider_dist_index_es_re(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?ethereum_provider_dist_index_es_w` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?ethereum_provider_dist_index_es_w` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?ethereum_provider_dist_index_es_w`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?ethereum_provider_dist_index_es_w`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?ethereum_provider_dist_index_es_w`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?ethereum_provider_dist_index_es_w`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?ethereum_provider_dist_index_es_w`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};ethereum_provider_dist_index_es_je.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,j2],dist_index_es_tt([ethereum_provider_dist_index_es_C({type:Array})],ethereum_provider_dist_index_es_je.prototype,"walletImages",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"imageSrc",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"name",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"tagLabel",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"tagVariant",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"icon",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"walletIcon",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_je.prototype,"tabIdx",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_je.prototype,"installed",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_je.prototype,"disabled",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_je.prototype,"showAllWallets",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_je.prototype,"loading",void 0),dist_index_es_tt([ethereum_provider_dist_index_es_C({type:String})],ethereum_provider_dist_index_es_je.prototype,"loadingSpinnerColor",void 0),ethereum_provider_dist_index_es_je=dist_index_es_tt([ethereum_provider_dist_index_es_F("wui-list-wallet")],ethereum_provider_dist_index_es_je);var ethereum_provider_dist_index_es_i=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Nn=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.count=ethereum_provider_dist_index_es_W.state.count,this.isFetchingRecommendedWallets=ethereum_provider_dist_index_es_W.state.isFetchingRecommendedWallets,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e),ethereum_provider_dist_index_es_W.subscribeKey("count",e=>this.count=e),ethereum_provider_dist_index_es_W.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(a=>a.id==="walletConnect"),{allWallets:r}=ethereum_provider_dist_index_es_T.state;if(!e||r==="HIDE"||r==="ONLY_MOBILE"&&!index_es_U.isMobile())return null;const n=ethereum_provider_dist_index_es_W.state.featured.length,i=this.count+n,o=i<10?i:Math.floor(i/10)*10,s=o<i?`${o}+`:`${o}`;return ethereum_provider_dist_index_es_w`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${s}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),dist_index_es_D.push("AllWallets")}};ethereum_provider_dist_index_es_i([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Nn.prototype,"tabIdx",void 0),ethereum_provider_dist_index_es_i([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Nn.prototype,"connectors",void 0),ethereum_provider_dist_index_es_i([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Nn.prototype,"count",void 0),ethereum_provider_dist_index_es_i([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Nn.prototype,"isFetchingRecommendedWallets",void 0),ethereum_provider_dist_index_es_Nn=ethereum_provider_dist_index_es_i([ethereum_provider_dist_index_es_F("w3m-all-wallets-widget")],ethereum_provider_dist_index_es_Nn);var index_es_mc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Ts=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(r=>r.type==="ANNOUNCED");return e?.length?ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${e.filter(ethereum_provider_dist_index_es_Kt.showConnector).map(r=>ethereum_provider_dist_index_es_w`
              <wui-list-wallet
                imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getConnectorImage(r))}
                name=${r.name??"Unknown"}
                @click=${()=>this.onConnector(r)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${r.id}`}
                .installed=${!0}
                tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?index_es_U.isMobile()?dist_index_es_D.push("AllWallets"):dist_index_es_D.push("ConnectingWalletConnect"):dist_index_es_D.push("ConnectingExternal",{connector:e})}};index_es_mc([ethereum_provider_dist_index_es_C()],dist_index_es_Ts.prototype,"tabIdx",void 0),index_es_mc([ethereum_provider_dist_index_es_H()],dist_index_es_Ts.prototype,"connectors",void 0),dist_index_es_Ts=index_es_mc([ethereum_provider_dist_index_es_F("w3m-connect-announced-widget")],dist_index_es_Ts);var dist_index_es_Os=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Ii=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.loading=!1,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e)),index_es_U.isTelegram()&&index_es_U.isIos()&&(this.loading=!dist_index_es_Y.state.wcUri,this.unsubscribe.push(dist_index_es_Y.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=ethereum_provider_dist_index_es_T.state;if(!e?.length)return this.style.cssText="display: none",null;const r=this.filterOutDuplicateWallets(e);return ethereum_provider_dist_index_es_w`<wui-flex flexDirection="column" gap="xs">
      ${r.map(n=>ethereum_provider_dist_index_es_w`
          <wui-list-wallet
            imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getWalletImage(n))}
            name=${n.name??"Unknown"}
            @click=${()=>this.onConnectWallet(n)}
            data-testid=${`wallet-selector-${n.id}`}
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const r=dist_index_es_q.getRecentWallets(),n=this.connectors.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),o=n.concat(i);if(o.includes("io.metamask.mobile")&&index_es_U.isMobile()){const a=o.indexOf("io.metamask.mobile");o[a]="io.metamask"}return e.filter(a=>!o.includes(String(a?.rdns)))}onConnectWallet(e){this.loading||dist_index_es_D.push("ConnectingWalletConnect",{wallet:e})}};dist_index_es_Os([ethereum_provider_dist_index_es_C()],dist_index_es_Ii.prototype,"tabIdx",void 0),dist_index_es_Os([ethereum_provider_dist_index_es_H()],dist_index_es_Ii.prototype,"connectors",void 0),dist_index_es_Os([ethereum_provider_dist_index_es_H()],dist_index_es_Ii.prototype,"loading",void 0),dist_index_es_Ii=dist_index_es_Os([ethereum_provider_dist_index_es_F("w3m-connect-custom-widget")],dist_index_es_Ii);var index_es_bc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_$s=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const n=this.connectors.filter(i=>i.type==="EXTERNAL").filter(ethereum_provider_dist_index_es_Kt.showConnector).filter(i=>i.id!==ethereum_provider_dist_index_es_G.CONNECTOR_ID.COINBASE_SDK);return n?.length?ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${n.map(i=>ethereum_provider_dist_index_es_w`
            <wui-list-wallet
              imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getConnectorImage(i))}
              .installed=${!0}
              name=${i.name??"Unknown"}
              data-testid=${`wallet-selector-external-${i.id}`}
              @click=${()=>this.onConnector(i)}
              tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){dist_index_es_D.push("ConnectingExternal",{connector:e})}};index_es_bc([ethereum_provider_dist_index_es_C()],dist_index_es_$s.prototype,"tabIdx",void 0),index_es_bc([ethereum_provider_dist_index_es_H()],dist_index_es_$s.prototype,"connectors",void 0),dist_index_es_$s=index_es_bc([ethereum_provider_dist_index_es_F("w3m-connect-external-widget")],dist_index_es_$s);var index_es_vc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Ps=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(e=>ethereum_provider_dist_index_es_w`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${e.id}`}
              imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getWalletImage(e))}
              name=${e.name??"Unknown"}
              @click=${()=>this.onConnectWallet(e)}
              tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){ethereum_provider_dist_index_es_j.selectWalletConnector(e)}};index_es_vc([ethereum_provider_dist_index_es_C()],dist_index_es_Ps.prototype,"tabIdx",void 0),index_es_vc([ethereum_provider_dist_index_es_C()],dist_index_es_Ps.prototype,"wallets",void 0),dist_index_es_Ps=index_es_vc([ethereum_provider_dist_index_es_F("w3m-connect-featured-widget")],dist_index_es_Ps);var index_es_Cc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Bs=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const e=this.connectors;return!e?.length||e.length===1&&e[0]?.name==="Browser Wallet"&&!index_es_U.isMobile()?(this.style.cssText="display: none",null):ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(r=>{const n=r.info?.rdns;return!index_es_U.isMobile()&&r.name==="Browser Wallet"?null:!n&&!dist_index_es_Y.checkInstalled()?(this.style.cssText="display: none",null):ethereum_provider_dist_index_es_Kt.showConnector(r)?ethereum_provider_dist_index_es_w`
            <wui-list-wallet
              imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${r.id}`}
              @click=${()=>this.onConnector(r)}
              tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
            >
            </wui-list-wallet>
          `:null})}
      </wui-flex>
    `}onConnector(e){ethereum_provider_dist_index_es_j.setActiveConnector(e),dist_index_es_D.push("ConnectingExternal",{connector:e})}};index_es_Cc([ethereum_provider_dist_index_es_C()],index_es_Bs.prototype,"tabIdx",void 0),index_es_Cc([ethereum_provider_dist_index_es_C()],index_es_Bs.prototype,"connectors",void 0),index_es_Bs=index_es_Cc([ethereum_provider_dist_index_es_F("w3m-connect-injected-widget")],index_es_Bs);var index_es_yc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Rs=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(r=>r.type==="MULTI_CHAIN"&&r.name!=="WalletConnect");return e?.length?ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(r=>ethereum_provider_dist_index_es_w`
            <wui-list-wallet
              imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${r.id}`}
              @click=${()=>this.onConnector(r)}
              tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){ethereum_provider_dist_index_es_j.setActiveConnector(e),dist_index_es_D.push("ConnectingMultiChain")}};index_es_yc([ethereum_provider_dist_index_es_C()],dist_index_es_Rs.prototype,"tabIdx",void 0),index_es_yc([ethereum_provider_dist_index_es_H()],dist_index_es_Rs.prototype,"connectors",void 0),dist_index_es_Rs=index_es_yc([ethereum_provider_dist_index_es_F("w3m-connect-multi-chain-widget")],dist_index_es_Rs);var dist_index_es_Ls=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Ni=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.loading=!1,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e)),index_es_U.isTelegram()&&index_es_U.isIos()&&(this.loading=!dist_index_es_Y.state.wcUri,this.unsubscribe.push(dist_index_es_Y.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const r=dist_index_es_q.getRecentWallets().filter(n=>!ethereum_provider_dist_index_es_Lr.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n));return r.length?ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${r.map(n=>ethereum_provider_dist_index_es_w`
            <wui-list-wallet
              imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getWalletImage(n))}
              name=${n.name??"Unknown"}
              @click=${()=>this.onConnectWallet(n)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){this.loading||ethereum_provider_dist_index_es_j.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(r=>r.id===e.id||r.name===e.name)}isWalletCompatibleWithCurrentChain(e){const r=ethereum_provider_dist_index_es_f.state.activeChain;return r&&e.chains?e.chains.some(n=>{const i=n.split(":")[0];return r===i}):!0}};dist_index_es_Ls([ethereum_provider_dist_index_es_C()],dist_index_es_Ni.prototype,"tabIdx",void 0),dist_index_es_Ls([ethereum_provider_dist_index_es_H()],dist_index_es_Ni.prototype,"connectors",void 0),dist_index_es_Ls([ethereum_provider_dist_index_es_H()],dist_index_es_Ni.prototype,"loading",void 0),dist_index_es_Ni=dist_index_es_Ls([ethereum_provider_dist_index_es_F("w3m-connect-recent-widget")],dist_index_es_Ni);var index_es_Us=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_ki=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,index_es_U.isTelegram()&&index_es_U.isIos()&&(this.loading=!dist_index_es_Y.state.wcUri,this.unsubscribe.push(dist_index_es_Y.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=ethereum_provider_dist_index_es_j.state,{customWallets:r,featuredWalletIds:n}=ethereum_provider_dist_index_es_T.state,i=dist_index_es_q.getRecentWallets(),o=e.find(u=>u.id==="walletConnect"),a=e.filter(u=>u.type==="INJECTED"||u.type==="ANNOUNCED"||u.type==="MULTI_CHAIN").filter(u=>u.name!=="Browser Wallet");if(!o)return null;if(n||r||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,l=Math.max(0,2-c),d=ethereum_provider_dist_index_es_Lr.filterOutDuplicateWallets(this.wallets).slice(0,l);return d.length?ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs">
        ${d.map(u=>ethereum_provider_dist_index_es_w`
            <wui-list-wallet
              imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getWalletImage(u))}
              name=${u?.name??"Unknown"}
              @click=${()=>this.onConnectWallet(u)}
              tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){if(this.loading)return;const r=ethereum_provider_dist_index_es_j.getConnector(e.id,e.rdns);r?dist_index_es_D.push("ConnectingExternal",{connector:r}):dist_index_es_D.push("ConnectingWalletConnect",{wallet:e})}};index_es_Us([ethereum_provider_dist_index_es_C()],dist_index_es_ki.prototype,"tabIdx",void 0),index_es_Us([ethereum_provider_dist_index_es_C()],dist_index_es_ki.prototype,"wallets",void 0),index_es_Us([ethereum_provider_dist_index_es_H()],dist_index_es_ki.prototype,"loading",void 0),dist_index_es_ki=index_es_Us([ethereum_provider_dist_index_es_F("w3m-connect-recommended-widget")],dist_index_es_ki);var dist_index_es_Ms=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Ti=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.connectorImages=ethereum_provider_dist_index_es_Ye.state.connectorImages,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e),ethereum_provider_dist_index_es_Ye.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(index_es_U.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(n=>n.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const r=e.imageUrl||this.connectorImages[e?.imageId??""];return ethereum_provider_dist_index_es_w`
      <wui-list-wallet
        imageSrc=${ethereum_provider_dist_index_es_re(r)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(e){ethereum_provider_dist_index_es_j.setActiveConnector(e),dist_index_es_D.push("ConnectingWalletConnect")}};dist_index_es_Ms([ethereum_provider_dist_index_es_C()],dist_index_es_Ti.prototype,"tabIdx",void 0),dist_index_es_Ms([ethereum_provider_dist_index_es_H()],dist_index_es_Ti.prototype,"connectors",void 0),dist_index_es_Ms([ethereum_provider_dist_index_es_H()],dist_index_es_Ti.prototype,"connectorImages",void 0),dist_index_es_Ti=dist_index_es_Ms([ethereum_provider_dist_index_es_F("w3m-connect-walletconnect-widget")],dist_index_es_Ti);var F2=ethereum_provider_dist_index_es_te`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`,dist_index_es_Oi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Fr=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ethereum_provider_dist_index_es_j.state.connectors,this.recommended=ethereum_provider_dist_index_es_W.state.recommended,this.featured=ethereum_provider_dist_index_es_W.state.featured,this.unsubscribe.push(ethereum_provider_dist_index_es_j.subscribeKey("connectors",e=>this.connectors=e),ethereum_provider_dist_index_es_W.subscribeKey("recommended",e=>this.recommended=e),ethereum_provider_dist_index_es_W.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:r,announced:n,injected:i,multiChain:o,recommended:s,featured:a,external:c}=ethereum_provider_dist_index_es_Kt.getConnectorsByType(this.connectors,this.recommended,this.featured);return ethereum_provider_dist_index_es_Kt.getConnectorTypeOrder({custom:e,recent:r,announced:n,injected:i,multiChain:o,recommended:s,featured:a,external:c}).map(d=>{switch(d){case"injected":return ethereum_provider_dist_index_es_w`
            ${o.length?ethereum_provider_dist_index_es_w`<w3m-connect-multi-chain-widget
                  tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${n.length?ethereum_provider_dist_index_es_w`<w3m-connect-announced-widget
                  tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?ethereum_provider_dist_index_es_w`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return ethereum_provider_dist_index_es_w`<w3m-connect-walletconnect-widget
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return ethereum_provider_dist_index_es_w`<w3m-connect-recent-widget
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return ethereum_provider_dist_index_es_w`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return ethereum_provider_dist_index_es_w`<w3m-connect-custom-widget
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return ethereum_provider_dist_index_es_w`<w3m-connect-external-widget
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return ethereum_provider_dist_index_es_w`<w3m-connect-recommended-widget
            .wallets=${s}
            tabIdx=${ethereum_provider_dist_index_es_re(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${d}`),null}})}};ethereum_provider_dist_index_es_Fr.styles=F2,dist_index_es_Oi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Fr.prototype,"tabIdx",void 0),dist_index_es_Oi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Fr.prototype,"connectors",void 0),dist_index_es_Oi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Fr.prototype,"recommended",void 0),dist_index_es_Oi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Fr.prototype,"featured",void 0),ethereum_provider_dist_index_es_Fr=dist_index_es_Oi([ethereum_provider_dist_index_es_F("w3m-connector-list")],ethereum_provider_dist_index_es_Fr);var H2=ethereum_provider_dist_index_es_te`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`,ethereum_provider_dist_index_es_vr=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_$t=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,r)=>{const n=r===this.activeTab;return ethereum_provider_dist_index_es_w`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(r)}
          data-active=${n}
          data-testid="tab-${e.label?.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?ethereum_provider_dist_index_es_w`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,r){const n=this.buttons[this.activeTab],i=this.buttons[e],o=n?.querySelector("wui-text"),s=i?.querySelector("wui-text"),a=i?.getBoundingClientRect(),c=s?.getBoundingClientRect();n&&o&&!r&&e!==this.activeTab&&(o.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),n.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),i&&a&&c&&s&&(e!==this.activeTab||r)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:r?0:500,fill:"forwards",easing:"ease"}),s.animate([{opacity:1}],{duration:r?0:125,delay:r?0:200,fill:"forwards",easing:"ease"}))}};ethereum_provider_dist_index_es_$t.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,H2],ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_C({type:Array})],ethereum_provider_dist_index_es_$t.prototype,"tabs",void 0),ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_$t.prototype,"onTabChange",void 0),ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_C({type:Array})],ethereum_provider_dist_index_es_$t.prototype,"buttons",void 0),ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_$t.prototype,"disabled",void 0),ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_$t.prototype,"localTabWidth",void 0),ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_$t.prototype,"activeTab",void 0),ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_$t.prototype,"isDense",void 0),ethereum_provider_dist_index_es_$t=ethereum_provider_dist_index_es_vr([ethereum_provider_dist_index_es_F("wui-tabs")],ethereum_provider_dist_index_es_$t);var dist_index_es_Ds=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_$i=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0,this.buffering=!1,this.unsubscribe.push(dist_index_es_Y.subscribeKey("buffering",e=>this.buffering=e))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return ethereum_provider_dist_index_es_w`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs
          ?disabled=${this.buffering}
          .tabs=${e}
          .onTabChange=${this.onTabChange.bind(this)}
        ></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(r=>r==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:r==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:r==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:r==="web"?{label:"Webapp",icon:"browser",platform:"web"}:r==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:r})=>r),e}onTabChange(e){const r=this.platformTabs[e];r&&this.onSelectPlatfrom?.(r)}};dist_index_es_Ds([ethereum_provider_dist_index_es_C({type:Array})],dist_index_es_$i.prototype,"platforms",void 0),dist_index_es_Ds([ethereum_provider_dist_index_es_C()],dist_index_es_$i.prototype,"onSelectPlatfrom",void 0),dist_index_es_Ds([ethereum_provider_dist_index_es_H()],dist_index_es_$i.prototype,"buffering",void 0),dist_index_es_$i=dist_index_es_Ds([ethereum_provider_dist_index_es_F("w3m-connecting-header")],dist_index_es_$i);var V2=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`,index_es_xc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Pi=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,ethereum_provider_dist_index_es_w`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};dist_index_es_Pi.styles=[ethereum_provider_dist_index_es_we,V2],index_es_xc([ethereum_provider_dist_index_es_C()],dist_index_es_Pi.prototype,"color",void 0),index_es_xc([ethereum_provider_dist_index_es_C()],dist_index_es_Pi.prototype,"size",void 0),dist_index_es_Pi=index_es_xc([ethereum_provider_dist_index_es_F("wui-loading-spinner")],dist_index_es_Pi);var Z2=ethereum_provider_dist_index_es_te`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`,ethereum_provider_dist_index_es_Pt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const Mu={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},G2={lg:"paragraph-600",md:"small-600"},q2={lg:"md",md:"md"};let ethereum_provider_dist_index_es_mt=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??G2[this.size];return ethereum_provider_dist_index_es_w`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=q2[this.size],r=this.disabled?Mu.disabled:Mu[this.variant];return ethereum_provider_dist_index_es_w`<wui-loading-spinner color=${r} size=${e}></wui-loading-spinner>`}return ethereum_provider_dist_index_es_w``}};ethereum_provider_dist_index_es_mt.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,Z2],ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_mt.prototype,"size",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_mt.prototype,"disabled",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_mt.prototype,"fullWidth",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_mt.prototype,"loading",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_mt.prototype,"variant",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_mt.prototype,"hasIconLeft",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_mt.prototype,"hasIconRight",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_mt.prototype,"borderRadius",void 0),ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_mt.prototype,"textVariant",void 0),ethereum_provider_dist_index_es_mt=ethereum_provider_dist_index_es_Pt([ethereum_provider_dist_index_es_F("wui-button")],ethereum_provider_dist_index_es_mt);var K2=ethereum_provider_dist_index_es_te`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`,index_es_zs=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_kn=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return ethereum_provider_dist_index_es_w`
      <button ?disabled=${this.disabled} tabindex=${ethereum_provider_dist_index_es_re(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};ethereum_provider_dist_index_es_kn.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,K2],index_es_zs([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_kn.prototype,"tabIdx",void 0),index_es_zs([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_kn.prototype,"disabled",void 0),index_es_zs([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_kn.prototype,"color",void 0),ethereum_provider_dist_index_es_kn=index_es_zs([ethereum_provider_dist_index_es_F("wui-link")],ethereum_provider_dist_index_es_kn);var Y2=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`,Du=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Ws=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,n=36-e,i=116+n,o=245+n,s=360+n*1.75;return ethereum_provider_dist_index_es_w`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${o}"
          stroke-dashoffset=${s}
        />
      </svg>
    `}};dist_index_es_Ws.styles=[ethereum_provider_dist_index_es_we,Y2],Du([ethereum_provider_dist_index_es_C({type:Number})],dist_index_es_Ws.prototype,"radius",void 0),dist_index_es_Ws=Du([ethereum_provider_dist_index_es_F("wui-loading-thumbnail")],dist_index_es_Ws);var X2=ethereum_provider_dist_index_es_te`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`,ethereum_provider_dist_index_es_Hr=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Qt=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return ethereum_provider_dist_index_es_w`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?ethereum_provider_dist_index_es_w`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};ethereum_provider_dist_index_es_Qt.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,X2],ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Qt.prototype,"variant",void 0),ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Qt.prototype,"imageSrc",void 0),ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_Qt.prototype,"disabled",void 0),ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Qt.prototype,"icon",void 0),ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Qt.prototype,"size",void 0),ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Qt.prototype,"text",void 0),ethereum_provider_dist_index_es_Qt=ethereum_provider_dist_index_es_Hr([ethereum_provider_dist_index_es_F("wui-chip-button")],ethereum_provider_dist_index_es_Qt);var J2=ethereum_provider_dist_index_es_te`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`,index_es_js=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Tn=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return ethereum_provider_dist_index_es_w`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};ethereum_provider_dist_index_es_Tn.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,J2],index_es_js([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_Tn.prototype,"disabled",void 0),index_es_js([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Tn.prototype,"label",void 0),index_es_js([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Tn.prototype,"buttonLabel",void 0),ethereum_provider_dist_index_es_Tn=index_es_js([ethereum_provider_dist_index_es_F("wui-cta-button")],ethereum_provider_dist_index_es_Tn);var Q2=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`,zu=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Fs=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:r,play_store:n,chrome_store:i,homepage:o}=this.wallet,s=index_es_U.isMobile(),a=index_es_U.isIos(),c=index_es_U.isAndroid(),l=[r,n,o,i].filter(Boolean).length>1,d=ethereum_provider_dist_index_es_Me.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!s?ethereum_provider_dist_index_es_w`
        <wui-cta-button
          label=${`Don't have ${d}?`}
          buttonLabel="Get"
          @click=${()=>dist_index_es_D.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&o?ethereum_provider_dist_index_es_w`
        <wui-cta-button
          label=${`Don't have ${d}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:r&&a?ethereum_provider_dist_index_es_w`
        <wui-cta-button
          label=${`Don't have ${d}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:n&&c?ethereum_provider_dist_index_es_w`
        <wui-cta-button
          label=${`Don't have ${d}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&index_es_U.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&index_es_U.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&index_es_U.openHref(this.wallet.homepage,"_blank")}};index_es_Fs.styles=[Q2],zu([ethereum_provider_dist_index_es_C({type:Object})],index_es_Fs.prototype,"wallet",void 0),index_es_Fs=zu([ethereum_provider_dist_index_es_F("w3m-mobile-download-links")],index_es_Fs);var ew=ethereum_provider_dist_index_es_te`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`,ethereum_provider_dist_index_es_St=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};class ethereum_provider_dist_index_es_ze extends ethereum_provider_dist_index_es_V{constructor(){super(),this.wallet=dist_index_es_D.state.data?.wallet,this.connector=dist_index_es_D.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=dist_index_es_Oe.getWalletImage(this.wallet)??dist_index_es_Oe.getConnectorImage(this.connector),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=dist_index_es_Y.state.wcUri,this.error=dist_index_es_Y.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.buffering=!1,this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(dist_index_es_Y.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),dist_index_es_Y.subscribeKey("wcError",e=>this.error=e),dist_index_es_Y.subscribeKey("buffering",e=>this.buffering=e)),(index_es_U.isTelegram()||index_es_U.isSafari())&&index_es_U.isIos()&&dist_index_es_Y.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let r=`Continue in ${this.name}`;return this.buffering&&(r="Connecting..."),this.error&&(r="Connection declined"),ethereum_provider_dist_index_es_w`
      <wui-flex
        data-error=${ethereum_provider_dist_index_es_re(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${ethereum_provider_dist_index_es_re(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${r}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?ethereum_provider_dist_index_es_w`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||!this.error&&this.buffering||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?ethereum_provider_dist_index_es_w`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){this.buffering||(dist_index_es_Y.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.())}loaderTemplate(){const e=ethereum_provider_dist_index_es_$e.state.themeVariables["--w3m-border-radius-master"],r=e?parseInt(e.replace("px",""),10):4;return ethereum_provider_dist_index_es_w`<wui-loading-thumbnail radius=${r*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(index_es_U.copyToClopboard(this.uri),ethereum_provider_dist_index_es_Ee.showSuccess("Link copied"))}catch{ethereum_provider_dist_index_es_Ee.showError("Failed to copy")}}}ethereum_provider_dist_index_es_ze.styles=ew,ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"isRetrying",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"uri",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"error",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"ready",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"showRetry",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"secondaryBtnLabel",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"secondaryLabel",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"buffering",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_ze.prototype,"isLoading",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_ze.prototype,"isMobile",void 0),ethereum_provider_dist_index_es_St([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ze.prototype,"onRetry",void 0);var tw=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let Wu=class extends ethereum_provider_dist_index_es_ze{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=ethereum_provider_dist_index_es_j.state,r=e.find(n=>n.type==="ANNOUNCED"&&n.info?.rdns===this.wallet?.rdns||n.type==="INJECTED"||n.name===this.wallet?.name);if(r)await dist_index_es_Y.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");ethereum_provider_dist_index_es_he.close(),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown"}})}catch(e){ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};Wu=tw([ethereum_provider_dist_index_es_F("w3m-connecting-wc-browser")],Wu);var rw=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ju=class extends ethereum_provider_dist_index_es_ze{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:r}=this.wallet,{redirect:n,href:i}=index_es_U.formatNativeUrl(e,this.uri);dist_index_es_Y.setWcLinking({name:r,href:i}),dist_index_es_Y.setRecentWallet(this.wallet),index_es_U.openHref(n,"_blank")}catch{this.error=!0}}};ju=rw([ethereum_provider_dist_index_es_F("w3m-connecting-wc-desktop")],ju);var nw=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let Fu=class extends ethereum_provider_dist_index_es_ze{constructor(){if(super(),this.btnLabelTimeout=void 0,this.labelTimeout=void 0,this.onRender=()=>{!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())},this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,name:r}=this.wallet,{redirect:n,href:i}=index_es_U.formatNativeUrl(e,this.uri);dist_index_es_Y.setWcLinking({name:r,href:i}),dist_index_es_Y.setRecentWallet(this.wallet);const o=index_es_U.isIframe()?"_top":"_self";index_es_U.openHref(n,o),clearTimeout(this.labelTimeout),this.secondaryLabel=ethereum_provider_dist_index_es_Te.CONNECT_LABELS.MOBILE}catch(e){ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.initializeStateAndTimers(),document.addEventListener("visibilitychange",this.onBuffering.bind(this)),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this.onBuffering.bind(this)),clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout)}initializeStateAndTimers(){this.secondaryBtnLabel=void 0,this.secondaryLabel=ethereum_provider_dist_index_es_Te.CONNECT_LABELS.MOBILE,this.btnLabelTimeout=setTimeout(()=>{this.secondaryBtnLabel="Try again",this.secondaryLabel=ethereum_provider_dist_index_es_Te.CONNECT_LABELS.MOBILE},ethereum_provider_dist_index_es_Te.FIVE_SEC_MS),this.labelTimeout=setTimeout(()=>{this.secondaryLabel="Hold tight... it's taking longer than expected"},ethereum_provider_dist_index_es_Te.THREE_SEC_MS)}onBuffering(){const e=index_es_U.isIos();document?.visibilityState==="visible"&&!this.error&&e&&(dist_index_es_Y.setBuffering(!0),setTimeout(()=>{dist_index_es_Y.setBuffering(!1)},5e3))}onTryAgain(){this.buffering||(clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout),this.initializeStateAndTimers(),dist_index_es_Y.setWcError(!1),this.onConnect())}};Fu=nw([ethereum_provider_dist_index_es_F("w3m-connecting-wc-mobile")],Fu);var dist_index_es_Bi={},iw=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Hu={},ethereum_provider_dist_index_es_dt={};let index_es_Ec;const ow=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ethereum_provider_dist_index_es_dt.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},ethereum_provider_dist_index_es_dt.getSymbolTotalCodewords=function(e){return ow[e]},ethereum_provider_dist_index_es_dt.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},ethereum_provider_dist_index_es_dt.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');index_es_Ec=e},ethereum_provider_dist_index_es_dt.isKanjiModeEnabled=function(){return typeof index_es_Ec<"u"},ethereum_provider_dist_index_es_dt.toSJIS=function(e){return index_es_Ec(e)};var dist_index_es_Hs={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(dist_index_es_Hs);function Vu(){this.buffer=[],this.length=0}Vu.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var sw=Vu;function dist_index_es_Ri(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}dist_index_es_Ri.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},dist_index_es_Ri.prototype.get=function(t,e){return this.data[t*this.size+e]},dist_index_es_Ri.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},dist_index_es_Ri.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var aw=dist_index_es_Ri,Zu={};(function(t){const e=ethereum_provider_dist_index_es_dt.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,o=e(n),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],o=t.getRowColCoords(n),s=o.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||i.push([o[a],o[c]]);return i}})(Zu);var Gu={};const cw=ethereum_provider_dist_index_es_dt.getSymbolSize,qu=7;Gu.getPositions=function(e){const r=cw(e);return[[0,0],[r-qu,0],[0,r-qu]]};var Ku={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,c=0,l=null,d=null;for(let u=0;u<o;u++){a=c=0,l=d=null;for(let h=0;h<o;h++){let p=i.get(u,h);p===l?a++:(a>=5&&(s+=e.N1+(a-5)),l=p,a=1),p=i.get(h,u),p===d?c++:(c>=5&&(s+=e.N1+(c-5)),d=p,c=1)}a>=5&&(s+=e.N1+(a-5)),c>=5&&(s+=e.N1+(c-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let c=0;c<o-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,c=0;for(let l=0;l<o;l++){a=c=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(l,d),d>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|i.get(d,l),d>=10&&(c===1488||c===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let c=0;c<s;c++)o+=i.data[c];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function r(n,i,o){switch(n){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)o.isReserved(c,a)||o.xor(c,a,r(i,c,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<s;l++){o(l),t.applyMask(l,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),d<c&&(c=d,a=l)}return a}})(Ku);var dist_index_es_Vs={};const ethereum_provider_dist_index_es_Cr=dist_index_es_Hs,dist_index_es_Zs=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dist_index_es_Gs=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];dist_index_es_Vs.getBlocksCount=function(e,r){switch(r){case ethereum_provider_dist_index_es_Cr.L:return dist_index_es_Zs[(e-1)*4+0];case ethereum_provider_dist_index_es_Cr.M:return dist_index_es_Zs[(e-1)*4+1];case ethereum_provider_dist_index_es_Cr.Q:return dist_index_es_Zs[(e-1)*4+2];case ethereum_provider_dist_index_es_Cr.H:return dist_index_es_Zs[(e-1)*4+3];default:return}},dist_index_es_Vs.getTotalCodewordsCount=function(e,r){switch(r){case ethereum_provider_dist_index_es_Cr.L:return dist_index_es_Gs[(e-1)*4+0];case ethereum_provider_dist_index_es_Cr.M:return dist_index_es_Gs[(e-1)*4+1];case ethereum_provider_dist_index_es_Cr.Q:return dist_index_es_Gs[(e-1)*4+2];case ethereum_provider_dist_index_es_Cr.H:return dist_index_es_Gs[(e-1)*4+3];default:return}};var Yu={},ethereum_provider_dist_index_es_qs={};const dist_index_es_Li=new Uint8Array(512),index_es_Ks=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)dist_index_es_Li[r]=e,index_es_Ks[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)dist_index_es_Li[r]=dist_index_es_Li[r-255]})(),ethereum_provider_dist_index_es_qs.log=function(e){if(e<1)throw new Error("log("+e+")");return index_es_Ks[e]},ethereum_provider_dist_index_es_qs.exp=function(e){return dist_index_es_Li[e]},ethereum_provider_dist_index_es_qs.mul=function(e,r){return e===0||r===0?0:dist_index_es_Li[index_es_Ks[e]+index_es_Ks[r]]},function(t){const e=ethereum_provider_dist_index_es_qs;t.mul=function(n,i){const o=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(n[s],i[a]);return o},t.mod=function(n,i){let o=new Uint8Array(n);for(;o.length-i.length>=0;){const s=o[0];for(let c=0;c<i.length;c++)o[c]^=e.mul(i[c],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let o=0;o<n;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}}(Yu);const Xu=Yu;function index_es_Ac(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}index_es_Ac.prototype.initialize=function(e){this.degree=e,this.genPoly=Xu.generateECPolynomial(this.degree)},index_es_Ac.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=Xu.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(n,i),o}return n};var lw=index_es_Ac,Ju={},ethereum_provider_dist_index_es_yr={},index_es_Sc={};index_es_Sc.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ethereum_provider_dist_index_es_Bt={};const Qu="[0-9]+",dw="[A-Z $%*+\\-./:]+";let dist_index_es_Ui="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";dist_index_es_Ui=dist_index_es_Ui.replace(/u/g,"\\u");const uw="(?:(?![A-Z0-9 $%*+\\-./:]|"+dist_index_es_Ui+`)(?:.|[\r
]))+`;ethereum_provider_dist_index_es_Bt.KANJI=new RegExp(dist_index_es_Ui,"g"),ethereum_provider_dist_index_es_Bt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ethereum_provider_dist_index_es_Bt.BYTE=new RegExp(uw,"g"),ethereum_provider_dist_index_es_Bt.NUMERIC=new RegExp(Qu,"g"),ethereum_provider_dist_index_es_Bt.ALPHANUMERIC=new RegExp(dw,"g");const hw=new RegExp("^"+dist_index_es_Ui+"$"),pw=new RegExp("^"+Qu+"$"),fw=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ethereum_provider_dist_index_es_Bt.testKanji=function(e){return hw.test(e)},ethereum_provider_dist_index_es_Bt.testNumeric=function(e){return pw.test(e)},ethereum_provider_dist_index_es_Bt.testAlphanumeric=function(e){return fw.test(e)},function(t){const e=index_es_Sc,r=ethereum_provider_dist_index_es_Bt;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return n(o)}catch{return s}}}(ethereum_provider_dist_index_es_yr),function(t){const e=ethereum_provider_dist_index_es_dt,r=dist_index_es_Vs,n=dist_index_es_Hs,i=ethereum_provider_dist_index_es_yr,o=index_es_Sc,s=7973,a=e.getBCHDigit(s);function c(h,p,v){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,v,h))return m}function l(h,p){return i.getCharCountIndicator(h,p)+4}function d(h,p){let v=0;return h.forEach(function(m){const g=l(m.mode,p);v+=g+m.getBitsLength()}),v}function u(h,p){for(let v=1;v<=40;v++)if(d(h,v)<=t.getCapacity(v,p,i.MIXED))return v}t.from=function(p,v){return o.isValid(p)?parseInt(p,10):v},t.getCapacity=function(p,v,m){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const g=e.getSymbolTotalCodewords(p),b=r.getTotalCodewordsCount(p,v),y=(g-b)*8;if(m===i.MIXED)return y;const x=y-l(m,p);switch(m){case i.NUMERIC:return Math.floor(x/10*3);case i.ALPHANUMERIC:return Math.floor(x/11*2);case i.KANJI:return Math.floor(x/13);case i.BYTE:default:return Math.floor(x/8)}},t.getBestVersionForData=function(p,v){let m;const g=n.from(v,n.M);if(Array.isArray(p)){if(p.length>1)return u(p,g);if(p.length===0)return 1;m=p[0]}else m=p;return c(m.mode,m.getLength(),g)},t.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let v=p<<12;for(;e.getBCHDigit(v)-a>=0;)v^=s<<e.getBCHDigit(v)-a;return p<<12|v}}(Ju);var e0={};const ethereum_provider_dist_index_es_c=ethereum_provider_dist_index_es_dt,t0=1335,gw=21522,r0=ethereum_provider_dist_index_es_c.getBCHDigit(t0);e0.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;ethereum_provider_dist_index_es_c.getBCHDigit(i)-r0>=0;)i^=t0<<ethereum_provider_dist_index_es_c.getBCHDigit(i)-r0;return(n<<10|i)^gw};var n0={};const ww=ethereum_provider_dist_index_es_yr;function ethereum_provider_dist_index_es_On(t){this.mode=ww.NUMERIC,this.data=t.toString()}ethereum_provider_dist_index_es_On.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},ethereum_provider_dist_index_es_On.prototype.getLength=function(){return this.data.length},ethereum_provider_dist_index_es_On.prototype.getBitsLength=function(){return ethereum_provider_dist_index_es_On.getBitsLength(this.data.length)},ethereum_provider_dist_index_es_On.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const o=this.data.length-r;o>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,o*3+1))};var mw=ethereum_provider_dist_index_es_On;const bw=ethereum_provider_dist_index_es_yr,index_es_Ic=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ethereum_provider_dist_index_es_$n(t){this.mode=bw.ALPHANUMERIC,this.data=t}ethereum_provider_dist_index_es_$n.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},ethereum_provider_dist_index_es_$n.prototype.getLength=function(){return this.data.length},ethereum_provider_dist_index_es_$n.prototype.getBitsLength=function(){return ethereum_provider_dist_index_es_$n.getBitsLength(this.data.length)},ethereum_provider_dist_index_es_$n.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=index_es_Ic.indexOf(this.data[r])*45;n+=index_es_Ic.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(index_es_Ic.indexOf(this.data[r]),6)};var vw=ethereum_provider_dist_index_es_$n,Cw=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319&&n>i+1){var s=e.charCodeAt(i+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,i+=1)}if(o<128){r.push(o);continue}if(o<2048){r.push(o>>6|192),r.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128);continue}if(o>=65536&&o<=1114111){r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const yw=Cw,xw=ethereum_provider_dist_index_es_yr;function ethereum_provider_dist_index_es_Pn(t){this.mode=xw.BYTE,typeof t=="string"&&(t=yw(t)),this.data=new Uint8Array(t)}ethereum_provider_dist_index_es_Pn.getBitsLength=function(e){return e*8},ethereum_provider_dist_index_es_Pn.prototype.getLength=function(){return this.data.length},ethereum_provider_dist_index_es_Pn.prototype.getBitsLength=function(){return ethereum_provider_dist_index_es_Pn.getBitsLength(this.data.length)},ethereum_provider_dist_index_es_Pn.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Ew=ethereum_provider_dist_index_es_Pn;const Aw=ethereum_provider_dist_index_es_yr,Sw=ethereum_provider_dist_index_es_dt;function ethereum_provider_dist_index_es_Bn(t){this.mode=Aw.KANJI,this.data=t}ethereum_provider_dist_index_es_Bn.getBitsLength=function(e){return e*13},ethereum_provider_dist_index_es_Bn.prototype.getLength=function(){return this.data.length},ethereum_provider_dist_index_es_Bn.prototype.getBitsLength=function(){return ethereum_provider_dist_index_es_Bn.getBitsLength(this.data.length)},ethereum_provider_dist_index_es_Bn.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Sw.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var _w=ethereum_provider_dist_index_es_Bn,i0={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var o={},s={};s[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,d,u,h,p,v,m,g;!a.empty();){c=a.pop(),l=c.value,u=c.cost,h=r[l]||{};for(d in h)h.hasOwnProperty(d)&&(p=h[d],v=u+p,m=s[d],g=typeof s[d]>"u",(g||m>v)&&(s[d]=v,a.push(d,v),o[d]=l))}if(typeof i<"u"&&typeof s[i]>"u"){var b=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(b)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],o=n;o;)i.push(o),r[o],o=r[o];return i.reverse(),i},find_path:function(r,n,i){var o=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(i0),function(t){const e=ethereum_provider_dist_index_es_yr,r=mw,n=vw,i=Ew,o=_w,s=ethereum_provider_dist_index_es_Bt,a=ethereum_provider_dist_index_es_dt,c=i0.exports;function l(b){return unescape(encodeURIComponent(b)).length}function d(b,y,x){const E=[];let I;for(;(I=b.exec(x))!==null;)E.push({data:I[0],index:I.index,mode:y,length:I[0].length});return E}function u(b){const y=d(s.NUMERIC,e.NUMERIC,b),x=d(s.ALPHANUMERIC,e.ALPHANUMERIC,b);let E,I;return a.isKanjiModeEnabled()?(E=d(s.BYTE,e.BYTE,b),I=d(s.KANJI,e.KANJI,b)):(E=d(s.BYTE_KANJI,e.BYTE,b),I=[]),y.concat(x,E,I).sort(function(L,Z){return L.index-Z.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function h(b,y){switch(y){case e.NUMERIC:return r.getBitsLength(b);case e.ALPHANUMERIC:return n.getBitsLength(b);case e.KANJI:return o.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function p(b){return b.reduce(function(y,x){const E=y.length-1>=0?y[y.length-1]:null;return E&&E.mode===x.mode?(y[y.length-1].data+=x.data,y):(y.push(x),y)},[])}function v(b){const y=[];for(let x=0;x<b.length;x++){const E=b[x];switch(E.mode){case e.NUMERIC:y.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:y.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:y.push([E,{data:E.data,mode:e.BYTE,length:l(E.data)}]);break;case e.BYTE:y.push([{data:E.data,mode:e.BYTE,length:l(E.data)}])}}return y}function m(b,y){const x={},E={start:{}};let I=["start"];for(let $=0;$<b.length;$++){const L=b[$],Z=[];for(let B=0;B<L.length;B++){const R=L[B],N=""+$+B;Z.push(N),x[N]={node:R,lastCount:0},E[N]={};for(let ee=0;ee<I.length;ee++){const pe=I[ee];x[pe]&&x[pe].node.mode===R.mode?(E[pe][N]=h(x[pe].lastCount+R.length,R.mode)-h(x[pe].lastCount,R.mode),x[pe].lastCount+=R.length):(x[pe]&&(x[pe].lastCount=R.length),E[pe][N]=h(R.length,R.mode)+4+e.getCharCountIndicator(R.mode,y))}}I=Z}for(let $=0;$<I.length;$++)E[I[$]].end=0;return{map:E,table:x}}function g(b,y){let x;const E=e.getBestModeForData(b);if(x=e.from(y,E),x!==e.BYTE&&x.bit<E.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(E));switch(x===e.KANJI&&!a.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new r(b);case e.ALPHANUMERIC:return new n(b);case e.KANJI:return new o(b);case e.BYTE:return new i(b)}}t.fromArray=function(y){return y.reduce(function(x,E){return typeof E=="string"?x.push(g(E,null)):E.data&&x.push(g(E.data,E.mode)),x},[])},t.fromString=function(y,x){const E=u(y,a.isKanjiModeEnabled()),I=v(E),$=m(I,x),L=c.find_path($.map,"start","end"),Z=[];for(let B=1;B<L.length-1;B++)Z.push($.table[L[B]].node);return t.fromArray(p(Z))},t.rawSplit=function(y){return t.fromArray(u(y,a.isKanjiModeEnabled()))}}(n0);const dist_index_es_Ys=ethereum_provider_dist_index_es_dt,index_es_Nc=dist_index_es_Hs,Iw=sw,Nw=aw,kw=Zu,Tw=Gu,index_es_kc=Ku,index_es_Tc=dist_index_es_Vs,Ow=lw,dist_index_es_Xs=Ju,$w=e0,Pw=ethereum_provider_dist_index_es_yr,index_es_Oc=n0;function Bw(t,e){const r=t.size,n=Tw.getPositions(e);for(let i=0;i<n.length;i++){const o=n[i][0],s=n[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||r<=o+a))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(o+a,s+c,!0,!0):t.set(o+a,s+c,!1,!0))}}function Rw(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Lw(t,e){const r=kw.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],o=r[n][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function Uw(t,e){const r=t.size,n=dist_index_es_Xs.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+r-8-3,s=(n>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function index_es_$c(t,e,r){const n=t.size,i=$w.getEncodedBits(e,r);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(n-15+o,8,s,!0),o<8?t.set(8,n-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(n-8,8,1,!0)}function Mw(t,e){const r=t.size;let n=-1,i=r-1,o=7,s=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;s<e.length&&(l=(e[s]>>>o&1)===1),t.set(i,a-c,l),o--,o===-1&&(s++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Dw(t,e,r){const n=new Iw;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Pw.getCharCountIndicator(c.mode,t)),c.write(n)});const i=dist_index_es_Ys.getSymbolTotalCodewords(t),o=index_es_Tc.getTotalCodewordsCount(t,e),s=(i-o)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(s-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return zw(n,t,e)}function zw(t,e,r){const n=dist_index_es_Ys.getSymbolTotalCodewords(e),i=index_es_Tc.getTotalCodewordsCount(e,r),o=n-i,s=index_es_Tc.getBlocksCount(e,r),a=n%s,c=s-a,l=Math.floor(n/s),d=Math.floor(o/s),u=d+1,h=l-d,p=new Ow(h);let v=0;const m=new Array(s),g=new Array(s);let b=0;const y=new Uint8Array(t.buffer);for(let L=0;L<s;L++){const Z=L<c?d:u;m[L]=y.slice(v,v+Z),g[L]=p.encode(m[L]),v+=Z,b=Math.max(b,Z)}const x=new Uint8Array(n);let E=0,I,$;for(I=0;I<b;I++)for($=0;$<s;$++)I<m[$].length&&(x[E++]=m[$][I]);for(I=0;I<h;I++)for($=0;$<s;$++)x[E++]=g[$][I];return x}function Ww(t,e,r,n){let i;if(Array.isArray(t))i=index_es_Oc.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const d=index_es_Oc.rawSplit(t);l=dist_index_es_Xs.getBestVersionForData(d,r)}i=index_es_Oc.fromString(t,l||40)}else throw new Error("Invalid data");const o=dist_index_es_Xs.getBestVersionForData(i,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=Dw(e,r,i),a=dist_index_es_Ys.getSymbolSize(e),c=new Nw(a);return Bw(c,e),Rw(c),Lw(c,e),index_es_$c(c,r,0),e>=7&&Uw(c,e),Mw(c,s),isNaN(n)&&(n=index_es_kc.getBestMask(c,index_es_$c.bind(null,c,r))),index_es_kc.applyMask(n,c),index_es_$c(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}Hu.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=index_es_Nc.M,i,o;return typeof r<"u"&&(n=index_es_Nc.from(r.errorCorrectionLevel,index_es_Nc.M),i=dist_index_es_Xs.from(r.version),o=index_es_kc.from(r.maskPattern),r.toSJISFunc&&dist_index_es_Ys.setToSJISFunction(r.toSJISFunc)),Ww(e,i,n,o)};var o0={},index_es_Pc={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const o=t.getScale(n,i);return Math.floor((n+i.margin*2)*o)},t.qrToImageData=function(n,i,o){const s=i.modules.size,a=i.modules.data,c=t.getScale(s,o),l=Math.floor((s+o.margin*2)*c),d=o.margin*c,u=[o.color.light,o.color.dark];for(let h=0;h<l;h++)for(let p=0;p<l;p++){let v=(h*l+p)*4,m=o.color.light;if(h>=d&&p>=d&&h<l-d&&p<l-d){const g=Math.floor((h-d)/c),b=Math.floor((p-d)/c);m=u[a[g*s+b]?1:0]}n[v++]=m.r,n[v++]=m.g,n[v++]=m.b,n[v]=m.a}}})(index_es_Pc),function(t){const e=index_es_Pc;function r(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let c=a,l=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(l=n()),c=e.getOptions(c);const d=e.getImageWidth(o.modules.size,c),u=l.getContext("2d"),h=u.createImageData(d,d);return e.qrToImageData(h.data,o,c),r(u,l,d),u.putImageData(h,0,0),l},t.renderToDataURL=function(o,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const l=t.render(o,s,c),d=c.type||"image/png",u=c.rendererOpts||{};return l.toDataURL(d,u.quality)}}(o0);var s0={};const jw=index_es_Pc;function a0(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function index_es_Bc(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Fw(t,e,r){let n="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!o&&(o=!0),t[a]?(s++,a>0&&c>0&&t[a-1]||(n+=o?index_es_Bc("M",c+r,.5+l+r):index_es_Bc("m",i,0),i=0,o=!1),c+1<e&&t[a+1]||(n+=index_es_Bc("h",s),s=0)):i++}return n}s0.render=function(e,r,n){const i=jw.getOptions(r),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,c=i.color.light.a?"<path "+a0(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+a0(i.color.dark,"stroke")+' d="'+Fw(s,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,h),h};const Hw=iw,index_es_Rc=Hu,c0=o0,Vw=s0;function index_es_Lc(t,e,r,n,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!Hw())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=r,r=e,e=n=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=e,e=n=void 0):s===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const d=index_es_Rc.create(r,n);c(t(d,e,n))}catch(d){l(d)}})}try{const c=index_es_Rc.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}dist_index_es_Bi.create=index_es_Rc.create,dist_index_es_Bi.toCanvas=index_es_Lc.bind(null,c0.render),dist_index_es_Bi.toDataURL=index_es_Lc.bind(null,c0.renderToDataURL),dist_index_es_Bi.toString=index_es_Lc.bind(null,function(t,e,r){return Vw.render(t,r)});const Zw=.1,l0=2.5,ethereum_provider_dist_index_es_er=7;function index_es_Uc(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+Zw}function Gw(t,e){const r=Array.prototype.slice.call(dist_index_es_Bi.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,o,s)=>(s%n===0?i.push([o]):i[i.length-1].push(o))&&i,[])}const qw={generate({uri:t,size:e,logoSize:r,dotColor:n="#141414"}){const i="transparent",s=[],a=Gw(t,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:m,y:g})=>{const b=(a.length-ethereum_provider_dist_index_es_er)*c*m,y=(a.length-ethereum_provider_dist_index_es_er)*c*g,x=.45;for(let E=0;E<l.length;E+=1){const I=c*(ethereum_provider_dist_index_es_er-E*2);s.push(ethereum_provider_dist_index_es_M`
            <rect
              fill=${E===2?n:i}
              width=${E===0?I-5:I}
              rx= ${E===0?(I-5)*x:I*x}
              ry= ${E===0?(I-5)*x:I*x}
              stroke=${n}
              stroke-width=${E===0?5:0}
              height=${E===0?I-5:I}
              x= ${E===0?y+c*E+5/2:y+c*E}
              y= ${E===0?b+c*E+5/2:b+c*E}
            />
          `)}});const d=Math.floor((r+25)/c),u=a.length/2-d/2,h=a.length/2+d/2-1,p=[];a.forEach((m,g)=>{m.forEach((b,y)=>{if(a[g][y]&&!(g<ethereum_provider_dist_index_es_er&&y<ethereum_provider_dist_index_es_er||g>a.length-(ethereum_provider_dist_index_es_er+1)&&y<ethereum_provider_dist_index_es_er||g<ethereum_provider_dist_index_es_er&&y>a.length-(ethereum_provider_dist_index_es_er+1))&&!(g>u&&g<h&&y>u&&y<h)){const x=g*c+c/2,E=y*c+c/2;p.push([x,E])}})});const v={};return p.forEach(([m,g])=>{v[m]?v[m]?.push(g):v[m]=[g]}),Object.entries(v).map(([m,g])=>{const b=g.filter(y=>g.every(x=>!index_es_Uc(y,x,c)));return[Number(m),b]}).forEach(([m,g])=>{g.forEach(b=>{s.push(ethereum_provider_dist_index_es_M`<circle cx=${m} cy=${b} fill=${n} r=${c/l0} />`)})}),Object.entries(v).filter(([m,g])=>g.length>1).map(([m,g])=>{const b=g.filter(y=>g.some(x=>index_es_Uc(y,x,c)));return[Number(m),b]}).map(([m,g])=>{g.sort((y,x)=>y<x?-1:1);const b=[];for(const y of g){const x=b.find(E=>E.some(I=>index_es_Uc(y,I,c)));x?x.push(y):b.push([y])}return[m,b.map(y=>[y[0],y[y.length-1]])]}).forEach(([m,g])=>{g.forEach(([b,y])=>{s.push(ethereum_provider_dist_index_es_M`
              <line
                x1=${m}
                x2=${m}
                y1=${b}
                y2=${y}
                stroke=${n}
                stroke-width=${c/(l0/2)}
                stroke-linecap="round"
              />
            `)})}),s}};var Kw=ethereum_provider_dist_index_es_te`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`,ethereum_provider_dist_index_es_tr=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const Yw="#3396ff";let ethereum_provider_dist_index_es_t=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??Yw}
    `,ethereum_provider_dist_index_es_w`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return ethereum_provider_dist_index_es_M`
      <svg height=${e} width=${e}>
        ${qw.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?ethereum_provider_dist_index_es_w`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?ethereum_provider_dist_index_es_w`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:ethereum_provider_dist_index_es_w`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};ethereum_provider_dist_index_es_t.styles=[ethereum_provider_dist_index_es_we,Kw],ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_t.prototype,"uri",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C({type:Number})],ethereum_provider_dist_index_es_t.prototype,"size",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_t.prototype,"theme",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_t.prototype,"imageSrc",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_t.prototype,"alt",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_t.prototype,"color",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_t.prototype,"arenaClear",void 0),ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_t.prototype,"farcaster",void 0),ethereum_provider_dist_index_es_t=ethereum_provider_dist_index_es_tr([ethereum_provider_dist_index_es_F("wui-qr-code")],ethereum_provider_dist_index_es_t);var Xw=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`,dist_index_es_Mi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Vr=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,ethereum_provider_dist_index_es_w`<slot></slot>`}};ethereum_provider_dist_index_es_Vr.styles=[Xw],dist_index_es_Mi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Vr.prototype,"width",void 0),dist_index_es_Mi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Vr.prototype,"height",void 0),dist_index_es_Mi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Vr.prototype,"borderRadius",void 0),dist_index_es_Mi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Vr.prototype,"variant",void 0),ethereum_provider_dist_index_es_Vr=dist_index_es_Mi([ethereum_provider_dist_index_es_F("wui-shimmer")],ethereum_provider_dist_index_es_Vr);var Jw=ethereum_provider_dist_index_es_te`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }
`,Qw=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Mc=class extends ethereum_provider_dist_index_es_V{render(){return ethereum_provider_dist_index_es_w`
      <wui-flex
        justifyContent="center"
        alignItems="center"
        gap="xs"
        .padding=${["0","0","l","0"]}
      >
        <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
        <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
      </wui-flex>
    `}};index_es_Mc.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,Jw],index_es_Mc=Qw([ethereum_provider_dist_index_es_F("wui-ux-by-reown")],index_es_Mc);var em=ethereum_provider_dist_index_es_te`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`,tm=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Dc=class extends ethereum_provider_dist_index_es_ze{constructor(){super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),ethereum_provider_dist_index_es_w`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,r=this.wallet?this.wallet.name:void 0;return dist_index_es_Y.setWcLinking(void 0),dist_index_es_Y.setRecentWallet(this.wallet),ethereum_provider_dist_index_es_w` <wui-qr-code
      size=${e}
      theme=${ethereum_provider_dist_index_es_$e.state.themeMode}
      uri=${this.uri}
      imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getWalletImage(this.wallet))}
      color=${ethereum_provider_dist_index_es_re(ethereum_provider_dist_index_es_$e.state.themeVariables["--w3m-qr-color"])}
      alt=${ethereum_provider_dist_index_es_re(r)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return ethereum_provider_dist_index_es_w`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};index_es_Dc.styles=em,index_es_Dc=tm([ethereum_provider_dist_index_es_F("w3m-connecting-wc-qrcode")],index_es_Dc);var rm=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let d0=class extends ethereum_provider_dist_index_es_V{constructor(){if(super(),this.wallet=dist_index_es_D.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return ethereum_provider_dist_index_es_w`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${ethereum_provider_dist_index_es_re(dist_index_es_Oe.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};d0=rm([ethereum_provider_dist_index_es_F("w3m-connecting-wc-unsupported")],d0);var u0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_zc=class extends ethereum_provider_dist_index_es_ze{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel="Open and continue in a new browser tab",this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(dist_index_es_Y.subscribeKey("wcUri",()=>{this.updateLoadingState()})),ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:r}=this.wallet,{redirect:n,href:i}=index_es_U.formatUniversalUrl(e,this.uri);dist_index_es_Y.setWcLinking({name:r,href:i}),dist_index_es_Y.setRecentWallet(this.wallet),index_es_U.openHref(n,"_blank")}catch{this.error=!0}}};u0([ethereum_provider_dist_index_es_H()],index_es_zc.prototype,"isLoading",void 0),index_es_zc=u0([ethereum_provider_dist_index_es_F("w3m-connecting-wc-web")],index_es_zc);var dist_index_es_Js=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Di=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.wallet=dist_index_es_D.state.data?.wallet,this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!ethereum_provider_dist_index_es_T.state.siwx,this.determinePlatforms(),this.initializeConnection()}render(){return ethereum_provider_dist_index_es_w`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      <wui-ux-by-reown></wui-ux-by-reown>
    `}async initializeConnection(e=!1){if(!(this.platform==="browser"||ethereum_provider_dist_index_es_T.state.manualWCControl&&!e))try{const{wcPairingExpiry:r,status:n}=dist_index_es_Y.state;(e||ethereum_provider_dist_index_es_T.state.enableEmbedded||index_es_U.isPairingExpired(r)||n==="connecting")&&(await dist_index_es_Y.connectWalletConnect(),this.isSiwxEnabled||ethereum_provider_dist_index_es_he.close())}catch(r){ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:r?.message??"Unknown"}}),dist_index_es_Y.setWcError(!0),ethereum_provider_dist_index_es_Ee.showError(r.message??"Connection error"),dist_index_es_Y.resetWcConnection(),dist_index_es_D.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:r,webapp_link:n,injected:i,rdns:o}=this.wallet,s=i?.map(({injected_id:v})=>v).filter(Boolean),a=[...o?[o]:s??[]],c=ethereum_provider_dist_index_es_T.state.isUniversalProvider?!1:a.length,l=e,d=n,u=dist_index_es_Y.checkInstalled(a),h=c&&u,p=r&&!index_es_U.isMobile();h&&!ethereum_provider_dist_index_es_f.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(index_es_U.isMobile()?"mobile":"qrcode"),d&&this.platforms.push("web"),p&&this.platforms.push("desktop"),!h&&c&&!ethereum_provider_dist_index_es_f.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return ethereum_provider_dist_index_es_w`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return ethereum_provider_dist_index_es_w`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return ethereum_provider_dist_index_es_w`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return ethereum_provider_dist_index_es_w`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return ethereum_provider_dist_index_es_w`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return ethereum_provider_dist_index_es_w`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?ethereum_provider_dist_index_es_w`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const r=this.shadowRoot?.querySelector("div");r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};dist_index_es_Js([ethereum_provider_dist_index_es_H()],dist_index_es_Di.prototype,"platform",void 0),dist_index_es_Js([ethereum_provider_dist_index_es_H()],dist_index_es_Di.prototype,"platforms",void 0),dist_index_es_Js([ethereum_provider_dist_index_es_H()],dist_index_es_Di.prototype,"isSiwxEnabled",void 0),dist_index_es_Di=dist_index_es_Js([ethereum_provider_dist_index_es_F("w3m-connecting-wc-view")],dist_index_es_Di);var h0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_Qs=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.isMobile=index_es_U.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:r}=ethereum_provider_dist_index_es_W.state,{customWallets:n}=ethereum_provider_dist_index_es_T.state,i=dist_index_es_q.getRecentWallets(),o=e.length||r.length||n?.length||i.length;return ethereum_provider_dist_index_es_w`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${o?ethereum_provider_dist_index_es_w`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return ethereum_provider_dist_index_es_w`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};h0([ethereum_provider_dist_index_es_H()],dist_index_es_Qs.prototype,"isMobile",void 0),dist_index_es_Qs=h0([ethereum_provider_dist_index_es_F("w3m-connecting-wc-basic-view")],dist_index_es_Qs);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const index_es_Wc=()=>new nm;class nm{}const index_es_jc=new WeakMap,index_es_Fc=index_es_pc(class extends $u{render(t){return ethereum_provider_dist_index_es_Ne}update(t,[e]){const r=e!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),ethereum_provider_dist_index_es_Ne}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let r=index_es_jc.get(e);r===void 0&&(r=new WeakMap,index_es_jc.set(e,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?index_es_jc.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var im=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`,p0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_ea=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.inputElementRef=index_es_Wc(),this.checked=void 0}render(){return ethereum_provider_dist_index_es_w`
      <label>
        <input
          ${index_es_Fc(this.inputElementRef)}
          type="checkbox"
          ?checked=${ethereum_provider_dist_index_es_re(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};index_es_ea.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,dist_index_es_li,im],p0([ethereum_provider_dist_index_es_C({type:Boolean})],index_es_ea.prototype,"checked",void 0),index_es_ea=p0([ethereum_provider_dist_index_es_F("wui-switch")],index_es_ea);var om=ethereum_provider_dist_index_es_te`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`,f0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_ta=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.checked=void 0}render(){return ethereum_provider_dist_index_es_w`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${ethereum_provider_dist_index_es_re(this.checked)}></wui-switch>
      </button>
    `}};index_es_ta.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,om],f0([ethereum_provider_dist_index_es_C({type:Boolean})],index_es_ta.prototype,"checked",void 0),index_es_ta=f0([ethereum_provider_dist_index_es_F("wui-certified-switch")],index_es_ta);var sm=ethereum_provider_dist_index_es_te`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`,g0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_ra=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.icon="copy"}render(){return ethereum_provider_dist_index_es_w`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};index_es_ra.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,sm],g0([ethereum_provider_dist_index_es_C()],index_es_ra.prototype,"icon",void 0),index_es_ra=g0([ethereum_provider_dist_index_es_F("wui-input-element")],index_es_ra);var am=ethereum_provider_dist_index_es_te`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`,ethereum_provider_dist_index_es_Rt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_bt=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.inputElementRef=index_es_Wc(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,n={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return ethereum_provider_dist_index_es_w`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${index_es_Fc(this.inputElementRef)}
        class=${Lu(n)}
        type=${this.type}
        enterkeyhint=${ethereum_provider_dist_index_es_re(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${ethereum_provider_dist_index_es_re(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?ethereum_provider_dist_index_es_w`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};ethereum_provider_dist_index_es_bt.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,am],ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"size",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"icon",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_bt.prototype,"disabled",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"placeholder",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"type",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"keyHint",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"value",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"inputRightPadding",void 0),ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_bt.prototype,"tabIdx",void 0),ethereum_provider_dist_index_es_bt=ethereum_provider_dist_index_es_Rt([ethereum_provider_dist_index_es_F("wui-input-text")],ethereum_provider_dist_index_es_bt);var cm=ethereum_provider_dist_index_es_te`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`,lm=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Hc=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.inputComponentRef=index_es_Wc()}render(){return ethereum_provider_dist_index_es_w`
      <wui-input-text
        ${index_es_Fc(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const r=this.inputComponentRef.value?.inputElementRef.value;r&&(r.value="",r.focus(),r.dispatchEvent(new Event("input")))}};index_es_Hc.styles=[ethereum_provider_dist_index_es_we,cm],index_es_Hc=lm([ethereum_provider_dist_index_es_F("wui-search-bar")],index_es_Hc);const dm=ethereum_provider_dist_index_es_M`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;var um=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`,w0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_na=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.type="wallet"}render(){return ethereum_provider_dist_index_es_w`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?ethereum_provider_dist_index_es_w` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${dm}`:ethereum_provider_dist_index_es_w`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};index_es_na.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,um],w0([ethereum_provider_dist_index_es_C()],index_es_na.prototype,"type",void 0),index_es_na=w0([ethereum_provider_dist_index_es_F("wui-card-select-loader")],index_es_na);var hm=ethereum_provider_dist_index_es_te`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`,dist_index_es_vt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_rt=class extends ethereum_provider_dist_index_es_V{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&ethereum_provider_dist_index_es_Me.getSpacingStyles(this.margin,3)};
    `,ethereum_provider_dist_index_es_w`<slot></slot>`}};dist_index_es_rt.styles=[ethereum_provider_dist_index_es_we,hm],dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"gridTemplateRows",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"gridTemplateColumns",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"justifyItems",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"alignItems",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"justifyContent",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"alignContent",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"columnGap",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"rowGap",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"gap",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"padding",void 0),dist_index_es_vt([ethereum_provider_dist_index_es_C()],dist_index_es_rt.prototype,"margin",void 0),dist_index_es_rt=dist_index_es_vt([ethereum_provider_dist_index_es_F("wui-grid")],dist_index_es_rt);var pm=ethereum_provider_dist_index_es_te`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`,dist_index_es_zi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Zr=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return ethereum_provider_dist_index_es_w`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${ethereum_provider_dist_index_es_re(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?ethereum_provider_dist_index_es_w`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():ethereum_provider_dist_index_es_w`
      <wui-wallet-image
        size="md"
        imageSrc=${ethereum_provider_dist_index_es_re(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return ethereum_provider_dist_index_es_w`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=dist_index_es_Oe.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await dist_index_es_Oe.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};ethereum_provider_dist_index_es_Zr.styles=pm,dist_index_es_zi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Zr.prototype,"visible",void 0),dist_index_es_zi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Zr.prototype,"imageSrc",void 0),dist_index_es_zi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Zr.prototype,"imageLoading",void 0),dist_index_es_zi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Zr.prototype,"wallet",void 0),ethereum_provider_dist_index_es_Zr=dist_index_es_zi([ethereum_provider_dist_index_es_F("w3m-all-wallets-list-item")],ethereum_provider_dist_index_es_Zr);var fm=ethereum_provider_dist_index_es_te`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,index_es_Wi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const m0="local-paginator";let ethereum_provider_dist_index_es_Gr=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!ethereum_provider_dist_index_es_W.state.wallets.length,this.wallets=ethereum_provider_dist_index_es_W.state.wallets,this.recommended=ethereum_provider_dist_index_es_W.state.recommended,this.featured=ethereum_provider_dist_index_es_W.state.featured,this.unsubscribe.push(ethereum_provider_dist_index_es_W.subscribeKey("wallets",e=>this.wallets=e),ethereum_provider_dist_index_es_W.subscribeKey("recommended",e=>this.recommended=e),ethereum_provider_dist_index_es_W.subscribeKey("featured",e=>this.featured=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return ethereum_provider_dist_index_es_w`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await ethereum_provider_dist_index_es_W.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,r){return[...Array(e)].map(()=>ethereum_provider_dist_index_es_w`
        <wui-card-select-loader type="wallet" id=${ethereum_provider_dist_index_es_re(r)}></wui-card-select-loader>
      `)}walletsTemplate(){const e=index_es_U.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return ethereum_provider_dist_index_es_Lr.markWalletsAsInstalled(e).map(n=>ethereum_provider_dist_index_es_w`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:r,featured:n,count:i}=ethereum_provider_dist_index_es_W.state,o=window.innerWidth<352?3:4,s=e.length+r.length;let c=Math.ceil(s/o)*o-s+o;return c-=e.length?n.length%o:0,i===0&&n.length>0?null:i===0||[...n,...e,...r].length<i?this.shimmerTemplate(c,m0):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${m0}`);e&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r?.isIntersecting&&!this.loading){const{page:n,count:i,wallets:o}=ethereum_provider_dist_index_es_W.state;o.length<i&&ethereum_provider_dist_index_es_W.fetchWalletsByPage({page:n+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){ethereum_provider_dist_index_es_j.selectWalletConnector(e)}};ethereum_provider_dist_index_es_Gr.styles=fm,index_es_Wi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Gr.prototype,"loading",void 0),index_es_Wi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Gr.prototype,"wallets",void 0),index_es_Wi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Gr.prototype,"recommended",void 0),index_es_Wi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Gr.prototype,"featured",void 0),ethereum_provider_dist_index_es_Gr=index_es_Wi([ethereum_provider_dist_index_es_F("w3m-all-wallets-list")],ethereum_provider_dist_index_es_Gr);var gm=ethereum_provider_dist_index_es_te`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,index_es_ia=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Rn=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?ethereum_provider_dist_index_es_w`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await ethereum_provider_dist_index_es_W.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=ethereum_provider_dist_index_es_W.state,r=ethereum_provider_dist_index_es_Lr.markWalletsAsInstalled(e);return e.length?ethereum_provider_dist_index_es_w`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${r.map(n=>ethereum_provider_dist_index_es_w`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(n)}
              .wallet=${n}
              data-testid="wallet-search-item-${n.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:ethereum_provider_dist_index_es_w`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){ethereum_provider_dist_index_es_j.selectWalletConnector(e)}};ethereum_provider_dist_index_es_Rn.styles=gm,index_es_ia([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Rn.prototype,"loading",void 0),index_es_ia([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Rn.prototype,"query",void 0),index_es_ia([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Rn.prototype,"badge",void 0),ethereum_provider_dist_index_es_Rn=index_es_ia([ethereum_provider_dist_index_es_F("w3m-all-wallets-search")],ethereum_provider_dist_index_es_Rn);var index_es_Vc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let dist_index_es_ji=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=index_es_U.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return ethereum_provider_dist_index_es_w`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?ethereum_provider_dist_index_es_w`<w3m-all-wallets-search
            query=${this.search}
            badge=${ethereum_provider_dist_index_es_re(this.badge)}
          ></w3m-all-wallets-search>`:ethereum_provider_dist_index_es_w`<w3m-all-wallets-list badge=${ethereum_provider_dist_index_es_re(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",ethereum_provider_dist_index_es_Ee.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return index_es_U.isMobile()?ethereum_provider_dist_index_es_w`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){dist_index_es_D.push("ConnectingWalletConnect")}};index_es_Vc([ethereum_provider_dist_index_es_H()],dist_index_es_ji.prototype,"search",void 0),index_es_Vc([ethereum_provider_dist_index_es_H()],dist_index_es_ji.prototype,"badge",void 0),dist_index_es_ji=index_es_Vc([ethereum_provider_dist_index_es_F("w3m-all-wallets-view")],dist_index_es_ji);var wm=ethereum_provider_dist_index_es_te`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`,ethereum_provider_dist_index_es_It=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_ut=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return ethereum_provider_dist_index_es_w`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${ethereum_provider_dist_index_es_re(this.iconVariant)}
        tabindex=${ethereum_provider_dist_index_es_re(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return ethereum_provider_dist_index_es_w`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return ethereum_provider_dist_index_es_w`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",r=this.iconVariant==="square-blue"?"mdl":"md",n=this.iconSize?this.iconSize:r;return ethereum_provider_dist_index_es_w`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${n}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${r}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?ethereum_provider_dist_index_es_w`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:ethereum_provider_dist_index_es_w``}chevronTemplate(){return this.chevron?ethereum_provider_dist_index_es_w`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};ethereum_provider_dist_index_es_ut.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,wm],ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"icon",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"iconSize",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"tabIdx",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"variant",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"iconVariant",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_ut.prototype,"disabled",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"imageSrc",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_ut.prototype,"alt",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_ut.prototype,"chevron",void 0),ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_ut.prototype,"loading",void 0),ethereum_provider_dist_index_es_ut=ethereum_provider_dist_index_es_It([ethereum_provider_dist_index_es_F("wui-list-item")],ethereum_provider_dist_index_es_ut);var mm=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Zc=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.wallet=dist_index_es_D.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return ethereum_provider_dist_index_es_w`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?ethereum_provider_dist_index_es_w`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?ethereum_provider_dist_index_es_w`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?ethereum_provider_dist_index_es_w`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?ethereum_provider_dist_index_es_w`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){this.wallet?.chrome_store&&index_es_U.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){this.wallet?.app_store&&index_es_U.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&index_es_U.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&index_es_U.openHref(this.wallet.homepage,"_blank")}};index_es_Zc=mm([ethereum_provider_dist_index_es_F("w3m-downloads-view")],index_es_Zc);var bm=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return dist_index_es_Qs},get W3mAllWalletsView(){return dist_index_es_ji},get W3mDownloadsView(){return index_es_Zc}}),vm=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`,Cm=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Gc=class extends ethereum_provider_dist_index_es_V{render(){return ethereum_provider_dist_index_es_w`<slot></slot>`}};index_es_Gc.styles=[ethereum_provider_dist_index_es_we,vm],index_es_Gc=Cm([ethereum_provider_dist_index_es_F("wui-card")],index_es_Gc);var ym=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`,dist_index_es_Fi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_qr=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,ethereum_provider_dist_index_es_w`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){ethereum_provider_dist_index_es_ar.close()}};ethereum_provider_dist_index_es_qr.styles=[ethereum_provider_dist_index_es_we,ym],dist_index_es_Fi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_qr.prototype,"message",void 0),dist_index_es_Fi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_qr.prototype,"backgroundColor",void 0),dist_index_es_Fi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_qr.prototype,"iconColor",void 0),dist_index_es_Fi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_qr.prototype,"icon",void 0),ethereum_provider_dist_index_es_qr=dist_index_es_Fi([ethereum_provider_dist_index_es_F("wui-alertbar")],ethereum_provider_dist_index_es_qr);var xm=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`,b0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const Em={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let index_es_oa=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.open=ethereum_provider_dist_index_es_ar.state.open,this.onOpen(!0),this.unsubscribe.push(ethereum_provider_dist_index_es_ar.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:r}=ethereum_provider_dist_index_es_ar.state,n=Em[r];return ethereum_provider_dist_index_es_w`
      <wui-alertbar
        message=${e}
        backgroundColor=${n?.backgroundColor}
        iconColor=${n?.iconColor}
        icon=${n?.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};index_es_oa.styles=xm,b0([ethereum_provider_dist_index_es_H()],index_es_oa.prototype,"open",void 0),index_es_oa=b0([ethereum_provider_dist_index_es_F("w3m-alertbar")],index_es_oa);var Am=ethereum_provider_dist_index_es_te`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`,index_es_Hi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Kr=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",r=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${r});
`,ethereum_provider_dist_index_es_w`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};ethereum_provider_dist_index_es_Kr.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,dist_index_es_li,Am],index_es_Hi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Kr.prototype,"size",void 0),index_es_Hi([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_Kr.prototype,"disabled",void 0),index_es_Hi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Kr.prototype,"icon",void 0),index_es_Hi([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_Kr.prototype,"iconColor",void 0),ethereum_provider_dist_index_es_Kr=index_es_Hi([ethereum_provider_dist_index_es_F("wui-icon-link")],ethereum_provider_dist_index_es_Kr);var Sm=ethereum_provider_dist_index_es_te`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`,v0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_sa=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.imageSrc=""}render(){return ethereum_provider_dist_index_es_w`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?ethereum_provider_dist_index_es_w`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:ethereum_provider_dist_index_es_w`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};index_es_sa.styles=[ethereum_provider_dist_index_es_we,ethereum_provider_dist_index_es_De,dist_index_es_li,Sm],v0([ethereum_provider_dist_index_es_C()],index_es_sa.prototype,"imageSrc",void 0),index_es_sa=v0([ethereum_provider_dist_index_es_F("wui-select")],index_es_sa);var _m=ethereum_provider_dist_index_es_te`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,ethereum_provider_dist_index_es_Lt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const Im=["SmartSessionList"];function index_es_qc(){const t=dist_index_es_D.state.data?.connector?.name,e=dist_index_es_D.state.data?.wallet?.name,r=dist_index_es_D.state.data?.network?.name,n=e??t,i=ethereum_provider_dist_index_es_j.getConnectors();return{Connect:`Connect ${i.length===1&&i[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:n??"Connect Wallet",ConnectingWalletConnect:n??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Profile:void 0,SwitchNetwork:r??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:dist_index_es_Q.state.socialProvider?dist_index_es_Q.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In"}}let dist_index_es_Ct=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.heading=index_es_qc()[dist_index_es_D.state.view],this.network=ethereum_provider_dist_index_es_f.state.activeCaipNetwork,this.networkImage=dist_index_es_Oe.getNetworkImage(this.network),this.buffering=!1,this.showBack=!1,this.prevHistoryLength=1,this.view=dist_index_es_D.state.view,this.viewDirection="",this.headerText=index_es_qc()[dist_index_es_D.state.view],this.unsubscribe.push(ethereum_provider_dist_index_es_Ye.subscribeNetworkImages(()=>{this.networkImage=dist_index_es_Oe.getNetworkImage(this.network)}),dist_index_es_D.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=index_es_qc()[e]},ethereum_provider_dist_index_es_gr.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),dist_index_es_Y.subscribeKey("buffering",e=>this.buffering=e),ethereum_provider_dist_index_es_f.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=dist_index_es_Oe.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return ethereum_provider_dist_index_es_w`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),dist_index_es_D.push("WhatIsAWallet")}async onClose(){dist_index_es_D.state.view==="UnsupportedChain"||await ethereum_provider_dist_index_es_lr.isSIWXCloseDisabled()?ethereum_provider_dist_index_es_he.shake():ethereum_provider_dist_index_es_he.close()}rightHeaderTemplate(){const e=ethereum_provider_dist_index_es_T?.state?.features?.smartSessions;return dist_index_es_D.state.view!=="Account"||!e?this.closeButtonTemplate():ethereum_provider_dist_index_es_w`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>dist_index_es_D.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return ethereum_provider_dist_index_es_w`
      <wui-icon-link
        ?disabled=${this.buffering}
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=Im.includes(this.view);return ethereum_provider_dist_index_es_w`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?ethereum_provider_dist_index_es_w`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=dist_index_es_D.state,r=e==="Connect",n=ethereum_provider_dist_index_es_T.state.enableEmbedded,i=e==="ApproveTransaction",o=e==="ConnectingSiwe",s=e==="Account",a=ethereum_provider_dist_index_es_T.state.enableNetworkSwitch,c=i||o||r&&n;return s&&a?ethereum_provider_dist_index_es_w`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${ethereum_provider_dist_index_es_re(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${ethereum_provider_dist_index_es_re(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?ethereum_provider_dist_index_es_w`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        ?disabled=${this.buffering}
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:ethereum_provider_dist_index_es_w`<wui-icon-link
      data-hidden=${!r}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(ethereum_provider_dist_index_es_le.sendEvent({type:"track",event:"CLICK_NETWORKS"}),dist_index_es_D.push("Networks"))}isAllowedNetworkSwitch(){const e=ethereum_provider_dist_index_es_f.getAllRequestedCaipNetworks(),r=e?e.length>1:!1,n=e?.find(({id:i})=>i===this.network?.id);return r||!n}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=dist_index_es_D.state;let r=ethereum_provider_dist_index_es_gr.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(r=ethereum_provider_dist_index_es_gr.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=r}async onHistoryChange(){const{history:e}=dist_index_es_D.state,r=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&r?(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){dist_index_es_D.goBack()}};dist_index_es_Ct.styles=_m,ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"heading",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"network",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"networkImage",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"buffering",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"showBack",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"prevHistoryLength",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"view",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"viewDirection",void 0),ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_H()],dist_index_es_Ct.prototype,"headerText",void 0),dist_index_es_Ct=ethereum_provider_dist_index_es_Lt([ethereum_provider_dist_index_es_F("w3m-header")],dist_index_es_Ct);var Nm=ethereum_provider_dist_index_es_te`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`,ethereum_provider_dist_index_es_Yr=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_rr=class extends ethereum_provider_dist_index_es_V{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return ethereum_provider_dist_index_es_w`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?ethereum_provider_dist_index_es_w`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?ethereum_provider_dist_index_es_w`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:ethereum_provider_dist_index_es_w`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};ethereum_provider_dist_index_es_rr.styles=[ethereum_provider_dist_index_es_we,Nm],ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_rr.prototype,"backgroundColor",void 0),ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_rr.prototype,"iconColor",void 0),ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_rr.prototype,"icon",void 0),ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_rr.prototype,"message",void 0),ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_rr.prototype,"loading",void 0),ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_C()],ethereum_provider_dist_index_es_rr.prototype,"iconType",void 0),ethereum_provider_dist_index_es_rr=ethereum_provider_dist_index_es_Yr([ethereum_provider_dist_index_es_F("wui-snackbar")],ethereum_provider_dist_index_es_rr);var km=ethereum_provider_dist_index_es_te`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`,C0=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const Tm={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let index_es_aa=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=ethereum_provider_dist_index_es_Ee.state.open,this.unsubscribe.push(ethereum_provider_dist_index_es_Ee.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:r,svg:n}=ethereum_provider_dist_index_es_Ee.state,i=Tm[r],{icon:o,iconColor:s}=n??i??{};return ethereum_provider_dist_index_es_w`
      <wui-snackbar
        message=${e}
        backgroundColor=${i?.backgroundColor}
        iconColor=${s}
        icon=${o}
        .loading=${r==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),ethereum_provider_dist_index_es_Ee.state.autoClose&&(this.timeout=setTimeout(()=>ethereum_provider_dist_index_es_Ee.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};index_es_aa.styles=km,C0([ethereum_provider_dist_index_es_H()],index_es_aa.prototype,"open",void 0),index_es_aa=C0([ethereum_provider_dist_index_es_F("w3m-snackbar")],index_es_aa);var Om=ethereum_provider_dist_index_es_te`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`,dist_index_es_Vi=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let ethereum_provider_dist_index_es_Xr=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.open=ethereum_provider_dist_index_es_mn.state.open,this.message=ethereum_provider_dist_index_es_mn.state.message,this.triggerRect=ethereum_provider_dist_index_es_mn.state.triggerRect,this.variant=ethereum_provider_dist_index_es_mn.state.variant,this.unsubscribe.push(ethereum_provider_dist_index_es_mn.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,r=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${r}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,ethereum_provider_dist_index_es_w`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};ethereum_provider_dist_index_es_Xr.styles=[Om],dist_index_es_Vi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Xr.prototype,"open",void 0),dist_index_es_Vi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Xr.prototype,"message",void 0),dist_index_es_Vi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Xr.prototype,"triggerRect",void 0),dist_index_es_Vi([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Xr.prototype,"variant",void 0),ethereum_provider_dist_index_es_Xr=dist_index_es_Vi([ethereum_provider_dist_index_es_F("w3m-tooltip"),ethereum_provider_dist_index_es_F("w3m-tooltip")],ethereum_provider_dist_index_es_Xr);var $m=ethereum_provider_dist_index_es_te`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`,index_es_Kc=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};let index_es_Zi=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=dist_index_es_D.state.view,this.viewDirection="",this.unsubscribe.push(dist_index_es_D.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){this.resizeObserver=new ResizeObserver(([e])=>{const r=`${e?.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",r),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=r,this.style.animation="unset"},ethereum_provider_dist_index_es_gr.ANIMATION_DURATIONS.ModalHeight)}),this.resizeObserver?.observe(this.getWrapper())}disconnectedCallback(){this.resizeObserver?.unobserve(this.getWrapper()),this.unsubscribe.forEach(e=>e())}render(){return ethereum_provider_dist_index_es_w`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return ethereum_provider_dist_index_es_w`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return ethereum_provider_dist_index_es_w`<w3m-account-view></w3m-account-view>`;case"AllWallets":return ethereum_provider_dist_index_es_w`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return ethereum_provider_dist_index_es_w`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return ethereum_provider_dist_index_es_w`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return ethereum_provider_dist_index_es_w`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return ethereum_provider_dist_index_es_w`<w3m-connect-view></w3m-connect-view>`;case"Create":return ethereum_provider_dist_index_es_w`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return ethereum_provider_dist_index_es_w`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return ethereum_provider_dist_index_es_w`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return ethereum_provider_dist_index_es_w`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return ethereum_provider_dist_index_es_w`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return ethereum_provider_dist_index_es_w`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return ethereum_provider_dist_index_es_w`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return ethereum_provider_dist_index_es_w`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return ethereum_provider_dist_index_es_w`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return ethereum_provider_dist_index_es_w`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return ethereum_provider_dist_index_es_w`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return ethereum_provider_dist_index_es_w`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return ethereum_provider_dist_index_es_w`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return ethereum_provider_dist_index_es_w`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return ethereum_provider_dist_index_es_w`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return ethereum_provider_dist_index_es_w`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return ethereum_provider_dist_index_es_w`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return ethereum_provider_dist_index_es_w`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return ethereum_provider_dist_index_es_w`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return ethereum_provider_dist_index_es_w`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return ethereum_provider_dist_index_es_w`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return ethereum_provider_dist_index_es_w`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return ethereum_provider_dist_index_es_w`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return ethereum_provider_dist_index_es_w`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return ethereum_provider_dist_index_es_w`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return ethereum_provider_dist_index_es_w`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return ethereum_provider_dist_index_es_w`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return ethereum_provider_dist_index_es_w`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return ethereum_provider_dist_index_es_w`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return ethereum_provider_dist_index_es_w`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return ethereum_provider_dist_index_es_w`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return ethereum_provider_dist_index_es_w`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return ethereum_provider_dist_index_es_w`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return ethereum_provider_dist_index_es_w`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return ethereum_provider_dist_index_es_w`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return ethereum_provider_dist_index_es_w`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return ethereum_provider_dist_index_es_w`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return ethereum_provider_dist_index_es_w`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return ethereum_provider_dist_index_es_w`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return ethereum_provider_dist_index_es_w`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return ethereum_provider_dist_index_es_w`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return ethereum_provider_dist_index_es_w`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return ethereum_provider_dist_index_es_w`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return ethereum_provider_dist_index_es_w`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return ethereum_provider_dist_index_es_w`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return ethereum_provider_dist_index_es_w`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;default:return ethereum_provider_dist_index_es_w`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){ethereum_provider_dist_index_es_mn.hide();let r=ethereum_provider_dist_index_es_gr.VIEW_DIRECTION.Next;const{history:n}=dist_index_es_D.state;n.length<this.prevHistoryLength&&(r=ethereum_provider_dist_index_es_gr.VIEW_DIRECTION.Prev),this.prevHistoryLength=n.length,this.viewDirection=r,setTimeout(()=>{this.view=e},ethereum_provider_dist_index_es_gr.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){return this.shadowRoot?.querySelector("div")}};index_es_Zi.styles=$m,index_es_Kc([ethereum_provider_dist_index_es_H()],index_es_Zi.prototype,"view",void 0),index_es_Kc([ethereum_provider_dist_index_es_H()],index_es_Zi.prototype,"viewDirection",void 0),index_es_Zi=index_es_Kc([ethereum_provider_dist_index_es_F("w3m-router")],index_es_Zi);var Pm=ethereum_provider_dist_index_es_te`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.embedded) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.embedded) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`,ethereum_provider_dist_index_es_Jr=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};const y0="scroll-lock";let ethereum_provider_dist_index_es_Ut=class extends ethereum_provider_dist_index_es_V{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=ethereum_provider_dist_index_es_T.state.enableEmbedded,this.open=ethereum_provider_dist_index_es_he.state.open,this.caipAddress=ethereum_provider_dist_index_es_f.state.activeCaipAddress,this.caipNetwork=ethereum_provider_dist_index_es_f.state.activeCaipNetwork,this.shake=ethereum_provider_dist_index_es_he.state.shake,this.filterByNamespace=ethereum_provider_dist_index_es_j.state.filterByNamespace,this.initializeTheming(),ethereum_provider_dist_index_es_W.prefetchAnalyticsConfig(),this.unsubscribe.push(ethereum_provider_dist_index_es_he.subscribeKey("open",e=>e?this.onOpen():this.onClose()),ethereum_provider_dist_index_es_he.subscribeKey("shake",e=>this.shake=e),ethereum_provider_dist_index_es_f.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),ethereum_provider_dist_index_es_f.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),ethereum_provider_dist_index_es_T.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),ethereum_provider_dist_index_es_j.subscribeKey("filterByNamespace",e=>{this.filterByNamespace!==e&&!ethereum_provider_dist_index_es_f.getAccountData(e)?.caipAddress&&(ethereum_provider_dist_index_es_W.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){ethereum_provider_dist_index_es_he.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?ethereum_provider_dist_index_es_w`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?ethereum_provider_dist_index_es_w`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return ethereum_provider_dist_index_es_w` <wui-card
      shake="${this.shake}"
      data-embedded="${ethereum_provider_dist_index_es_re(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){dist_index_es_D.state.view==="UnsupportedChain"||await ethereum_provider_dist_index_es_lr.isSIWXCloseDisabled()?ethereum_provider_dist_index_es_he.shake():ethereum_provider_dist_index_es_he.close()}initializeTheming(){const{themeVariables:e,themeMode:r}=ethereum_provider_dist_index_es_$e.state,n=ethereum_provider_dist_index_es_Me.getColorTheme(r);Tg(e,n)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),ethereum_provider_dist_index_es_Ee.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=y0,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${y0}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){const{tagName:n}=r.target;n&&!n.includes("W3M-")&&!n.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const r=ethereum_provider_dist_index_es_f.state.isSwitchingNamespace,n=index_es_U.getPlainAddress(e);!n&&!r?ethereum_provider_dist_index_es_he.close():r&&n&&dist_index_es_D.goBack(),await ethereum_provider_dist_index_es_lr.initializeIfEnabled(),this.caipAddress=e,ethereum_provider_dist_index_es_f.setIsSwitchingNamespace(!1)}onNewNetwork(e){const r=this.caipNetwork,n=r?.caipNetworkId?.toString(),i=r?.chainNamespace,o=e?.caipNetworkId?.toString(),s=e?.chainNamespace,a=n!==o,l=a&&!(i!==s),d=r?.name===ethereum_provider_dist_index_es_G.UNSUPPORTED_NETWORK_NAME,u=dist_index_es_D.state.view==="ConnectingExternal",h=!this.caipAddress,p=dist_index_es_D.state.view==="UnsupportedChain",v=ethereum_provider_dist_index_es_he.state.open;let m=!1;v&&!u&&(h?a&&(m=!0):(p||l&&!d)&&(m=!0)),m&&dist_index_es_D.state.view!=="SIWXSignMessage"&&dist_index_es_D.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(ethereum_provider_dist_index_es_W.prefetch(),ethereum_provider_dist_index_es_W.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}};ethereum_provider_dist_index_es_Ut.styles=Pm,ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_C({type:Boolean})],ethereum_provider_dist_index_es_Ut.prototype,"enableEmbedded",void 0),ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Ut.prototype,"open",void 0),ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Ut.prototype,"caipAddress",void 0),ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Ut.prototype,"caipNetwork",void 0),ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Ut.prototype,"shake",void 0),ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_H()],ethereum_provider_dist_index_es_Ut.prototype,"filterByNamespace",void 0),ethereum_provider_dist_index_es_Ut=ethereum_provider_dist_index_es_Jr([ethereum_provider_dist_index_es_F("w3m-modal")],ethereum_provider_dist_index_es_Ut);var Bm=Object.freeze({__proto__:null,get W3mModal(){return ethereum_provider_dist_index_es_Ut}});const Rm=ethereum_provider_dist_index_es_M`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`;var Lm=Object.freeze({__proto__:null,addSvg:Rm});const Um=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`;var Mm=Object.freeze({__proto__:null,allWalletsSvg:Um});const Dm=ethereum_provider_dist_index_es_M`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`;var zm=Object.freeze({__proto__:null,arrowBottomCircleSvg:Dm});const Wm=ethereum_provider_dist_index_es_M`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`;var jm=Object.freeze({__proto__:null,appStoreSvg:Wm});const Fm=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var Hm=Object.freeze({__proto__:null,appleSvg:Fm});const Vm=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var Zm=Object.freeze({__proto__:null,arrowBottomSvg:Vm});const Gm=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`;var qm=Object.freeze({__proto__:null,arrowLeftSvg:Gm});const Km=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var Ym=Object.freeze({__proto__:null,arrowRightSvg:Km});const Xm=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`;var Jm=Object.freeze({__proto__:null,arrowTopSvg:Xm});const Qm=ethereum_provider_dist_index_es_M`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`;var e3=Object.freeze({__proto__:null,bankSvg:Qm});const t3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`;var r3=Object.freeze({__proto__:null,browserSvg:t3});const n3=ethereum_provider_dist_index_es_M`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`;var i3=Object.freeze({__proto__:null,cardSvg:n3});const o3=ethereum_provider_dist_index_es_M`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`;var s3=Object.freeze({__proto__:null,checkmarkSvg:o3});const a3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`;var c3=Object.freeze({__proto__:null,checkmarkBoldSvg:a3});const l3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`;var d3=Object.freeze({__proto__:null,chevronBottomSvg:l3});const u3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`;var h3=Object.freeze({__proto__:null,chevronLeftSvg:u3});const p3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`;var f3=Object.freeze({__proto__:null,chevronRightSvg:p3});const g3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`;var w3=Object.freeze({__proto__:null,chevronTopSvg:g3});const m3=ethereum_provider_dist_index_es_M`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`;var b3=Object.freeze({__proto__:null,chromeStoreSvg:m3});const v3=ethereum_provider_dist_index_es_M`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`;var C3=Object.freeze({__proto__:null,clockSvg:v3});const y3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`;var x3=Object.freeze({__proto__:null,closeSvg:y3});const E3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`;var A3=Object.freeze({__proto__:null,compassSvg:E3});const S3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`;var _3=Object.freeze({__proto__:null,coinPlaceholderSvg:S3});const I3=ethereum_provider_dist_index_es_M`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`;var N3=Object.freeze({__proto__:null,copySvg:I3});const k3=ethereum_provider_dist_index_es_M` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`;var T3=Object.freeze({__proto__:null,cursorSvg:k3});const O3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `;var $3=Object.freeze({__proto__:null,cursorTransparentSvg:O3});const P3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`;var B3=Object.freeze({__proto__:null,desktopSvg:P3});const R3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`;var L3=Object.freeze({__proto__:null,disconnectSvg:R3});const U3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`;var M3=Object.freeze({__proto__:null,discordSvg:U3});const D3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`;var z3=Object.freeze({__proto__:null,etherscanSvg:D3});const W3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`;var j3=Object.freeze({__proto__:null,extensionSvg:W3});const F3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var H3=Object.freeze({__proto__:null,externalLinkSvg:F3});const V3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var Z3=Object.freeze({__proto__:null,facebookSvg:V3});const G3=ethereum_provider_dist_index_es_M`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`;var q3=Object.freeze({__proto__:null,farcasterSvg:G3});const K3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var Y3=Object.freeze({__proto__:null,filtersSvg:K3});const X3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var J3=Object.freeze({__proto__:null,githubSvg:X3});const Q3=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`;var e5=Object.freeze({__proto__:null,googleSvg:Q3});const t5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`;var r5=Object.freeze({__proto__:null,helpCircleSvg:t5});const n5=ethereum_provider_dist_index_es_M`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`;var i5=Object.freeze({__proto__:null,imageSvg:n5});const o5=ethereum_provider_dist_index_es_M`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`;var s5=Object.freeze({__proto__:null,idSvg:o5});const a5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`;var c5=Object.freeze({__proto__:null,infoCircleSvg:a5});const l5=ethereum_provider_dist_index_es_M`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`;var d5=Object.freeze({__proto__:null,lightbulbSvg:l5});const u5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`;var h5=Object.freeze({__proto__:null,mailSvg:u5});const p5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`;var f5=Object.freeze({__proto__:null,mobileSvg:p5});const g5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`;var w5=Object.freeze({__proto__:null,moreSvg:g5});const m5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`;var b5=Object.freeze({__proto__:null,networkPlaceholderSvg:m5});const v5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`;var C5=Object.freeze({__proto__:null,nftPlaceholderSvg:v5});const y5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`;var x5=Object.freeze({__proto__:null,offSvg:y5});const E5=ethereum_provider_dist_index_es_M` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`;var A5=Object.freeze({__proto__:null,playStoreSvg:E5});const S5=ethereum_provider_dist_index_es_M`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`;var _5=Object.freeze({__proto__:null,plusSvg:S5});const I5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`;var N5=Object.freeze({__proto__:null,qrCodeIcon:I5});const k5=ethereum_provider_dist_index_es_M`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`;var T5=Object.freeze({__proto__:null,recycleHorizontalSvg:k5});const O5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`;var $5=Object.freeze({__proto__:null,refreshSvg:O5});const P5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`;var B5=Object.freeze({__proto__:null,searchSvg:P5});const R5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`;var L5=Object.freeze({__proto__:null,sendSvg:R5});const U5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`;var M5=Object.freeze({__proto__:null,swapHorizontalSvg:U5});const D5=ethereum_provider_dist_index_es_M`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`;var z5=Object.freeze({__proto__:null,swapHorizontalMediumSvg:D5});const W5=ethereum_provider_dist_index_es_M`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`;var j5=Object.freeze({__proto__:null,swapHorizontalBoldSvg:W5});const F5=ethereum_provider_dist_index_es_M`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`;var H5=Object.freeze({__proto__:null,swapHorizontalRoundedBoldSvg:F5});const V5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var Z5=Object.freeze({__proto__:null,swapVerticalSvg:V5});const G5=ethereum_provider_dist_index_es_M`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`;var q5=Object.freeze({__proto__:null,telegramSvg:G5});const K5=ethereum_provider_dist_index_es_M`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`;var Y5=Object.freeze({__proto__:null,threeDotsSvg:K5});const X5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var J5=Object.freeze({__proto__:null,twitchSvg:X5});const Q5=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var x0=Object.freeze({__proto__:null,xSvg:Q5});const eb=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`;var tb=Object.freeze({__proto__:null,twitterIconSvg:eb});const rb=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`;var nb=Object.freeze({__proto__:null,verifySvg:rb});const ib=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`;var ob=Object.freeze({__proto__:null,verifyFilledSvg:ib});const sb=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`;var ab=Object.freeze({__proto__:null,walletSvg:sb});const cb=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,lb=ethereum_provider_dist_index_es_M`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,db=ethereum_provider_dist_index_es_M`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`;var index_es_Yc=Object.freeze({__proto__:null,walletConnectSvg:cb,walletConnectLightBrownSvg:lb,walletConnectBrownSvg:db});const ub=ethereum_provider_dist_index_es_M`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`;var hb=Object.freeze({__proto__:null,walletPlaceholderSvg:ub});const pb=ethereum_provider_dist_index_es_M`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`;var fb=Object.freeze({__proto__:null,warningCircleSvg:pb});const gb=ethereum_provider_dist_index_es_M`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`;var wb=Object.freeze({__proto__:null,infoSvg:gb});const mb=ethereum_provider_dist_index_es_M`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`;var bb=Object.freeze({__proto__:null,exclamationTriangleSvg:mb});const vb=ethereum_provider_dist_index_es_M`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`;var Cb=Object.freeze({__proto__:null,reownSvg:vb});
//# sourceMappingURL=index.es.js.map


/***/ }),

/***/ 331861:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ONE_YEAR = exports.FOUR_WEEKS = exports.THREE_WEEKS = exports.TWO_WEEKS = exports.ONE_WEEK = exports.THIRTY_DAYS = exports.SEVEN_DAYS = exports.FIVE_DAYS = exports.THREE_DAYS = exports.ONE_DAY = exports.TWENTY_FOUR_HOURS = exports.TWELVE_HOURS = exports.SIX_HOURS = exports.THREE_HOURS = exports.ONE_HOUR = exports.SIXTY_MINUTES = exports.THIRTY_MINUTES = exports.TEN_MINUTES = exports.FIVE_MINUTES = exports.ONE_MINUTE = exports.SIXTY_SECONDS = exports.THIRTY_SECONDS = exports.TEN_SECONDS = exports.FIVE_SECONDS = exports.ONE_SECOND = void 0;
exports.ONE_SECOND = 1;
exports.FIVE_SECONDS = 5;
exports.TEN_SECONDS = 10;
exports.THIRTY_SECONDS = 30;
exports.SIXTY_SECONDS = 60;
exports.ONE_MINUTE = exports.SIXTY_SECONDS;
exports.FIVE_MINUTES = exports.ONE_MINUTE * 5;
exports.TEN_MINUTES = exports.ONE_MINUTE * 10;
exports.THIRTY_MINUTES = exports.ONE_MINUTE * 30;
exports.SIXTY_MINUTES = exports.ONE_MINUTE * 60;
exports.ONE_HOUR = exports.SIXTY_MINUTES;
exports.THREE_HOURS = exports.ONE_HOUR * 3;
exports.SIX_HOURS = exports.ONE_HOUR * 6;
exports.TWELVE_HOURS = exports.ONE_HOUR * 12;
exports.TWENTY_FOUR_HOURS = exports.ONE_HOUR * 24;
exports.ONE_DAY = exports.TWENTY_FOUR_HOURS;
exports.THREE_DAYS = exports.ONE_DAY * 3;
exports.FIVE_DAYS = exports.ONE_DAY * 5;
exports.SEVEN_DAYS = exports.ONE_DAY * 7;
exports.THIRTY_DAYS = exports.ONE_DAY * 30;
exports.ONE_WEEK = exports.SEVEN_DAYS;
exports.TWO_WEEKS = exports.ONE_WEEK * 2;
exports.THREE_WEEKS = exports.ONE_WEEK * 3;
exports.FOUR_WEEKS = exports.ONE_WEEK * 4;
exports.ONE_YEAR = exports.ONE_DAY * 365;
//# sourceMappingURL=time.js.map

/***/ }),

/***/ 359348:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { EventEmitter } = __webpack_require__(24434)
const { Worker } = __webpack_require__(728167)
const { join } = __webpack_require__(16928)
const { pathToFileURL } = __webpack_require__(187016)
const { wait } = __webpack_require__(448143)
const {
  WRITE_INDEX,
  READ_INDEX
} = __webpack_require__(757784)
const buffer = __webpack_require__(320181)
const assert = __webpack_require__(442613)

const kImpl = Symbol('kImpl')

// V8 limit for string size
const MAX_STRING = buffer.constants.MAX_STRING_LENGTH

class FakeWeakRef {
  constructor (value) {
    this._value = value
  }

  deref () {
    return this._value
  }
}

const FinalizationRegistry = global.FinalizationRegistry || class FakeFinalizationRegistry {
  register () {}
  unregister () {}
}

const WeakRef = global.WeakRef || FakeWeakRef

const registry = new FinalizationRegistry((worker) => {
  if (worker.exited) {
    return
  }
  worker.terminate()
})

function createWorker (stream, opts) {
  const { filename, workerData } = opts

  const bundlerOverrides = '__bundlerPathsOverrides' in globalThis ? globalThis.__bundlerPathsOverrides : {}
  const toExecute = bundlerOverrides['thread-stream-worker'] || join(__dirname, 'lib', 'worker.js')

  const worker = new Worker(toExecute, {
    ...opts.workerOpts,
    workerData: {
      filename: filename.indexOf('file://') === 0
        ? filename
        : pathToFileURL(filename).href,
      dataBuf: stream[kImpl].dataBuf,
      stateBuf: stream[kImpl].stateBuf,
      workerData
    }
  })

  // We keep a strong reference for now,
  // we need to start writing first
  worker.stream = new FakeWeakRef(stream)

  worker.on('message', onWorkerMessage)
  worker.on('exit', onWorkerExit)
  registry.register(stream, worker)

  return worker
}

function drain (stream) {
  assert(!stream[kImpl].sync)
  if (stream[kImpl].needDrain) {
    stream[kImpl].needDrain = false
    stream.emit('drain')
  }
}

function nextFlush (stream) {
  const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX)
  let leftover = stream[kImpl].data.length - writeIndex

  if (leftover > 0) {
    if (stream[kImpl].buf.length === 0) {
      stream[kImpl].flushing = false

      if (stream[kImpl].ending) {
        end(stream)
      } else if (stream[kImpl].needDrain) {
        process.nextTick(drain, stream)
      }

      return
    }

    let toWrite = stream[kImpl].buf.slice(0, leftover)
    let toWriteBytes = Buffer.byteLength(toWrite)
    if (toWriteBytes <= leftover) {
      stream[kImpl].buf = stream[kImpl].buf.slice(leftover)
      // process._rawDebug('writing ' + toWrite.length)
      write(stream, toWrite, nextFlush.bind(null, stream))
    } else {
      // multi-byte utf-8
      stream.flush(() => {
        // err is already handled in flush()
        if (stream.destroyed) {
          return
        }

        Atomics.store(stream[kImpl].state, READ_INDEX, 0)
        Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)

        // Find a toWrite length that fits the buffer
        // it must exists as the buffer is at least 4 bytes length
        // and the max utf-8 length for a char is 4 bytes.
        while (toWriteBytes > stream[kImpl].data.length) {
          leftover = leftover / 2
          toWrite = stream[kImpl].buf.slice(0, leftover)
          toWriteBytes = Buffer.byteLength(toWrite)
        }
        stream[kImpl].buf = stream[kImpl].buf.slice(leftover)
        write(stream, toWrite, nextFlush.bind(null, stream))
      })
    }
  } else if (leftover === 0) {
    if (writeIndex === 0 && stream[kImpl].buf.length === 0) {
      // we had a flushSync in the meanwhile
      return
    }
    stream.flush(() => {
      Atomics.store(stream[kImpl].state, READ_INDEX, 0)
      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)
      nextFlush(stream)
    })
  } else {
    // This should never happen
    throw new Error('overwritten')
  }
}

function onWorkerMessage (msg) {
  const stream = this.stream.deref()
  if (stream === undefined) {
    this.exited = true
    // Terminate the worker.
    this.terminate()
    return
  }

  switch (msg.code) {
    case 'READY':
      // Replace the FakeWeakRef with a
      // proper one.
      this.stream = new WeakRef(stream)

      stream.flush(() => {
        stream[kImpl].ready = true
        stream.emit('ready')
      })
      break
    case 'ERROR':
      destroy(stream, msg.err)
      break
    default:
      throw new Error('this should not happen: ' + msg.code)
  }
}

function onWorkerExit (code) {
  const stream = this.stream.deref()
  if (stream === undefined) {
    // Nothing to do, the worker already exit
    return
  }
  registry.unregister(stream)
  stream.worker.exited = true
  stream.worker.off('exit', onWorkerExit)
  destroy(stream, code !== 0 ? new Error('The worker thread exited') : null)
}

class ThreadStream extends EventEmitter {
  constructor (opts = {}) {
    super()

    if (opts.bufferSize < 4) {
      throw new Error('bufferSize must at least fit a 4-byte utf-8 char')
    }

    this[kImpl] = {}
    this[kImpl].stateBuf = new SharedArrayBuffer(128)
    this[kImpl].state = new Int32Array(this[kImpl].stateBuf)
    this[kImpl].dataBuf = new SharedArrayBuffer(opts.bufferSize || 4 * 1024 * 1024)
    this[kImpl].data = Buffer.from(this[kImpl].dataBuf)
    this[kImpl].sync = opts.sync || false
    this[kImpl].ending = false
    this[kImpl].ended = false
    this[kImpl].needDrain = false
    this[kImpl].destroyed = false
    this[kImpl].flushing = false
    this[kImpl].ready = false
    this[kImpl].finished = false
    this[kImpl].errored = null
    this[kImpl].closed = false
    this[kImpl].buf = ''

    // TODO (fix): Make private?
    this.worker = createWorker(this, opts) // TODO (fix): make private
  }

  write (data) {
    if (this[kImpl].destroyed) {
      throw new Error('the worker has exited')
    }

    if (this[kImpl].ending) {
      throw new Error('the worker is ending')
    }

    if (this[kImpl].flushing && this[kImpl].buf.length + data.length >= MAX_STRING) {
      try {
        writeSync(this)
        this[kImpl].flushing = true
      } catch (err) {
        destroy(this, err)
        return false
      }
    }

    this[kImpl].buf += data

    if (this[kImpl].sync) {
      try {
        writeSync(this)
        return true
      } catch (err) {
        destroy(this, err)
        return false
      }
    }

    if (!this[kImpl].flushing) {
      this[kImpl].flushing = true
      setImmediate(nextFlush, this)
    }

    this[kImpl].needDrain = this[kImpl].data.length - this[kImpl].buf.length - Atomics.load(this[kImpl].state, WRITE_INDEX) <= 0
    return !this[kImpl].needDrain
  }

  end () {
    if (this[kImpl].destroyed) {
      return
    }

    this[kImpl].ending = true
    end(this)
  }

  flush (cb) {
    if (this[kImpl].destroyed) {
      if (typeof cb === 'function') {
        process.nextTick(cb, new Error('the worker has exited'))
      }
      return
    }

    // TODO write all .buf
    const writeIndex = Atomics.load(this[kImpl].state, WRITE_INDEX)
    // process._rawDebug(`(flush) readIndex (${Atomics.load(this.state, READ_INDEX)}) writeIndex (${Atomics.load(this.state, WRITE_INDEX)})`)
    wait(this[kImpl].state, READ_INDEX, writeIndex, Infinity, (err, res) => {
      if (err) {
        destroy(this, err)
        process.nextTick(cb, err)
        return
      }
      if (res === 'not-equal') {
        // TODO handle deadlock
        this.flush(cb)
        return
      }
      process.nextTick(cb)
    })
  }

  flushSync () {
    if (this[kImpl].destroyed) {
      return
    }

    writeSync(this)
    flushSync(this)
  }

  unref () {
    this.worker.unref()
  }

  ref () {
    this.worker.ref()
  }

  get ready () {
    return this[kImpl].ready
  }

  get destroyed () {
    return this[kImpl].destroyed
  }

  get closed () {
    return this[kImpl].closed
  }

  get writable () {
    return !this[kImpl].destroyed && !this[kImpl].ending
  }

  get writableEnded () {
    return this[kImpl].ending
  }

  get writableFinished () {
    return this[kImpl].finished
  }

  get writableNeedDrain () {
    return this[kImpl].needDrain
  }

  get writableObjectMode () {
    return false
  }

  get writableErrored () {
    return this[kImpl].errored
  }
}

function destroy (stream, err) {
  if (stream[kImpl].destroyed) {
    return
  }
  stream[kImpl].destroyed = true

  if (err) {
    stream[kImpl].errored = err
    stream.emit('error', err)
  }

  if (!stream.worker.exited) {
    stream.worker.terminate()
      .catch(() => {})
      .then(() => {
        stream[kImpl].closed = true
        stream.emit('close')
      })
  } else {
    setImmediate(() => {
      stream[kImpl].closed = true
      stream.emit('close')
    })
  }
}

function write (stream, data, cb) {
  // data is smaller than the shared buffer length
  const current = Atomics.load(stream[kImpl].state, WRITE_INDEX)
  const length = Buffer.byteLength(data)
  stream[kImpl].data.write(data, current)
  Atomics.store(stream[kImpl].state, WRITE_INDEX, current + length)
  Atomics.notify(stream[kImpl].state, WRITE_INDEX)
  cb()
  return true
}

function end (stream) {
  if (stream[kImpl].ended || !stream[kImpl].ending || stream[kImpl].flushing) {
    return
  }
  stream[kImpl].ended = true

  try {
    stream.flushSync()

    let readIndex = Atomics.load(stream[kImpl].state, READ_INDEX)

    // process._rawDebug('writing index')
    Atomics.store(stream[kImpl].state, WRITE_INDEX, -1)
    // process._rawDebug(`(end) readIndex (${Atomics.load(stream.state, READ_INDEX)}) writeIndex (${Atomics.load(stream.state, WRITE_INDEX)})`)
    Atomics.notify(stream[kImpl].state, WRITE_INDEX)

    // Wait for the process to complete
    let spins = 0
    while (readIndex !== -1) {
      // process._rawDebug(`read = ${read}`)
      Atomics.wait(stream[kImpl].state, READ_INDEX, readIndex, 1000)
      readIndex = Atomics.load(stream[kImpl].state, READ_INDEX)

      if (readIndex === -2) {
        throw new Error('end() failed')
      }

      if (++spins === 10) {
        throw new Error('end() took too long (10s)')
      }
    }

    process.nextTick(() => {
      stream[kImpl].finished = true
      stream.emit('finish')
    })
  } catch (err) {
    destroy(stream, err)
  }
  // process._rawDebug('end finished...')
}

function writeSync (stream) {
  const cb = () => {
    if (stream[kImpl].ending) {
      end(stream)
    } else if (stream[kImpl].needDrain) {
      process.nextTick(drain, stream)
    }
  }
  stream[kImpl].flushing = false

  while (stream[kImpl].buf.length !== 0) {
    const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX)
    let leftover = stream[kImpl].data.length - writeIndex
    if (leftover === 0) {
      flushSync(stream)
      Atomics.store(stream[kImpl].state, READ_INDEX, 0)
      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)
      continue
    } else if (leftover < 0) {
      // stream should never happen
      throw new Error('overwritten')
    }

    let toWrite = stream[kImpl].buf.slice(0, leftover)
    let toWriteBytes = Buffer.byteLength(toWrite)
    if (toWriteBytes <= leftover) {
      stream[kImpl].buf = stream[kImpl].buf.slice(leftover)
      // process._rawDebug('writing ' + toWrite.length)
      write(stream, toWrite, cb)
    } else {
      // multi-byte utf-8
      flushSync(stream)
      Atomics.store(stream[kImpl].state, READ_INDEX, 0)
      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)

      // Find a toWrite length that fits the buffer
      // it must exists as the buffer is at least 4 bytes length
      // and the max utf-8 length for a char is 4 bytes.
      while (toWriteBytes > stream[kImpl].buf.length) {
        leftover = leftover / 2
        toWrite = stream[kImpl].buf.slice(0, leftover)
        toWriteBytes = Buffer.byteLength(toWrite)
      }
      stream[kImpl].buf = stream[kImpl].buf.slice(leftover)
      write(stream, toWrite, cb)
    }
  }
}

function flushSync (stream) {
  if (stream[kImpl].flushing) {
    throw new Error('unable to flush while flushing')
  }

  // process._rawDebug('flushSync started')

  const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX)

  let spins = 0

  // TODO handle deadlock
  while (true) {
    const readIndex = Atomics.load(stream[kImpl].state, READ_INDEX)

    if (readIndex === -2) {
      throw new Error('_flushSync failed')
    }

    // process._rawDebug(`(flushSync) readIndex (${readIndex}) writeIndex (${writeIndex})`)
    if (readIndex !== writeIndex) {
      // TODO stream timeouts for some reason.
      Atomics.wait(stream[kImpl].state, READ_INDEX, readIndex, 1000)
    } else {
      break
    }

    if (++spins === 10) {
      throw new Error('_flushSync took too long (10s)')
    }
  }
  // process._rawDebug('flushSync finished')
}

module.exports = ThreadStream


/***/ }),

/***/ 386754:
/***/ ((module) => {

"use strict";


module.exports = state

function state (o) {
  const {
    secret,
    censor,
    compileRestore,
    serialize,
    groupRedact,
    nestedRedact,
    wildcards,
    wcLen
  } = o
  const builder = [{ secret, censor, compileRestore }]
  if (serialize !== false) builder.push({ serialize })
  if (wcLen > 0) builder.push({ groupRedact, nestedRedact, wildcards, wcLen })
  return Object.assign(...builder)
}


/***/ }),

/***/ 388900:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(880584);
tslib_1.__exportStar(__webpack_require__(599606), exports);
tslib_1.__exportStar(__webpack_require__(789883), exports);
tslib_1.__exportStar(__webpack_require__(662010), exports);
tslib_1.__exportStar(__webpack_require__(149026), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 391089:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isBrowser = exports.isNode = exports.isReactNative = void 0;
function isReactNative() {
    return (typeof document === "undefined" &&
        typeof navigator !== "undefined" &&
        navigator.product === "ReactNative");
}
exports.isReactNative = isReactNative;
function isNode() {
    return (typeof process !== "undefined" &&
        typeof process.versions !== "undefined" &&
        typeof process.versions.node !== "undefined");
}
exports.isNode = isNode;
function isBrowser() {
    return !isReactNative() && !isNode();
}
exports.isBrowser = isBrowser;
//# sourceMappingURL=env.js.map

/***/ }),

/***/ 400315:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* eslint no-unused-vars: ["error", { "varsIgnorePattern": "^Readable$" }] */



const EventEmitter = __webpack_require__(24434);
const https = __webpack_require__(665692);
const http = __webpack_require__(958611);
const net = __webpack_require__(969278);
const tls = __webpack_require__(564756);
const { randomBytes, createHash } = __webpack_require__(776982);
const { Readable } = __webpack_require__(302203);
const { URL } = __webpack_require__(187016);

const PerMessageDeflate = __webpack_require__(776994);
const Receiver = __webpack_require__(79195);
const Sender = __webpack_require__(582055);
const {
  BINARY_TYPES,
  EMPTY_BUFFER,
  GUID,
  kStatusCode,
  kWebSocket,
  NOOP
} = __webpack_require__(243713);
const { addEventListener, removeEventListener } = __webpack_require__(59360);
const { format, parse } = __webpack_require__(101177);
const { toBuffer } = __webpack_require__(699405);

const readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];
const protocolVersions = [8, 13];
const closeTimeout = 30 * 1000;

/**
 * Class representing a WebSocket.
 *
 * @extends EventEmitter
 */
class WebSocket extends EventEmitter {
  /**
   * Create a new `WebSocket`.
   *
   * @param {(String|URL)} address The URL to which to connect
   * @param {(String|String[])} [protocols] The subprotocols
   * @param {Object} [options] Connection options
   */
  constructor(address, protocols, options) {
    super();

    this._binaryType = BINARY_TYPES[0];
    this._closeCode = 1006;
    this._closeFrameReceived = false;
    this._closeFrameSent = false;
    this._closeMessage = '';
    this._closeTimer = null;
    this._extensions = {};
    this._protocol = '';
    this._readyState = WebSocket.CONNECTING;
    this._receiver = null;
    this._sender = null;
    this._socket = null;

    if (address !== null) {
      this._bufferedAmount = 0;
      this._isServer = false;
      this._redirects = 0;

      if (Array.isArray(protocols)) {
        protocols = protocols.join(', ');
      } else if (typeof protocols === 'object' && protocols !== null) {
        options = protocols;
        protocols = undefined;
      }

      initAsClient(this, address, protocols, options);
    } else {
      this._isServer = true;
    }
  }

  /**
   * This deviates from the WHATWG interface since ws doesn't support the
   * required default "blob" type (instead we define a custom "nodebuffer"
   * type).
   *
   * @type {String}
   */
  get binaryType() {
    return this._binaryType;
  }

  set binaryType(type) {
    if (!BINARY_TYPES.includes(type)) return;

    this._binaryType = type;

    //
    // Allow to change `binaryType` on the fly.
    //
    if (this._receiver) this._receiver._binaryType = type;
  }

  /**
   * @type {Number}
   */
  get bufferedAmount() {
    if (!this._socket) return this._bufferedAmount;

    return this._socket._writableState.length + this._sender._bufferedBytes;
  }

  /**
   * @type {String}
   */
  get extensions() {
    return Object.keys(this._extensions).join();
  }

  /**
   * @type {Function}
   */
  /* istanbul ignore next */
  get onclose() {
    return undefined;
  }

  /* istanbul ignore next */
  set onclose(listener) {}

  /**
   * @type {Function}
   */
  /* istanbul ignore next */
  get onerror() {
    return undefined;
  }

  /* istanbul ignore next */
  set onerror(listener) {}

  /**
   * @type {Function}
   */
  /* istanbul ignore next */
  get onopen() {
    return undefined;
  }

  /* istanbul ignore next */
  set onopen(listener) {}

  /**
   * @type {Function}
   */
  /* istanbul ignore next */
  get onmessage() {
    return undefined;
  }

  /* istanbul ignore next */
  set onmessage(listener) {}

  /**
   * @type {String}
   */
  get protocol() {
    return this._protocol;
  }

  /**
   * @type {Number}
   */
  get readyState() {
    return this._readyState;
  }

  /**
   * @type {String}
   */
  get url() {
    return this._url;
  }

  /**
   * Set up the socket and the internal resources.
   *
   * @param {(net.Socket|tls.Socket)} socket The network socket between the
   *     server and client
   * @param {Buffer} head The first packet of the upgraded stream
   * @param {Number} [maxPayload=0] The maximum allowed message size
   * @private
   */
  setSocket(socket, head, maxPayload) {
    const receiver = new Receiver(
      this.binaryType,
      this._extensions,
      this._isServer,
      maxPayload
    );

    this._sender = new Sender(socket, this._extensions);
    this._receiver = receiver;
    this._socket = socket;

    receiver[kWebSocket] = this;
    socket[kWebSocket] = this;

    receiver.on('conclude', receiverOnConclude);
    receiver.on('drain', receiverOnDrain);
    receiver.on('error', receiverOnError);
    receiver.on('message', receiverOnMessage);
    receiver.on('ping', receiverOnPing);
    receiver.on('pong', receiverOnPong);

    socket.setTimeout(0);
    socket.setNoDelay();

    if (head.length > 0) socket.unshift(head);

    socket.on('close', socketOnClose);
    socket.on('data', socketOnData);
    socket.on('end', socketOnEnd);
    socket.on('error', socketOnError);

    this._readyState = WebSocket.OPEN;
    this.emit('open');
  }

  /**
   * Emit the `'close'` event.
   *
   * @private
   */
  emitClose() {
    if (!this._socket) {
      this._readyState = WebSocket.CLOSED;
      this.emit('close', this._closeCode, this._closeMessage);
      return;
    }

    if (this._extensions[PerMessageDeflate.extensionName]) {
      this._extensions[PerMessageDeflate.extensionName].cleanup();
    }

    this._receiver.removeAllListeners();
    this._readyState = WebSocket.CLOSED;
    this.emit('close', this._closeCode, this._closeMessage);
  }

  /**
   * Start a closing handshake.
   *
   *          +----------+   +-----------+   +----------+
   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -
   *    |     +----------+   +-----------+   +----------+     |
   *          +----------+   +-----------+         |
   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING
   *          +----------+   +-----------+   |
   *    |           |                        |   +---+        |
   *                +------------------------+-->|fin| - - - -
   *    |         +---+                      |   +---+
   *     - - - - -|fin|<---------------------+
   *              +---+
   *
   * @param {Number} [code] Status code explaining why the connection is closing
   * @param {String} [data] A string explaining why the connection is closing
   * @public
   */
  close(code, data) {
    if (this.readyState === WebSocket.CLOSED) return;
    if (this.readyState === WebSocket.CONNECTING) {
      const msg = 'WebSocket was closed before the connection was established';
      return abortHandshake(this, this._req, msg);
    }

    if (this.readyState === WebSocket.CLOSING) {
      if (
        this._closeFrameSent &&
        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)
      ) {
        this._socket.end();
      }

      return;
    }

    this._readyState = WebSocket.CLOSING;
    this._sender.close(code, data, !this._isServer, (err) => {
      //
      // This error is handled by the `'error'` listener on the socket. We only
      // want to know if the close frame has been sent here.
      //
      if (err) return;

      this._closeFrameSent = true;

      if (
        this._closeFrameReceived ||
        this._receiver._writableState.errorEmitted
      ) {
        this._socket.end();
      }
    });

    //
    // Specify a timeout for the closing handshake to complete.
    //
    this._closeTimer = setTimeout(
      this._socket.destroy.bind(this._socket),
      closeTimeout
    );
  }

  /**
   * Send a ping.
   *
   * @param {*} [data] The data to send
   * @param {Boolean} [mask] Indicates whether or not to mask `data`
   * @param {Function} [cb] Callback which is executed when the ping is sent
   * @public
   */
  ping(data, mask, cb) {
    if (this.readyState === WebSocket.CONNECTING) {
      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');
    }

    if (typeof data === 'function') {
      cb = data;
      data = mask = undefined;
    } else if (typeof mask === 'function') {
      cb = mask;
      mask = undefined;
    }

    if (typeof data === 'number') data = data.toString();

    if (this.readyState !== WebSocket.OPEN) {
      sendAfterClose(this, data, cb);
      return;
    }

    if (mask === undefined) mask = !this._isServer;
    this._sender.ping(data || EMPTY_BUFFER, mask, cb);
  }

  /**
   * Send a pong.
   *
   * @param {*} [data] The data to send
   * @param {Boolean} [mask] Indicates whether or not to mask `data`
   * @param {Function} [cb] Callback which is executed when the pong is sent
   * @public
   */
  pong(data, mask, cb) {
    if (this.readyState === WebSocket.CONNECTING) {
      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');
    }

    if (typeof data === 'function') {
      cb = data;
      data = mask = undefined;
    } else if (typeof mask === 'function') {
      cb = mask;
      mask = undefined;
    }

    if (typeof data === 'number') data = data.toString();

    if (this.readyState !== WebSocket.OPEN) {
      sendAfterClose(this, data, cb);
      return;
    }

    if (mask === undefined) mask = !this._isServer;
    this._sender.pong(data || EMPTY_BUFFER, mask, cb);
  }

  /**
   * Send a data message.
   *
   * @param {*} data The message to send
   * @param {Object} [options] Options object
   * @param {Boolean} [options.compress] Specifies whether or not to compress
   *     `data`
   * @param {Boolean} [options.binary] Specifies whether `data` is binary or
   *     text
   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the
   *     last one
   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`
   * @param {Function} [cb] Callback which is executed when data is written out
   * @public
   */
  send(data, options, cb) {
    if (this.readyState === WebSocket.CONNECTING) {
      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');
    }

    if (typeof options === 'function') {
      cb = options;
      options = {};
    }

    if (typeof data === 'number') data = data.toString();

    if (this.readyState !== WebSocket.OPEN) {
      sendAfterClose(this, data, cb);
      return;
    }

    const opts = {
      binary: typeof data !== 'string',
      mask: !this._isServer,
      compress: true,
      fin: true,
      ...options
    };

    if (!this._extensions[PerMessageDeflate.extensionName]) {
      opts.compress = false;
    }

    this._sender.send(data || EMPTY_BUFFER, opts, cb);
  }

  /**
   * Forcibly close the connection.
   *
   * @public
   */
  terminate() {
    if (this.readyState === WebSocket.CLOSED) return;
    if (this.readyState === WebSocket.CONNECTING) {
      const msg = 'WebSocket was closed before the connection was established';
      return abortHandshake(this, this._req, msg);
    }

    if (this._socket) {
      this._readyState = WebSocket.CLOSING;
      this._socket.destroy();
    }
  }
}

/**
 * @constant {Number} CONNECTING
 * @memberof WebSocket
 */
Object.defineProperty(WebSocket, 'CONNECTING', {
  enumerable: true,
  value: readyStates.indexOf('CONNECTING')
});

/**
 * @constant {Number} CONNECTING
 * @memberof WebSocket.prototype
 */
Object.defineProperty(WebSocket.prototype, 'CONNECTING', {
  enumerable: true,
  value: readyStates.indexOf('CONNECTING')
});

/**
 * @constant {Number} OPEN
 * @memberof WebSocket
 */
Object.defineProperty(WebSocket, 'OPEN', {
  enumerable: true,
  value: readyStates.indexOf('OPEN')
});

/**
 * @constant {Number} OPEN
 * @memberof WebSocket.prototype
 */
Object.defineProperty(WebSocket.prototype, 'OPEN', {
  enumerable: true,
  value: readyStates.indexOf('OPEN')
});

/**
 * @constant {Number} CLOSING
 * @memberof WebSocket
 */
Object.defineProperty(WebSocket, 'CLOSING', {
  enumerable: true,
  value: readyStates.indexOf('CLOSING')
});

/**
 * @constant {Number} CLOSING
 * @memberof WebSocket.prototype
 */
Object.defineProperty(WebSocket.prototype, 'CLOSING', {
  enumerable: true,
  value: readyStates.indexOf('CLOSING')
});

/**
 * @constant {Number} CLOSED
 * @memberof WebSocket
 */
Object.defineProperty(WebSocket, 'CLOSED', {
  enumerable: true,
  value: readyStates.indexOf('CLOSED')
});

/**
 * @constant {Number} CLOSED
 * @memberof WebSocket.prototype
 */
Object.defineProperty(WebSocket.prototype, 'CLOSED', {
  enumerable: true,
  value: readyStates.indexOf('CLOSED')
});

[
  'binaryType',
  'bufferedAmount',
  'extensions',
  'protocol',
  'readyState',
  'url'
].forEach((property) => {
  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });
});

//
// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.
// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface
//
['open', 'error', 'close', 'message'].forEach((method) => {
  Object.defineProperty(WebSocket.prototype, `on${method}`, {
    enumerable: true,
    get() {
      const listeners = this.listeners(method);
      for (let i = 0; i < listeners.length; i++) {
        if (listeners[i]._listener) return listeners[i]._listener;
      }

      return undefined;
    },
    set(listener) {
      const listeners = this.listeners(method);
      for (let i = 0; i < listeners.length; i++) {
        //
        // Remove only the listeners added via `addEventListener`.
        //
        if (listeners[i]._listener) this.removeListener(method, listeners[i]);
      }
      this.addEventListener(method, listener);
    }
  });
});

WebSocket.prototype.addEventListener = addEventListener;
WebSocket.prototype.removeEventListener = removeEventListener;

module.exports = WebSocket;

/**
 * Initialize a WebSocket client.
 *
 * @param {WebSocket} websocket The client to initialize
 * @param {(String|URL)} address The URL to which to connect
 * @param {String} [protocols] The subprotocols
 * @param {Object} [options] Connection options
 * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable
 *     permessage-deflate
 * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the
 *     handshake request
 * @param {Number} [options.protocolVersion=13] Value of the
 *     `Sec-WebSocket-Version` header
 * @param {String} [options.origin] Value of the `Origin` or
 *     `Sec-WebSocket-Origin` header
 * @param {Number} [options.maxPayload=104857600] The maximum allowed message
 *     size
 * @param {Boolean} [options.followRedirects=false] Whether or not to follow
 *     redirects
 * @param {Number} [options.maxRedirects=10] The maximum number of redirects
 *     allowed
 * @private
 */
function initAsClient(websocket, address, protocols, options) {
  const opts = {
    protocolVersion: protocolVersions[1],
    maxPayload: 100 * 1024 * 1024,
    perMessageDeflate: true,
    followRedirects: false,
    maxRedirects: 10,
    ...options,
    createConnection: undefined,
    socketPath: undefined,
    hostname: undefined,
    protocol: undefined,
    timeout: undefined,
    method: undefined,
    host: undefined,
    path: undefined,
    port: undefined
  };

  if (!protocolVersions.includes(opts.protocolVersion)) {
    throw new RangeError(
      `Unsupported protocol version: ${opts.protocolVersion} ` +
        `(supported versions: ${protocolVersions.join(', ')})`
    );
  }

  let parsedUrl;

  if (address instanceof URL) {
    parsedUrl = address;
    websocket._url = address.href;
  } else {
    parsedUrl = new URL(address);
    websocket._url = address;
  }

  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';

  if (!parsedUrl.host && (!isUnixSocket || !parsedUrl.pathname)) {
    const err = new Error(`Invalid URL: ${websocket.url}`);

    if (websocket._redirects === 0) {
      throw err;
    } else {
      emitErrorAndClose(websocket, err);
      return;
    }
  }

  const isSecure =
    parsedUrl.protocol === 'wss:' || parsedUrl.protocol === 'https:';
  const defaultPort = isSecure ? 443 : 80;
  const key = randomBytes(16).toString('base64');
  const get = isSecure ? https.get : http.get;
  let perMessageDeflate;

  opts.createConnection = isSecure ? tlsConnect : netConnect;
  opts.defaultPort = opts.defaultPort || defaultPort;
  opts.port = parsedUrl.port || defaultPort;
  opts.host = parsedUrl.hostname.startsWith('[')
    ? parsedUrl.hostname.slice(1, -1)
    : parsedUrl.hostname;
  opts.headers = {
    'Sec-WebSocket-Version': opts.protocolVersion,
    'Sec-WebSocket-Key': key,
    Connection: 'Upgrade',
    Upgrade: 'websocket',
    ...opts.headers
  };
  opts.path = parsedUrl.pathname + parsedUrl.search;
  opts.timeout = opts.handshakeTimeout;

  if (opts.perMessageDeflate) {
    perMessageDeflate = new PerMessageDeflate(
      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},
      false,
      opts.maxPayload
    );
    opts.headers['Sec-WebSocket-Extensions'] = format({
      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()
    });
  }
  if (protocols) {
    opts.headers['Sec-WebSocket-Protocol'] = protocols;
  }
  if (opts.origin) {
    if (opts.protocolVersion < 13) {
      opts.headers['Sec-WebSocket-Origin'] = opts.origin;
    } else {
      opts.headers.Origin = opts.origin;
    }
  }
  if (parsedUrl.username || parsedUrl.password) {
    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;
  }

  if (isUnixSocket) {
    const parts = opts.path.split(':');

    opts.socketPath = parts[0];
    opts.path = parts[1];
  }

  if (opts.followRedirects) {
    if (websocket._redirects === 0) {
      websocket._originalUnixSocket = isUnixSocket;
      websocket._originalSecure = isSecure;
      websocket._originalHostOrSocketPath = isUnixSocket
        ? opts.socketPath
        : parsedUrl.host;

      const headers = options && options.headers;

      //
      // Shallow copy the user provided options so that headers can be changed
      // without mutating the original object.
      //
      options = { ...options, headers: {} };

      if (headers) {
        for (const [key, value] of Object.entries(headers)) {
          options.headers[key.toLowerCase()] = value;
        }
      }
    } else {
      const isSameHost = isUnixSocket
        ? websocket._originalUnixSocket
          ? opts.socketPath === websocket._originalHostOrSocketPath
          : false
        : websocket._originalUnixSocket
        ? false
        : parsedUrl.host === websocket._originalHostOrSocketPath;

      if (!isSameHost || (websocket._originalSecure && !isSecure)) {
        //
        // Match curl 7.77.0 behavior and drop the following headers. These
        // headers are also dropped when following a redirect to a subdomain.
        //
        delete opts.headers.authorization;
        delete opts.headers.cookie;

        if (!isSameHost) delete opts.headers.host;

        opts.auth = undefined;
      }
    }

    //
    // Match curl 7.77.0 behavior and make the first `Authorization` header win.
    // If the `Authorization` header is set, then there is nothing to do as it
    // will take precedence.
    //
    if (opts.auth && !options.headers.authorization) {
      options.headers.authorization =
        'Basic ' + Buffer.from(opts.auth).toString('base64');
    }
  }

  let req = (websocket._req = get(opts));

  if (opts.timeout) {
    req.on('timeout', () => {
      abortHandshake(websocket, req, 'Opening handshake has timed out');
    });
  }

  req.on('error', (err) => {
    if (req === null || req.aborted) return;

    req = websocket._req = null;
    emitErrorAndClose(websocket, err);
  });

  req.on('response', (res) => {
    const location = res.headers.location;
    const statusCode = res.statusCode;

    if (
      location &&
      opts.followRedirects &&
      statusCode >= 300 &&
      statusCode < 400
    ) {
      if (++websocket._redirects > opts.maxRedirects) {
        abortHandshake(websocket, req, 'Maximum redirects exceeded');
        return;
      }

      req.abort();

      let addr;

      try {
        addr = new URL(location, address);
      } catch (err) {
        emitErrorAndClose(websocket, err);
        return;
      }

      initAsClient(websocket, addr, protocols, options);
    } else if (!websocket.emit('unexpected-response', req, res)) {
      abortHandshake(
        websocket,
        req,
        `Unexpected server response: ${res.statusCode}`
      );
    }
  });

  req.on('upgrade', (res, socket, head) => {
    websocket.emit('upgrade', res);

    //
    // The user may have closed the connection from a listener of the `upgrade`
    // event.
    //
    if (websocket.readyState !== WebSocket.CONNECTING) return;

    req = websocket._req = null;

    const upgrade = res.headers.upgrade;

    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {
      abortHandshake(websocket, socket, 'Invalid Upgrade header');
      return;
    }

    const digest = createHash('sha1')
      .update(key + GUID)
      .digest('base64');

    if (res.headers['sec-websocket-accept'] !== digest) {
      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');
      return;
    }

    const serverProt = res.headers['sec-websocket-protocol'];
    const protList = (protocols || '').split(/, */);
    let protError;

    if (!protocols && serverProt) {
      protError = 'Server sent a subprotocol but none was requested';
    } else if (protocols && !serverProt) {
      protError = 'Server sent no subprotocol';
    } else if (serverProt && !protList.includes(serverProt)) {
      protError = 'Server sent an invalid subprotocol';
    }

    if (protError) {
      abortHandshake(websocket, socket, protError);
      return;
    }

    if (serverProt) websocket._protocol = serverProt;

    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];

    if (secWebSocketExtensions !== undefined) {
      if (!perMessageDeflate) {
        const message =
          'Server sent a Sec-WebSocket-Extensions header but no extension ' +
          'was requested';
        abortHandshake(websocket, socket, message);
        return;
      }

      let extensions;

      try {
        extensions = parse(secWebSocketExtensions);
      } catch (err) {
        const message = 'Invalid Sec-WebSocket-Extensions header';
        abortHandshake(websocket, socket, message);
        return;
      }

      const extensionNames = Object.keys(extensions);

      if (extensionNames.length) {
        if (
          extensionNames.length !== 1 ||
          extensionNames[0] !== PerMessageDeflate.extensionName
        ) {
          const message =
            'Server indicated an extension that was not requested';
          abortHandshake(websocket, socket, message);
          return;
        }

        try {
          perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);
        } catch (err) {
          const message = 'Invalid Sec-WebSocket-Extensions header';
          abortHandshake(websocket, socket, message);
          return;
        }

        websocket._extensions[PerMessageDeflate.extensionName] =
          perMessageDeflate;
      }
    }

    websocket.setSocket(socket, head, opts.maxPayload);
  });
}

/**
 * Emit the `'error'` and `'close'` event.
 *
 * @param {WebSocket} websocket The WebSocket instance
 * @param {Error} The error to emit
 * @private
 */
function emitErrorAndClose(websocket, err) {
  websocket._readyState = WebSocket.CLOSING;
  websocket.emit('error', err);
  websocket.emitClose();
}

/**
 * Create a `net.Socket` and initiate a connection.
 *
 * @param {Object} options Connection options
 * @return {net.Socket} The newly created socket used to start the connection
 * @private
 */
function netConnect(options) {
  options.path = options.socketPath;
  return net.connect(options);
}

/**
 * Create a `tls.TLSSocket` and initiate a connection.
 *
 * @param {Object} options Connection options
 * @return {tls.TLSSocket} The newly created socket used to start the connection
 * @private
 */
function tlsConnect(options) {
  options.path = undefined;

  if (!options.servername && options.servername !== '') {
    options.servername = net.isIP(options.host) ? '' : options.host;
  }

  return tls.connect(options);
}

/**
 * Abort the handshake and emit an error.
 *
 * @param {WebSocket} websocket The WebSocket instance
 * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to
 *     abort or the socket to destroy
 * @param {String} message The error message
 * @private
 */
function abortHandshake(websocket, stream, message) {
  websocket._readyState = WebSocket.CLOSING;

  const err = new Error(message);
  Error.captureStackTrace(err, abortHandshake);

  if (stream.setHeader) {
    stream.abort();

    if (stream.socket && !stream.socket.destroyed) {
      //
      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if
      // called after the request completed. See
      // https://github.com/websockets/ws/issues/1869.
      //
      stream.socket.destroy();
    }

    stream.once('abort', websocket.emitClose.bind(websocket));
    websocket.emit('error', err);
  } else {
    stream.destroy(err);
    stream.once('error', websocket.emit.bind(websocket, 'error'));
    stream.once('close', websocket.emitClose.bind(websocket));
  }
}

/**
 * Handle cases where the `ping()`, `pong()`, or `send()` methods are called
 * when the `readyState` attribute is `CLOSING` or `CLOSED`.
 *
 * @param {WebSocket} websocket The WebSocket instance
 * @param {*} [data] The data to send
 * @param {Function} [cb] Callback
 * @private
 */
function sendAfterClose(websocket, data, cb) {
  if (data) {
    const length = toBuffer(data).length;

    //
    // The `_bufferedAmount` property is used only when the peer is a client and
    // the opening handshake fails. Under these circumstances, in fact, the
    // `setSocket()` method is not called, so the `_socket` and `_sender`
    // properties are set to `null`.
    //
    if (websocket._socket) websocket._sender._bufferedBytes += length;
    else websocket._bufferedAmount += length;
  }

  if (cb) {
    const err = new Error(
      `WebSocket is not open: readyState ${websocket.readyState} ` +
        `(${readyStates[websocket.readyState]})`
    );
    cb(err);
  }
}

/**
 * The listener of the `Receiver` `'conclude'` event.
 *
 * @param {Number} code The status code
 * @param {String} reason The reason for closing
 * @private
 */
function receiverOnConclude(code, reason) {
  const websocket = this[kWebSocket];

  websocket._closeFrameReceived = true;
  websocket._closeMessage = reason;
  websocket._closeCode = code;

  if (websocket._socket[kWebSocket] === undefined) return;

  websocket._socket.removeListener('data', socketOnData);
  process.nextTick(resume, websocket._socket);

  if (code === 1005) websocket.close();
  else websocket.close(code, reason);
}

/**
 * The listener of the `Receiver` `'drain'` event.
 *
 * @private
 */
function receiverOnDrain() {
  this[kWebSocket]._socket.resume();
}

/**
 * The listener of the `Receiver` `'error'` event.
 *
 * @param {(RangeError|Error)} err The emitted error
 * @private
 */
function receiverOnError(err) {
  const websocket = this[kWebSocket];

  if (websocket._socket[kWebSocket] !== undefined) {
    websocket._socket.removeListener('data', socketOnData);

    //
    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See
    // https://github.com/websockets/ws/issues/1940.
    //
    process.nextTick(resume, websocket._socket);

    websocket.close(err[kStatusCode]);
  }

  websocket.emit('error', err);
}

/**
 * The listener of the `Receiver` `'finish'` event.
 *
 * @private
 */
function receiverOnFinish() {
  this[kWebSocket].emitClose();
}

/**
 * The listener of the `Receiver` `'message'` event.
 *
 * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The message
 * @private
 */
function receiverOnMessage(data) {
  this[kWebSocket].emit('message', data);
}

/**
 * The listener of the `Receiver` `'ping'` event.
 *
 * @param {Buffer} data The data included in the ping frame
 * @private
 */
function receiverOnPing(data) {
  const websocket = this[kWebSocket];

  websocket.pong(data, !websocket._isServer, NOOP);
  websocket.emit('ping', data);
}

/**
 * The listener of the `Receiver` `'pong'` event.
 *
 * @param {Buffer} data The data included in the pong frame
 * @private
 */
function receiverOnPong(data) {
  this[kWebSocket].emit('pong', data);
}

/**
 * Resume a readable stream
 *
 * @param {Readable} stream The readable stream
 * @private
 */
function resume(stream) {
  stream.resume();
}

/**
 * The listener of the `net.Socket` `'close'` event.
 *
 * @private
 */
function socketOnClose() {
  const websocket = this[kWebSocket];

  this.removeListener('close', socketOnClose);
  this.removeListener('data', socketOnData);
  this.removeListener('end', socketOnEnd);

  websocket._readyState = WebSocket.CLOSING;

  let chunk;

  //
  // The close frame might not have been received or the `'end'` event emitted,
  // for example, if the socket was destroyed due to an error. Ensure that the
  // `receiver` stream is closed after writing any remaining buffered data to
  // it. If the readable side of the socket is in flowing mode then there is no
  // buffered data as everything has been already written and `readable.read()`
  // will return `null`. If instead, the socket is paused, any possible buffered
  // data will be read as a single chunk.
  //
  if (
    !this._readableState.endEmitted &&
    !websocket._closeFrameReceived &&
    !websocket._receiver._writableState.errorEmitted &&
    (chunk = websocket._socket.read()) !== null
  ) {
    websocket._receiver.write(chunk);
  }

  websocket._receiver.end();

  this[kWebSocket] = undefined;

  clearTimeout(websocket._closeTimer);

  if (
    websocket._receiver._writableState.finished ||
    websocket._receiver._writableState.errorEmitted
  ) {
    websocket.emitClose();
  } else {
    websocket._receiver.on('error', receiverOnFinish);
    websocket._receiver.on('finish', receiverOnFinish);
  }
}

/**
 * The listener of the `net.Socket` `'data'` event.
 *
 * @param {Buffer} chunk A chunk of data
 * @private
 */
function socketOnData(chunk) {
  if (!this[kWebSocket]._receiver.write(chunk)) {
    this.pause();
  }
}

/**
 * The listener of the `net.Socket` `'end'` event.
 *
 * @private
 */
function socketOnEnd() {
  const websocket = this[kWebSocket];

  websocket._readyState = WebSocket.CLOSING;
  websocket._receiver.end();
  this.end();
}

/**
 * The listener of the `net.Socket` `'error'` event.
 *
 * @private
 */
function socketOnError() {
  const websocket = this[kWebSocket];

  this.removeListener('error', socketOnError);
  this.on('error', NOOP);

  if (websocket) {
    websocket._readyState = WebSocket.CLOSING;
    this.destroy();
  }
}


/***/ }),

/***/ 448143:
/***/ ((module) => {

"use strict";


const MAX_TIMEOUT = 1000

function wait (state, index, expected, timeout, done) {
  const max = Date.now() + timeout
  let current = Atomics.load(state, index)
  if (current === expected) {
    done(null, 'ok')
    return
  }
  let prior = current
  const check = (backoff) => {
    if (Date.now() > max) {
      done(null, 'timed-out')
    } else {
      setTimeout(() => {
        prior = current
        current = Atomics.load(state, index)
        if (current === prior) {
          check(backoff >= MAX_TIMEOUT ? MAX_TIMEOUT : backoff * 2)
        } else {
          if (current === expected) done(null, 'ok')
          else done(null, 'not-equal')
        }
      }, backoff)
    }
  }
  check(1)
}

// let waitDiffCount = 0
function waitDiff (state, index, expected, timeout, done) {
  // const id = waitDiffCount++
  // process._rawDebug(`>>> waitDiff ${id}`)
  const max = Date.now() + timeout
  let current = Atomics.load(state, index)
  if (current !== expected) {
    done(null, 'ok')
    return
  }
  const check = (backoff) => {
    // process._rawDebug(`${id} ${index} current ${current} expected ${expected}`)
    // process._rawDebug('' + backoff)
    if (Date.now() > max) {
      done(null, 'timed-out')
    } else {
      setTimeout(() => {
        current = Atomics.load(state, index)
        if (current !== expected) {
          done(null, 'ok')
        } else {
          check(backoff >= MAX_TIMEOUT ? MAX_TIMEOUT : backoff * 2)
        }
      }, backoff)
    }
  }
  check(1)
}

module.exports = { wait, waitDiff }


/***/ }),

/***/ 482563:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { createRequire } = __webpack_require__(273339)
const getCallers = __webpack_require__(954811)
const { join, isAbsolute } = __webpack_require__(16928)
const sleep = __webpack_require__(57814)

let onExit

if (global.WeakRef && global.WeakMap && global.FinalizationRegistry) {
  // This require MUST be top level otherwise the transport would
  // not work from within Jest as it hijacks require.
  onExit = __webpack_require__(846270)
}

const ThreadStream = __webpack_require__(359348)

function setupOnExit (stream) {
  /* istanbul ignore next */
  if (onExit) {
    // This is leak free, it does not leave event handlers
    onExit.register(stream, autoEnd)

    stream.on('close', function () {
      onExit.unregister(stream)
    })
  } else {
    const fn = autoEnd.bind(null, stream)
    process.once('beforeExit', fn)
    process.once('exit', fn)

    stream.on('close', function () {
      process.removeListener('beforeExit', fn)
      process.removeListener('exit', fn)
    })
  }
}

function buildStream (filename, workerData, workerOpts) {
  const stream = new ThreadStream({
    filename,
    workerData,
    workerOpts
  })

  stream.on('ready', onReady)
  stream.on('close', function () {
    process.removeListener('exit', onExit)
  })

  process.on('exit', onExit)

  function onReady () {
    process.removeListener('exit', onExit)
    stream.unref()

    if (workerOpts.autoEnd !== false) {
      setupOnExit(stream)
    }
  }

  function onExit () {
    if (stream.closed) {
      return
    }
    stream.flushSync()
    // Apparently there is a very sporadic race condition
    // that in certain OS would prevent the messages to be flushed
    // because the thread might not have been created still.
    // Unfortunately we need to sleep(100) in this case.
    sleep(100)
    stream.end()
  }

  return stream
}

function autoEnd (stream) {
  stream.ref()
  stream.flushSync()
  stream.end()
  stream.once('close', function () {
    stream.unref()
  })
}

function transport (fullOptions) {
  const { pipeline, targets, levels, options = {}, worker = {}, caller = getCallers() } = fullOptions

  // Backwards compatibility
  const callers = typeof caller === 'string' ? [caller] : caller

  // This will be eventually modified by bundlers
  const bundlerOverrides = '__bundlerPathsOverrides' in globalThis ? globalThis.__bundlerPathsOverrides : {}

  let target = fullOptions.target

  if (target && targets) {
    throw new Error('only one of target or targets can be specified')
  }

  if (targets) {
    target = bundlerOverrides['pino-worker'] || join(__dirname, 'worker.js')
    options.targets = targets.map((dest) => {
      return {
        ...dest,
        target: fixTarget(dest.target)
      }
    })
  } else if (pipeline) {
    target = bundlerOverrides['pino-pipeline-worker'] || join(__dirname, 'worker-pipeline.js')
    options.targets = pipeline.map((dest) => {
      return {
        ...dest,
        target: fixTarget(dest.target)
      }
    })
  }

  if (levels) {
    options.levels = levels
  }

  return buildStream(fixTarget(target), options, worker)

  function fixTarget (origin) {
    origin = bundlerOverrides[origin] || origin

    if (isAbsolute(origin) || origin.indexOf('file://') === 0) {
      return origin
    }

    if (origin === 'pino/file') {
      return join(__dirname, '..', 'file.js')
    }

    let fixTarget

    for (const filePath of callers) {
      try {
        fixTarget = createRequire(filePath).resolve(origin)
        break
      } catch (err) {
        // Silent catch
        continue
      }
    }

    if (!fixTarget) {
      throw new Error(`unable to determine transport target for "${origin}"`)
    }

    return fixTarget
  }
}

module.exports = transport


/***/ }),

/***/ 495787:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

/* eslint no-prototype-builtins: 0 */
const {
  lsCacheSym,
  levelValSym,
  useOnlyCustomLevelsSym,
  streamSym,
  formattersSym,
  hooksSym
} = __webpack_require__(865835)
const { noop, genLog } = __webpack_require__(316761)

const levels = {
  trace: 10,
  debug: 20,
  info: 30,
  warn: 40,
  error: 50,
  fatal: 60
}
const levelMethods = {
  fatal: (hook) => {
    const logFatal = genLog(levels.fatal, hook)
    return function (...args) {
      const stream = this[streamSym]
      logFatal.call(this, ...args)
      if (typeof stream.flushSync === 'function') {
        try {
          stream.flushSync()
        } catch (e) {
          // https://github.com/pinojs/pino/pull/740#discussion_r346788313
        }
      }
    }
  },
  error: (hook) => genLog(levels.error, hook),
  warn: (hook) => genLog(levels.warn, hook),
  info: (hook) => genLog(levels.info, hook),
  debug: (hook) => genLog(levels.debug, hook),
  trace: (hook) => genLog(levels.trace, hook)
}

const nums = Object.keys(levels).reduce((o, k) => {
  o[levels[k]] = k
  return o
}, {})

const initialLsCache = Object.keys(nums).reduce((o, k) => {
  o[k] = '{"level":' + Number(k)
  return o
}, {})

function genLsCache (instance) {
  const formatter = instance[formattersSym].level
  const { labels } = instance.levels
  const cache = {}
  for (const label in labels) {
    const level = formatter(labels[label], Number(label))
    cache[label] = JSON.stringify(level).slice(0, -1)
  }
  instance[lsCacheSym] = cache
  return instance
}

function isStandardLevel (level, useOnlyCustomLevels) {
  if (useOnlyCustomLevels) {
    return false
  }

  switch (level) {
    case 'fatal':
    case 'error':
    case 'warn':
    case 'info':
    case 'debug':
    case 'trace':
      return true
    default:
      return false
  }
}

function setLevel (level) {
  const { labels, values } = this.levels
  if (typeof level === 'number') {
    if (labels[level] === undefined) throw Error('unknown level value' + level)
    level = labels[level]
  }
  if (values[level] === undefined) throw Error('unknown level ' + level)
  const preLevelVal = this[levelValSym]
  const levelVal = this[levelValSym] = values[level]
  const useOnlyCustomLevelsVal = this[useOnlyCustomLevelsSym]
  const hook = this[hooksSym].logMethod

  for (const key in values) {
    if (levelVal > values[key]) {
      this[key] = noop
      continue
    }
    this[key] = isStandardLevel(key, useOnlyCustomLevelsVal) ? levelMethods[key](hook) : genLog(values[key], hook)
  }

  this.emit(
    'level-change',
    level,
    levelVal,
    labels[preLevelVal],
    preLevelVal
  )
}

function getLevel (level) {
  const { levels, levelVal } = this
  // protection against potential loss of Pino scope from serializers (edge case with circular refs - https://github.com/pinojs/pino/issues/833)
  return (levels && levels.labels) ? levels.labels[levelVal] : ''
}

function isLevelEnabled (logLevel) {
  const { values } = this.levels
  const logLevelVal = values[logLevel]
  return logLevelVal !== undefined && (logLevelVal >= this[levelValSym])
}

function mappings (customLevels = null, useOnlyCustomLevels = false) {
  const customNums = customLevels
    /* eslint-disable */
    ? Object.keys(customLevels).reduce((o, k) => {
        o[customLevels[k]] = k
        return o
      }, {})
    : null
    /* eslint-enable */

  const labels = Object.assign(
    Object.create(Object.prototype, { Infinity: { value: 'silent' } }),
    useOnlyCustomLevels ? null : nums,
    customNums
  )
  const values = Object.assign(
    Object.create(Object.prototype, { silent: { value: Infinity } }),
    useOnlyCustomLevels ? null : levels,
    customLevels
  )
  return { labels, values }
}

function assertDefaultLevelFound (defaultLevel, customLevels, useOnlyCustomLevels) {
  if (typeof defaultLevel === 'number') {
    const values = [].concat(
      Object.keys(customLevels || {}).map(key => customLevels[key]),
      useOnlyCustomLevels ? [] : Object.keys(nums).map(level => +level),
      Infinity
    )
    if (!values.includes(defaultLevel)) {
      throw Error(`default level:${defaultLevel} must be included in custom levels`)
    }
    return
  }

  const labels = Object.assign(
    Object.create(Object.prototype, { silent: { value: Infinity } }),
    useOnlyCustomLevels ? null : levels,
    customLevels
  )
  if (!(defaultLevel in labels)) {
    throw Error(`default level:${defaultLevel} must be included in custom levels`)
  }
}

function assertNoLevelCollisions (levels, customLevels) {
  const { labels, values } = levels
  for (const k in customLevels) {
    if (k in values) {
      throw Error('levels cannot be overridden')
    }
    if (customLevels[k] in labels) {
      throw Error('pre-existing level values cannot be used for new levels')
    }
  }
}

module.exports = {
  initialLsCache,
  genLsCache,
  levelMethods,
  getLevel,
  setLevel,
  isLevelEnabled,
  mappings,
  levels,
  assertNoLevelCollisions,
  assertDefaultLevelFound
}


/***/ }),

/***/ 496596:
/***/ ((module) => {

"use strict";


const kDone = Symbol('kDone');
const kRun = Symbol('kRun');

/**
 * A very simple job queue with adjustable concurrency. Adapted from
 * https://github.com/STRML/async-limiter
 */
class Limiter {
  /**
   * Creates a new `Limiter`.
   *
   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed
   *     to run concurrently
   */
  constructor(concurrency) {
    this[kDone] = () => {
      this.pending--;
      this[kRun]();
    };
    this.concurrency = concurrency || Infinity;
    this.jobs = [];
    this.pending = 0;
  }

  /**
   * Adds a job to the queue.
   *
   * @param {Function} job The job to run
   * @public
   */
  add(job) {
    this.jobs.push(job);
    this[kRun]();
  }

  /**
   * Removes a job from the queue and runs it if possible.
   *
   * @private
   */
  [kRun]() {
    if (this.pending === this.concurrency) return;

    if (this.jobs.length) {
      const job = this.jobs.shift();

      this.pending++;
      job(this[kDone]);
    }
  }
}

module.exports = Limiter;


/***/ }),

/***/ 498186:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __assign: () => (/* binding */ __assign),
/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),
/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),
/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),
/* harmony export */   __await: () => (/* binding */ __await),
/* harmony export */   __awaiter: () => (/* binding */ __awaiter),
/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),
/* harmony export */   __createBinding: () => (/* binding */ __createBinding),
/* harmony export */   __decorate: () => (/* binding */ __decorate),
/* harmony export */   __exportStar: () => (/* binding */ __exportStar),
/* harmony export */   __extends: () => (/* binding */ __extends),
/* harmony export */   __generator: () => (/* binding */ __generator),
/* harmony export */   __importDefault: () => (/* binding */ __importDefault),
/* harmony export */   __importStar: () => (/* binding */ __importStar),
/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),
/* harmony export */   __metadata: () => (/* binding */ __metadata),
/* harmony export */   __param: () => (/* binding */ __param),
/* harmony export */   __read: () => (/* binding */ __read),
/* harmony export */   __rest: () => (/* binding */ __rest),
/* harmony export */   __spread: () => (/* binding */ __spread),
/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),
/* harmony export */   __values: () => (/* binding */ __values)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ 506187:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { format } = __webpack_require__(539023)

function build () {
  const codes = {}
  const emitted = new Map()

  function create (name, code, message) {
    if (!name) throw new Error('Warning name must not be empty')
    if (!code) throw new Error('Warning code must not be empty')
    if (!message) throw new Error('Warning message must not be empty')

    code = code.toUpperCase()

    if (codes[code] !== undefined) {
      throw new Error(`The code '${code}' already exist`)
    }

    function buildWarnOpts (a, b, c) {
      // more performant than spread (...) operator
      let formatted
      if (a && b && c) {
        formatted = format(message, a, b, c)
      } else if (a && b) {
        formatted = format(message, a, b)
      } else if (a) {
        formatted = format(message, a)
      } else {
        formatted = message
      }

      return {
        code,
        name,
        message: formatted
      }
    }

    emitted.set(code, false)
    codes[code] = buildWarnOpts

    return codes[code]
  }

  function emit (code, a, b, c) {
    if (codes[code] === undefined) throw new Error(`The code '${code}' does not exist`)
    if (emitted.get(code) === true) return
    emitted.set(code, true)

    const warning = codes[code](a, b, c)
    process.emitWarning(warning.message, warning.name, warning.code)
  }

  return {
    create,
    emit,
    emitted
  }
}

module.exports = build


/***/ }),

/***/ 510463:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* eslint no-unused-vars: ["error", { "varsIgnorePattern": "^net|tls|https$" }] */



const EventEmitter = __webpack_require__(24434);
const http = __webpack_require__(958611);
const https = __webpack_require__(665692);
const net = __webpack_require__(969278);
const tls = __webpack_require__(564756);
const { createHash } = __webpack_require__(776982);

const PerMessageDeflate = __webpack_require__(776994);
const WebSocket = __webpack_require__(400315);
const { format, parse } = __webpack_require__(101177);
const { GUID, kWebSocket } = __webpack_require__(243713);

const keyRegex = /^[+/0-9A-Za-z]{22}==$/;

const RUNNING = 0;
const CLOSING = 1;
const CLOSED = 2;

/**
 * Class representing a WebSocket server.
 *
 * @extends EventEmitter
 */
class WebSocketServer extends EventEmitter {
  /**
   * Create a `WebSocketServer` instance.
   *
   * @param {Object} options Configuration options
   * @param {Number} [options.backlog=511] The maximum length of the queue of
   *     pending connections
   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to
   *     track clients
   * @param {Function} [options.handleProtocols] A hook to handle protocols
   * @param {String} [options.host] The hostname where to bind the server
   * @param {Number} [options.maxPayload=104857600] The maximum allowed message
   *     size
   * @param {Boolean} [options.noServer=false] Enable no server mode
   * @param {String} [options.path] Accept only connections matching this path
   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable
   *     permessage-deflate
   * @param {Number} [options.port] The port where to bind the server
   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S
   *     server to use
   * @param {Function} [options.verifyClient] A hook to reject connections
   * @param {Function} [callback] A listener for the `listening` event
   */
  constructor(options, callback) {
    super();

    options = {
      maxPayload: 100 * 1024 * 1024,
      perMessageDeflate: false,
      handleProtocols: null,
      clientTracking: true,
      verifyClient: null,
      noServer: false,
      backlog: null, // use default (511 as implemented in net.js)
      server: null,
      host: null,
      path: null,
      port: null,
      ...options
    };

    if (
      (options.port == null && !options.server && !options.noServer) ||
      (options.port != null && (options.server || options.noServer)) ||
      (options.server && options.noServer)
    ) {
      throw new TypeError(
        'One and only one of the "port", "server", or "noServer" options ' +
          'must be specified'
      );
    }

    if (options.port != null) {
      this._server = http.createServer((req, res) => {
        const body = http.STATUS_CODES[426];

        res.writeHead(426, {
          'Content-Length': body.length,
          'Content-Type': 'text/plain'
        });
        res.end(body);
      });
      this._server.listen(
        options.port,
        options.host,
        options.backlog,
        callback
      );
    } else if (options.server) {
      this._server = options.server;
    }

    if (this._server) {
      const emitConnection = this.emit.bind(this, 'connection');

      this._removeListeners = addListeners(this._server, {
        listening: this.emit.bind(this, 'listening'),
        error: this.emit.bind(this, 'error'),
        upgrade: (req, socket, head) => {
          this.handleUpgrade(req, socket, head, emitConnection);
        }
      });
    }

    if (options.perMessageDeflate === true) options.perMessageDeflate = {};
    if (options.clientTracking) this.clients = new Set();
    this.options = options;
    this._state = RUNNING;
  }

  /**
   * Returns the bound address, the address family name, and port of the server
   * as reported by the operating system if listening on an IP socket.
   * If the server is listening on a pipe or UNIX domain socket, the name is
   * returned as a string.
   *
   * @return {(Object|String|null)} The address of the server
   * @public
   */
  address() {
    if (this.options.noServer) {
      throw new Error('The server is operating in "noServer" mode');
    }

    if (!this._server) return null;
    return this._server.address();
  }

  /**
   * Close the server.
   *
   * @param {Function} [cb] Callback
   * @public
   */
  close(cb) {
    if (cb) this.once('close', cb);

    if (this._state === CLOSED) {
      process.nextTick(emitClose, this);
      return;
    }

    if (this._state === CLOSING) return;
    this._state = CLOSING;

    //
    // Terminate all associated clients.
    //
    if (this.clients) {
      for (const client of this.clients) client.terminate();
    }

    const server = this._server;

    if (server) {
      this._removeListeners();
      this._removeListeners = this._server = null;

      //
      // Close the http server if it was internally created.
      //
      if (this.options.port != null) {
        server.close(emitClose.bind(undefined, this));
        return;
      }
    }

    process.nextTick(emitClose, this);
  }

  /**
   * See if a given request should be handled by this server instance.
   *
   * @param {http.IncomingMessage} req Request object to inspect
   * @return {Boolean} `true` if the request is valid, else `false`
   * @public
   */
  shouldHandle(req) {
    if (this.options.path) {
      const index = req.url.indexOf('?');
      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;

      if (pathname !== this.options.path) return false;
    }

    return true;
  }

  /**
   * Handle a HTTP Upgrade request.
   *
   * @param {http.IncomingMessage} req The request object
   * @param {(net.Socket|tls.Socket)} socket The network socket between the
   *     server and client
   * @param {Buffer} head The first packet of the upgraded stream
   * @param {Function} cb Callback
   * @public
   */
  handleUpgrade(req, socket, head, cb) {
    socket.on('error', socketOnError);

    const key =
      req.headers['sec-websocket-key'] !== undefined
        ? req.headers['sec-websocket-key'].trim()
        : false;
    const upgrade = req.headers.upgrade;
    const version = +req.headers['sec-websocket-version'];
    const extensions = {};

    if (
      req.method !== 'GET' ||
      upgrade === undefined ||
      upgrade.toLowerCase() !== 'websocket' ||
      !key ||
      !keyRegex.test(key) ||
      (version !== 8 && version !== 13) ||
      !this.shouldHandle(req)
    ) {
      return abortHandshake(socket, 400);
    }

    if (this.options.perMessageDeflate) {
      const perMessageDeflate = new PerMessageDeflate(
        this.options.perMessageDeflate,
        true,
        this.options.maxPayload
      );

      try {
        const offers = parse(req.headers['sec-websocket-extensions']);

        if (offers[PerMessageDeflate.extensionName]) {
          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);
          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;
        }
      } catch (err) {
        return abortHandshake(socket, 400);
      }
    }

    //
    // Optionally call external client verification handler.
    //
    if (this.options.verifyClient) {
      const info = {
        origin:
          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],
        secure: !!(req.socket.authorized || req.socket.encrypted),
        req
      };

      if (this.options.verifyClient.length === 2) {
        this.options.verifyClient(info, (verified, code, message, headers) => {
          if (!verified) {
            return abortHandshake(socket, code || 401, message, headers);
          }

          this.completeUpgrade(key, extensions, req, socket, head, cb);
        });
        return;
      }

      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);
    }

    this.completeUpgrade(key, extensions, req, socket, head, cb);
  }

  /**
   * Upgrade the connection to WebSocket.
   *
   * @param {String} key The value of the `Sec-WebSocket-Key` header
   * @param {Object} extensions The accepted extensions
   * @param {http.IncomingMessage} req The request object
   * @param {(net.Socket|tls.Socket)} socket The network socket between the
   *     server and client
   * @param {Buffer} head The first packet of the upgraded stream
   * @param {Function} cb Callback
   * @throws {Error} If called more than once with the same socket
   * @private
   */
  completeUpgrade(key, extensions, req, socket, head, cb) {
    //
    // Destroy the socket if the client has already sent a FIN packet.
    //
    if (!socket.readable || !socket.writable) return socket.destroy();

    if (socket[kWebSocket]) {
      throw new Error(
        'server.handleUpgrade() was called more than once with the same ' +
          'socket, possibly due to a misconfiguration'
      );
    }

    if (this._state > RUNNING) return abortHandshake(socket, 503);

    const digest = createHash('sha1')
      .update(key + GUID)
      .digest('base64');

    const headers = [
      'HTTP/1.1 101 Switching Protocols',
      'Upgrade: websocket',
      'Connection: Upgrade',
      `Sec-WebSocket-Accept: ${digest}`
    ];

    const ws = new WebSocket(null);
    let protocol = req.headers['sec-websocket-protocol'];

    if (protocol) {
      protocol = protocol.split(',').map(trim);

      //
      // Optionally call external protocol selection handler.
      //
      if (this.options.handleProtocols) {
        protocol = this.options.handleProtocols(protocol, req);
      } else {
        protocol = protocol[0];
      }

      if (protocol) {
        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);
        ws._protocol = protocol;
      }
    }

    if (extensions[PerMessageDeflate.extensionName]) {
      const params = extensions[PerMessageDeflate.extensionName].params;
      const value = format({
        [PerMessageDeflate.extensionName]: [params]
      });
      headers.push(`Sec-WebSocket-Extensions: ${value}`);
      ws._extensions = extensions;
    }

    //
    // Allow external modification/inspection of handshake headers.
    //
    this.emit('headers', headers, req);

    socket.write(headers.concat('\r\n').join('\r\n'));
    socket.removeListener('error', socketOnError);

    ws.setSocket(socket, head, this.options.maxPayload);

    if (this.clients) {
      this.clients.add(ws);
      ws.on('close', () => this.clients.delete(ws));
    }

    cb(ws, req);
  }
}

module.exports = WebSocketServer;

/**
 * Add event listeners on an `EventEmitter` using a map of <event, listener>
 * pairs.
 *
 * @param {EventEmitter} server The event emitter
 * @param {Object.<String, Function>} map The listeners to add
 * @return {Function} A function that will remove the added listeners when
 *     called
 * @private
 */
function addListeners(server, map) {
  for (const event of Object.keys(map)) server.on(event, map[event]);

  return function removeListeners() {
    for (const event of Object.keys(map)) {
      server.removeListener(event, map[event]);
    }
  };
}

/**
 * Emit a `'close'` event on an `EventEmitter`.
 *
 * @param {EventEmitter} server The event emitter
 * @private
 */
function emitClose(server) {
  server._state = CLOSED;
  server.emit('close');
}

/**
 * Handle premature socket errors.
 *
 * @private
 */
function socketOnError() {
  this.destroy();
}

/**
 * Close the connection when preconditions are not fulfilled.
 *
 * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request
 * @param {Number} code The HTTP response status code
 * @param {String} [message] The HTTP response body
 * @param {Object} [headers] Additional HTTP response headers
 * @private
 */
function abortHandshake(socket, code, message, headers) {
  if (socket.writable) {
    message = message || http.STATUS_CODES[code];
    headers = {
      Connection: 'close',
      'Content-Type': 'text/html',
      'Content-Length': Buffer.byteLength(message),
      ...headers
    };

    socket.write(
      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\r\n` +
        Object.keys(headers)
          .map((h) => `${h}: ${headers[h]}`)
          .join('\r\n') +
        '\r\n\r\n' +
        message
    );
  }

  socket.removeListener('error', socketOnError);
  socket.destroy();
}

/**
 * Remove whitespace characters from both ends of a string.
 *
 * @param {String} str The string
 * @return {String} A new string representing `str` stripped of whitespace
 *     characters from both its beginning and end
 * @private
 */
function trim(str) {
  return str.trim();
}


/***/ }),

/***/ 512068:
/***/ ((module, exports) => {

"use strict";


const { hasOwnProperty } = Object.prototype

const stringify = configure()

// @ts-expect-error
stringify.configure = configure
// @ts-expect-error
stringify.stringify = stringify

// @ts-expect-error
stringify.default = stringify

// @ts-expect-error used for named export
exports.stringify = stringify
// @ts-expect-error used for named export
exports.configure = configure

module.exports = stringify

// eslint-disable-next-line no-control-regex
const strEscapeSequencesRegExp = /[\u0000-\u001f\u0022\u005c\ud800-\udfff]/

// Escape C0 control characters, double quotes, the backslash and every code
// unit with a numeric value in the inclusive range 0xD800 to 0xDFFF.
function strEscape (str) {
  // Some magic numbers that worked out fine while benchmarking with v8 8.0
  if (str.length < 5000 && !strEscapeSequencesRegExp.test(str)) {
    return `"${str}"`
  }
  return JSON.stringify(str)
}

function sort (array, comparator) {
  // Insertion sort is very efficient for small input sizes, but it has a bad
  // worst case complexity. Thus, use native array sort for bigger values.
  if (array.length > 2e2 || comparator) {
    return array.sort(comparator)
  }
  for (let i = 1; i < array.length; i++) {
    const currentValue = array[i]
    let position = i
    while (position !== 0 && array[position - 1] > currentValue) {
      array[position] = array[position - 1]
      position--
    }
    array[position] = currentValue
  }
  return array
}

const typedArrayPrototypeGetSymbolToStringTag =
  Object.getOwnPropertyDescriptor(
    Object.getPrototypeOf(
      Object.getPrototypeOf(
        new Int8Array()
      )
    ),
    Symbol.toStringTag
  ).get

function isTypedArrayWithEntries (value) {
  return typedArrayPrototypeGetSymbolToStringTag.call(value) !== undefined && value.length !== 0
}

function stringifyTypedArray (array, separator, maximumBreadth) {
  if (array.length < maximumBreadth) {
    maximumBreadth = array.length
  }
  const whitespace = separator === ',' ? '' : ' '
  let res = `"0":${whitespace}${array[0]}`
  for (let i = 1; i < maximumBreadth; i++) {
    res += `${separator}"${i}":${whitespace}${array[i]}`
  }
  return res
}

function getCircularValueOption (options) {
  if (hasOwnProperty.call(options, 'circularValue')) {
    const circularValue = options.circularValue
    if (typeof circularValue === 'string') {
      return `"${circularValue}"`
    }
    if (circularValue == null) {
      return circularValue
    }
    if (circularValue === Error || circularValue === TypeError) {
      return {
        toString () {
          throw new TypeError('Converting circular structure to JSON')
        }
      }
    }
    throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')
  }
  return '"[Circular]"'
}

function getDeterministicOption (options) {
  let value
  if (hasOwnProperty.call(options, 'deterministic')) {
    value = options.deterministic
    if (typeof value !== 'boolean' && typeof value !== 'function') {
      throw new TypeError('The "deterministic" argument must be of type boolean or comparator function')
    }
  }
  return value === undefined ? true : value
}

function getBooleanOption (options, key) {
  let value
  if (hasOwnProperty.call(options, key)) {
    value = options[key]
    if (typeof value !== 'boolean') {
      throw new TypeError(`The "${key}" argument must be of type boolean`)
    }
  }
  return value === undefined ? true : value
}

function getPositiveIntegerOption (options, key) {
  let value
  if (hasOwnProperty.call(options, key)) {
    value = options[key]
    if (typeof value !== 'number') {
      throw new TypeError(`The "${key}" argument must be of type number`)
    }
    if (!Number.isInteger(value)) {
      throw new TypeError(`The "${key}" argument must be an integer`)
    }
    if (value < 1) {
      throw new RangeError(`The "${key}" argument must be >= 1`)
    }
  }
  return value === undefined ? Infinity : value
}

function getItemCount (number) {
  if (number === 1) {
    return '1 item'
  }
  return `${number} items`
}

function getUniqueReplacerSet (replacerArray) {
  const replacerSet = new Set()
  for (const value of replacerArray) {
    if (typeof value === 'string' || typeof value === 'number') {
      replacerSet.add(String(value))
    }
  }
  return replacerSet
}

function getStrictOption (options) {
  if (hasOwnProperty.call(options, 'strict')) {
    const value = options.strict
    if (typeof value !== 'boolean') {
      throw new TypeError('The "strict" argument must be of type boolean')
    }
    if (value) {
      return (value) => {
        let message = `Object can not safely be stringified. Received type ${typeof value}`
        if (typeof value !== 'function') message += ` (${value.toString()})`
        throw new Error(message)
      }
    }
  }
}

function configure (options) {
  options = { ...options }
  const fail = getStrictOption(options)
  if (fail) {
    if (options.bigint === undefined) {
      options.bigint = false
    }
    if (!('circularValue' in options)) {
      options.circularValue = Error
    }
  }
  const circularValue = getCircularValueOption(options)
  const bigint = getBooleanOption(options, 'bigint')
  const deterministic = getDeterministicOption(options)
  const comparator = typeof deterministic === 'function' ? deterministic : undefined
  const maximumDepth = getPositiveIntegerOption(options, 'maximumDepth')
  const maximumBreadth = getPositiveIntegerOption(options, 'maximumBreadth')

  function stringifyFnReplacer (key, parent, stack, replacer, spacer, indentation) {
    let value = parent[key]

    if (typeof value === 'object' && value !== null && typeof value.toJSON === 'function') {
      value = value.toJSON(key)
    }
    value = replacer.call(parent, key, value)

    switch (typeof value) {
      case 'string':
        return strEscape(value)
      case 'object': {
        if (value === null) {
          return 'null'
        }
        if (stack.indexOf(value) !== -1) {
          return circularValue
        }

        let res = ''
        let join = ','
        const originalIndentation = indentation

        if (Array.isArray(value)) {
          if (value.length === 0) {
            return '[]'
          }
          if (maximumDepth < stack.length + 1) {
            return '"[Array]"'
          }
          stack.push(value)
          if (spacer !== '') {
            indentation += spacer
            res += `\n${indentation}`
            join = `,\n${indentation}`
          }
          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)
          let i = 0
          for (; i < maximumValuesToStringify - 1; i++) {
            const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation)
            res += tmp !== undefined ? tmp : 'null'
            res += join
          }
          const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation)
          res += tmp !== undefined ? tmp : 'null'
          if (value.length - 1 > maximumBreadth) {
            const removedKeys = value.length - maximumBreadth - 1
            res += `${join}"... ${getItemCount(removedKeys)} not stringified"`
          }
          if (spacer !== '') {
            res += `\n${originalIndentation}`
          }
          stack.pop()
          return `[${res}]`
        }

        let keys = Object.keys(value)
        const keyLength = keys.length
        if (keyLength === 0) {
          return '{}'
        }
        if (maximumDepth < stack.length + 1) {
          return '"[Object]"'
        }
        let whitespace = ''
        let separator = ''
        if (spacer !== '') {
          indentation += spacer
          join = `,\n${indentation}`
          whitespace = ' '
        }
        const maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth)
        if (deterministic && !isTypedArrayWithEntries(value)) {
          keys = sort(keys, comparator)
        }
        stack.push(value)
        for (let i = 0; i < maximumPropertiesToStringify; i++) {
          const key = keys[i]
          const tmp = stringifyFnReplacer(key, value, stack, replacer, spacer, indentation)
          if (tmp !== undefined) {
            res += `${separator}${strEscape(key)}:${whitespace}${tmp}`
            separator = join
          }
        }
        if (keyLength > maximumBreadth) {
          const removedKeys = keyLength - maximumBreadth
          res += `${separator}"...":${whitespace}"${getItemCount(removedKeys)} not stringified"`
          separator = join
        }
        if (spacer !== '' && separator.length > 1) {
          res = `\n${indentation}${res}\n${originalIndentation}`
        }
        stack.pop()
        return `{${res}}`
      }
      case 'number':
        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
      case 'boolean':
        return value === true ? 'true' : 'false'
      case 'undefined':
        return undefined
      case 'bigint':
        if (bigint) {
          return String(value)
        }
        // fallthrough
      default:
        return fail ? fail(value) : undefined
    }
  }

  function stringifyArrayReplacer (key, value, stack, replacer, spacer, indentation) {
    if (typeof value === 'object' && value !== null && typeof value.toJSON === 'function') {
      value = value.toJSON(key)
    }

    switch (typeof value) {
      case 'string':
        return strEscape(value)
      case 'object': {
        if (value === null) {
          return 'null'
        }
        if (stack.indexOf(value) !== -1) {
          return circularValue
        }

        const originalIndentation = indentation
        let res = ''
        let join = ','

        if (Array.isArray(value)) {
          if (value.length === 0) {
            return '[]'
          }
          if (maximumDepth < stack.length + 1) {
            return '"[Array]"'
          }
          stack.push(value)
          if (spacer !== '') {
            indentation += spacer
            res += `\n${indentation}`
            join = `,\n${indentation}`
          }
          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)
          let i = 0
          for (; i < maximumValuesToStringify - 1; i++) {
            const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation)
            res += tmp !== undefined ? tmp : 'null'
            res += join
          }
          const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation)
          res += tmp !== undefined ? tmp : 'null'
          if (value.length - 1 > maximumBreadth) {
            const removedKeys = value.length - maximumBreadth - 1
            res += `${join}"... ${getItemCount(removedKeys)} not stringified"`
          }
          if (spacer !== '') {
            res += `\n${originalIndentation}`
          }
          stack.pop()
          return `[${res}]`
        }
        stack.push(value)
        let whitespace = ''
        if (spacer !== '') {
          indentation += spacer
          join = `,\n${indentation}`
          whitespace = ' '
        }
        let separator = ''
        for (const key of replacer) {
          const tmp = stringifyArrayReplacer(key, value[key], stack, replacer, spacer, indentation)
          if (tmp !== undefined) {
            res += `${separator}${strEscape(key)}:${whitespace}${tmp}`
            separator = join
          }
        }
        if (spacer !== '' && separator.length > 1) {
          res = `\n${indentation}${res}\n${originalIndentation}`
        }
        stack.pop()
        return `{${res}}`
      }
      case 'number':
        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
      case 'boolean':
        return value === true ? 'true' : 'false'
      case 'undefined':
        return undefined
      case 'bigint':
        if (bigint) {
          return String(value)
        }
        // fallthrough
      default:
        return fail ? fail(value) : undefined
    }
  }

  function stringifyIndent (key, value, stack, spacer, indentation) {
    switch (typeof value) {
      case 'string':
        return strEscape(value)
      case 'object': {
        if (value === null) {
          return 'null'
        }
        if (typeof value.toJSON === 'function') {
          value = value.toJSON(key)
          // Prevent calling `toJSON` again.
          if (typeof value !== 'object') {
            return stringifyIndent(key, value, stack, spacer, indentation)
          }
          if (value === null) {
            return 'null'
          }
        }
        if (stack.indexOf(value) !== -1) {
          return circularValue
        }
        const originalIndentation = indentation

        if (Array.isArray(value)) {
          if (value.length === 0) {
            return '[]'
          }
          if (maximumDepth < stack.length + 1) {
            return '"[Array]"'
          }
          stack.push(value)
          indentation += spacer
          let res = `\n${indentation}`
          const join = `,\n${indentation}`
          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)
          let i = 0
          for (; i < maximumValuesToStringify - 1; i++) {
            const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation)
            res += tmp !== undefined ? tmp : 'null'
            res += join
          }
          const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation)
          res += tmp !== undefined ? tmp : 'null'
          if (value.length - 1 > maximumBreadth) {
            const removedKeys = value.length - maximumBreadth - 1
            res += `${join}"... ${getItemCount(removedKeys)} not stringified"`
          }
          res += `\n${originalIndentation}`
          stack.pop()
          return `[${res}]`
        }

        let keys = Object.keys(value)
        const keyLength = keys.length
        if (keyLength === 0) {
          return '{}'
        }
        if (maximumDepth < stack.length + 1) {
          return '"[Object]"'
        }
        indentation += spacer
        const join = `,\n${indentation}`
        let res = ''
        let separator = ''
        let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth)
        if (isTypedArrayWithEntries(value)) {
          res += stringifyTypedArray(value, join, maximumBreadth)
          keys = keys.slice(value.length)
          maximumPropertiesToStringify -= value.length
          separator = join
        }
        if (deterministic) {
          keys = sort(keys, comparator)
        }
        stack.push(value)
        for (let i = 0; i < maximumPropertiesToStringify; i++) {
          const key = keys[i]
          const tmp = stringifyIndent(key, value[key], stack, spacer, indentation)
          if (tmp !== undefined) {
            res += `${separator}${strEscape(key)}: ${tmp}`
            separator = join
          }
        }
        if (keyLength > maximumBreadth) {
          const removedKeys = keyLength - maximumBreadth
          res += `${separator}"...": "${getItemCount(removedKeys)} not stringified"`
          separator = join
        }
        if (separator !== '') {
          res = `\n${indentation}${res}\n${originalIndentation}`
        }
        stack.pop()
        return `{${res}}`
      }
      case 'number':
        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
      case 'boolean':
        return value === true ? 'true' : 'false'
      case 'undefined':
        return undefined
      case 'bigint':
        if (bigint) {
          return String(value)
        }
        // fallthrough
      default:
        return fail ? fail(value) : undefined
    }
  }

  function stringifySimple (key, value, stack) {
    switch (typeof value) {
      case 'string':
        return strEscape(value)
      case 'object': {
        if (value === null) {
          return 'null'
        }
        if (typeof value.toJSON === 'function') {
          value = value.toJSON(key)
          // Prevent calling `toJSON` again
          if (typeof value !== 'object') {
            return stringifySimple(key, value, stack)
          }
          if (value === null) {
            return 'null'
          }
        }
        if (stack.indexOf(value) !== -1) {
          return circularValue
        }

        let res = ''

        const hasLength = value.length !== undefined
        if (hasLength && Array.isArray(value)) {
          if (value.length === 0) {
            return '[]'
          }
          if (maximumDepth < stack.length + 1) {
            return '"[Array]"'
          }
          stack.push(value)
          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)
          let i = 0
          for (; i < maximumValuesToStringify - 1; i++) {
            const tmp = stringifySimple(String(i), value[i], stack)
            res += tmp !== undefined ? tmp : 'null'
            res += ','
          }
          const tmp = stringifySimple(String(i), value[i], stack)
          res += tmp !== undefined ? tmp : 'null'
          if (value.length - 1 > maximumBreadth) {
            const removedKeys = value.length - maximumBreadth - 1
            res += `,"... ${getItemCount(removedKeys)} not stringified"`
          }
          stack.pop()
          return `[${res}]`
        }

        let keys = Object.keys(value)
        const keyLength = keys.length
        if (keyLength === 0) {
          return '{}'
        }
        if (maximumDepth < stack.length + 1) {
          return '"[Object]"'
        }
        let separator = ''
        let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth)
        if (hasLength && isTypedArrayWithEntries(value)) {
          res += stringifyTypedArray(value, ',', maximumBreadth)
          keys = keys.slice(value.length)
          maximumPropertiesToStringify -= value.length
          separator = ','
        }
        if (deterministic) {
          keys = sort(keys, comparator)
        }
        stack.push(value)
        for (let i = 0; i < maximumPropertiesToStringify; i++) {
          const key = keys[i]
          const tmp = stringifySimple(key, value[key], stack)
          if (tmp !== undefined) {
            res += `${separator}${strEscape(key)}:${tmp}`
            separator = ','
          }
        }
        if (keyLength > maximumBreadth) {
          const removedKeys = keyLength - maximumBreadth
          res += `${separator}"...":"${getItemCount(removedKeys)} not stringified"`
        }
        stack.pop()
        return `{${res}}`
      }
      case 'number':
        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
      case 'boolean':
        return value === true ? 'true' : 'false'
      case 'undefined':
        return undefined
      case 'bigint':
        if (bigint) {
          return String(value)
        }
        // fallthrough
      default:
        return fail ? fail(value) : undefined
    }
  }

  function stringify (value, replacer, space) {
    if (arguments.length > 1) {
      let spacer = ''
      if (typeof space === 'number') {
        spacer = ' '.repeat(Math.min(space, 10))
      } else if (typeof space === 'string') {
        spacer = space.slice(0, 10)
      }
      if (replacer != null) {
        if (typeof replacer === 'function') {
          return stringifyFnReplacer('', { '': value }, [], replacer, spacer, '')
        }
        if (Array.isArray(replacer)) {
          return stringifyArrayReplacer('', value, [], getUniqueReplacerSet(replacer), spacer, '')
        }
      }
      if (spacer.length !== 0) {
        return stringifyIndent('', value, [], spacer, '')
      }
    }
    return stringifySimple('', value, [])
  }

  return stringify
}


/***/ }),

/***/ 525682:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(498186);
tslib_1.__exportStar(__webpack_require__(277173), exports);
tslib_1.__exportStar(__webpack_require__(391089), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 553550:
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"pino","version":"7.11.0","description":"super fast, all natural json logger","main":"pino.js","type":"commonjs","types":"pino.d.ts","browser":"./browser.js","files":["pino.js","file.js","pino.d.ts","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","lint":"eslint .","test":"npm run lint && npm run transpile && tap --ts && jest test/jest && npm run test-types","test-ci":"npm run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly && npm run test-types","test-ci-pnpm":"pnpm run lint && npm run transpile && tap --ts --no-coverage --no-check-coverage && pnpm run test-types","test-ci-yarn-pnp":"yarn run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly","test-types":"tsc && tsd && ts-node test/types/pino.ts","transpile":"node ./test/fixtures/ts/transpile.cjs","cov-ui":"tap --ts --coverage-report=html","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"@types/flush-write-stream":"^1.0.0","@types/node":"^17.0.0","@types/tap":"^15.0.6","airtap":"4.0.4","benchmark":"^2.1.4","bole":"^4.0.0","bunyan":"^1.8.14","docsify-cli":"^4.4.1","eslint":"^7.17.0","eslint-config-standard":"^16.0.3","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","execa":"^5.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","jest":"^27.3.1","log":"^6.0.0","loglevel":"^1.6.7","pino-pretty":"^v7.6.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","rimraf":"^3.0.2","semver":"^7.0.0","split2":"^4.0.0","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^16.0.0","tape":"^5.0.0","through2":"^4.0.0","ts-node":"^10.7.0","tsd":"^0.20.0","typescript":"^4.4.4","winston":"^3.3.3"},"dependencies":{"atomic-sleep":"^1.0.0","fast-redact":"^3.0.0","on-exit-leak-free":"^0.2.0","pino-abstract-transport":"v0.5.0","pino-std-serializers":"^4.0.0","process-warning":"^1.0.0","quick-format-unescaped":"^4.0.3","real-require":"^0.1.0","safe-stable-stringify":"^2.1.0","sonic-boom":"^2.2.1","thread-stream":"^0.15.1"},"tsd":{"directory":"test/types"}}');

/***/ }),

/***/ 566853:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { version } = __webpack_require__(553550)

module.exports = { version }


/***/ }),

/***/ 570824:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* eslint no-prototype-builtins: 0 */

const { EventEmitter } = __webpack_require__(24434)
const {
  lsCacheSym,
  levelValSym,
  setLevelSym,
  getLevelSym,
  chindingsSym,
  parsedChindingsSym,
  mixinSym,
  asJsonSym,
  writeSym,
  mixinMergeStrategySym,
  timeSym,
  timeSliceIndexSym,
  streamSym,
  serializersSym,
  formattersSym,
  useOnlyCustomLevelsSym,
  needsMetadataGsym,
  redactFmtSym,
  stringifySym,
  formatOptsSym,
  stringifiersSym
} = __webpack_require__(865835)
const {
  getLevel,
  setLevel,
  isLevelEnabled,
  mappings,
  initialLsCache,
  genLsCache,
  assertNoLevelCollisions
} = __webpack_require__(495787)
const {
  asChindings,
  asJson,
  buildFormatters,
  stringify
} = __webpack_require__(316761)
const {
  version
} = __webpack_require__(566853)
const redaction = __webpack_require__(904123)

// note: use of class is satirical
// https://github.com/pinojs/pino/pull/433#pullrequestreview-127703127
const constructor = class Pino {}
const prototype = {
  constructor,
  child,
  bindings,
  setBindings,
  flush,
  isLevelEnabled,
  version,
  get level () { return this[getLevelSym]() },
  set level (lvl) { this[setLevelSym](lvl) },
  get levelVal () { return this[levelValSym] },
  set levelVal (n) { throw Error('levelVal is read-only') },
  [lsCacheSym]: initialLsCache,
  [writeSym]: write,
  [asJsonSym]: asJson,
  [getLevelSym]: getLevel,
  [setLevelSym]: setLevel
}

Object.setPrototypeOf(prototype, EventEmitter.prototype)

// exporting and consuming the prototype object using factory pattern fixes scoping issues with getters when serializing
module.exports = function () {
  return Object.create(prototype)
}

const resetChildingsFormatter = bindings => bindings
function child (bindings, options) {
  if (!bindings) {
    throw Error('missing bindings for child Pino')
  }
  options = options || {} // default options to empty object
  const serializers = this[serializersSym]
  const formatters = this[formattersSym]
  const instance = Object.create(this)

  if (options.hasOwnProperty('serializers') === true) {
    instance[serializersSym] = Object.create(null)

    for (const k in serializers) {
      instance[serializersSym][k] = serializers[k]
    }
    const parentSymbols = Object.getOwnPropertySymbols(serializers)
    /* eslint no-var: off */
    for (var i = 0; i < parentSymbols.length; i++) {
      const ks = parentSymbols[i]
      instance[serializersSym][ks] = serializers[ks]
    }

    for (const bk in options.serializers) {
      instance[serializersSym][bk] = options.serializers[bk]
    }
    const bindingsSymbols = Object.getOwnPropertySymbols(options.serializers)
    for (var bi = 0; bi < bindingsSymbols.length; bi++) {
      const bks = bindingsSymbols[bi]
      instance[serializersSym][bks] = options.serializers[bks]
    }
  } else instance[serializersSym] = serializers
  if (options.hasOwnProperty('formatters')) {
    const { level, bindings: chindings, log } = options.formatters
    instance[formattersSym] = buildFormatters(
      level || formatters.level,
      chindings || resetChildingsFormatter,
      log || formatters.log
    )
  } else {
    instance[formattersSym] = buildFormatters(
      formatters.level,
      resetChildingsFormatter,
      formatters.log
    )
  }
  if (options.hasOwnProperty('customLevels') === true) {
    assertNoLevelCollisions(this.levels, options.customLevels)
    instance.levels = mappings(options.customLevels, instance[useOnlyCustomLevelsSym])
    genLsCache(instance)
  }

  // redact must place before asChindings and only replace if exist
  if ((typeof options.redact === 'object' && options.redact !== null) || Array.isArray(options.redact)) {
    instance.redact = options.redact // replace redact directly
    const stringifiers = redaction(instance.redact, stringify)
    const formatOpts = { stringify: stringifiers[redactFmtSym] }
    instance[stringifySym] = stringify
    instance[stringifiersSym] = stringifiers
    instance[formatOptsSym] = formatOpts
  }

  instance[chindingsSym] = asChindings(instance, bindings)
  const childLevel = options.level || this.level
  instance[setLevelSym](childLevel)

  return instance
}

function bindings () {
  const chindings = this[chindingsSym]
  const chindingsJson = `{${chindings.substr(1)}}` // at least contains ,"pid":7068,"hostname":"myMac"
  const bindingsFromJson = JSON.parse(chindingsJson)
  delete bindingsFromJson.pid
  delete bindingsFromJson.hostname
  return bindingsFromJson
}

function setBindings (newBindings) {
  const chindings = asChindings(this, newBindings)
  this[chindingsSym] = chindings
  delete this[parsedChindingsSym]
}

/**
 * Default strategy for creating `mergeObject` from arguments and the result from `mixin()`.
 * Fields from `mergeObject` have higher priority in this strategy.
 *
 * @param {Object} mergeObject The object a user has supplied to the logging function.
 * @param {Object} mixinObject The result of the `mixin` method.
 * @return {Object}
 */
function defaultMixinMergeStrategy (mergeObject, mixinObject) {
  return Object.assign(mixinObject, mergeObject)
}

function write (_obj, msg, num) {
  const t = this[timeSym]()
  const mixin = this[mixinSym]
  const mixinMergeStrategy = this[mixinMergeStrategySym] || defaultMixinMergeStrategy
  let obj

  if (_obj === undefined || _obj === null) {
    obj = {}
  } else if (_obj instanceof Error) {
    obj = { err: _obj }
    if (msg === undefined) {
      msg = _obj.message
    }
  } else {
    obj = _obj
    if (msg === undefined && _obj.err) {
      msg = _obj.err.message
    }
  }

  if (mixin) {
    obj = mixinMergeStrategy(obj, mixin(obj, num))
  }

  const s = this[asJsonSym](obj, msg, num, t)

  const stream = this[streamSym]
  if (stream[needsMetadataGsym] === true) {
    stream.lastLevel = num
    stream.lastObj = obj
    stream.lastMsg = msg
    stream.lastTime = t.slice(this[timeSliceIndexSym])
    stream.lastLogger = this // for child loggers
  }
  stream.write(s)
}

function noop () {}

function flush () {
  const stream = this[streamSym]
  if ('flush' in stream) stream.flush(noop)
}


/***/ }),

/***/ 582055:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* eslint no-unused-vars: ["error", { "varsIgnorePattern": "^net|tls$" }] */



const net = __webpack_require__(969278);
const tls = __webpack_require__(564756);
const { randomFillSync } = __webpack_require__(776982);

const PerMessageDeflate = __webpack_require__(776994);
const { EMPTY_BUFFER } = __webpack_require__(243713);
const { isValidStatusCode } = __webpack_require__(265177);
const { mask: applyMask, toBuffer } = __webpack_require__(699405);

const mask = Buffer.alloc(4);

/**
 * HyBi Sender implementation.
 */
class Sender {
  /**
   * Creates a Sender instance.
   *
   * @param {(net.Socket|tls.Socket)} socket The connection socket
   * @param {Object} [extensions] An object containing the negotiated extensions
   */
  constructor(socket, extensions) {
    this._extensions = extensions || {};
    this._socket = socket;

    this._firstFragment = true;
    this._compress = false;

    this._bufferedBytes = 0;
    this._deflating = false;
    this._queue = [];
  }

  /**
   * Frames a piece of data according to the HyBi WebSocket protocol.
   *
   * @param {Buffer} data The data to frame
   * @param {Object} options Options object
   * @param {Number} options.opcode The opcode
   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be
   *     modified
   * @param {Boolean} [options.fin=false] Specifies whether or not to set the
   *     FIN bit
   * @param {Boolean} [options.mask=false] Specifies whether or not to mask
   *     `data`
   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the
   *     RSV1 bit
   * @return {Buffer[]} The framed data as a list of `Buffer` instances
   * @public
   */
  static frame(data, options) {
    const merge = options.mask && options.readOnly;
    let offset = options.mask ? 6 : 2;
    let payloadLength = data.length;

    if (data.length >= 65536) {
      offset += 8;
      payloadLength = 127;
    } else if (data.length > 125) {
      offset += 2;
      payloadLength = 126;
    }

    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);

    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;
    if (options.rsv1) target[0] |= 0x40;

    target[1] = payloadLength;

    if (payloadLength === 126) {
      target.writeUInt16BE(data.length, 2);
    } else if (payloadLength === 127) {
      target.writeUInt32BE(0, 2);
      target.writeUInt32BE(data.length, 6);
    }

    if (!options.mask) return [target, data];

    randomFillSync(mask, 0, 4);

    target[1] |= 0x80;
    target[offset - 4] = mask[0];
    target[offset - 3] = mask[1];
    target[offset - 2] = mask[2];
    target[offset - 1] = mask[3];

    if (merge) {
      applyMask(data, mask, target, offset, data.length);
      return [target];
    }

    applyMask(data, mask, data, 0, data.length);
    return [target, data];
  }

  /**
   * Sends a close message to the other peer.
   *
   * @param {Number} [code] The status code component of the body
   * @param {String} [data] The message component of the body
   * @param {Boolean} [mask=false] Specifies whether or not to mask the message
   * @param {Function} [cb] Callback
   * @public
   */
  close(code, data, mask, cb) {
    let buf;

    if (code === undefined) {
      buf = EMPTY_BUFFER;
    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {
      throw new TypeError('First argument must be a valid error code number');
    } else if (data === undefined || data === '') {
      buf = Buffer.allocUnsafe(2);
      buf.writeUInt16BE(code, 0);
    } else {
      const length = Buffer.byteLength(data);

      if (length > 123) {
        throw new RangeError('The message must not be greater than 123 bytes');
      }

      buf = Buffer.allocUnsafe(2 + length);
      buf.writeUInt16BE(code, 0);
      buf.write(data, 2);
    }

    if (this._deflating) {
      this.enqueue([this.doClose, buf, mask, cb]);
    } else {
      this.doClose(buf, mask, cb);
    }
  }

  /**
   * Frames and sends a close message.
   *
   * @param {Buffer} data The message to send
   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`
   * @param {Function} [cb] Callback
   * @private
   */
  doClose(data, mask, cb) {
    this.sendFrame(
      Sender.frame(data, {
        fin: true,
        rsv1: false,
        opcode: 0x08,
        mask,
        readOnly: false
      }),
      cb
    );
  }

  /**
   * Sends a ping message to the other peer.
   *
   * @param {*} data The message to send
   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`
   * @param {Function} [cb] Callback
   * @public
   */
  ping(data, mask, cb) {
    const buf = toBuffer(data);

    if (buf.length > 125) {
      throw new RangeError('The data size must not be greater than 125 bytes');
    }

    if (this._deflating) {
      this.enqueue([this.doPing, buf, mask, toBuffer.readOnly, cb]);
    } else {
      this.doPing(buf, mask, toBuffer.readOnly, cb);
    }
  }

  /**
   * Frames and sends a ping message.
   *
   * @param {Buffer} data The message to send
   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`
   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified
   * @param {Function} [cb] Callback
   * @private
   */
  doPing(data, mask, readOnly, cb) {
    this.sendFrame(
      Sender.frame(data, {
        fin: true,
        rsv1: false,
        opcode: 0x09,
        mask,
        readOnly
      }),
      cb
    );
  }

  /**
   * Sends a pong message to the other peer.
   *
   * @param {*} data The message to send
   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`
   * @param {Function} [cb] Callback
   * @public
   */
  pong(data, mask, cb) {
    const buf = toBuffer(data);

    if (buf.length > 125) {
      throw new RangeError('The data size must not be greater than 125 bytes');
    }

    if (this._deflating) {
      this.enqueue([this.doPong, buf, mask, toBuffer.readOnly, cb]);
    } else {
      this.doPong(buf, mask, toBuffer.readOnly, cb);
    }
  }

  /**
   * Frames and sends a pong message.
   *
   * @param {Buffer} data The message to send
   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`
   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified
   * @param {Function} [cb] Callback
   * @private
   */
  doPong(data, mask, readOnly, cb) {
    this.sendFrame(
      Sender.frame(data, {
        fin: true,
        rsv1: false,
        opcode: 0x0a,
        mask,
        readOnly
      }),
      cb
    );
  }

  /**
   * Sends a data message to the other peer.
   *
   * @param {*} data The message to send
   * @param {Object} options Options object
   * @param {Boolean} [options.compress=false] Specifies whether or not to
   *     compress `data`
   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary
   *     or text
   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the
   *     last one
   * @param {Boolean} [options.mask=false] Specifies whether or not to mask
   *     `data`
   * @param {Function} [cb] Callback
   * @public
   */
  send(data, options, cb) {
    const buf = toBuffer(data);
    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];
    let opcode = options.binary ? 2 : 1;
    let rsv1 = options.compress;

    if (this._firstFragment) {
      this._firstFragment = false;
      if (rsv1 && perMessageDeflate) {
        rsv1 = buf.length >= perMessageDeflate._threshold;
      }
      this._compress = rsv1;
    } else {
      rsv1 = false;
      opcode = 0;
    }

    if (options.fin) this._firstFragment = true;

    if (perMessageDeflate) {
      const opts = {
        fin: options.fin,
        rsv1,
        opcode,
        mask: options.mask,
        readOnly: toBuffer.readOnly
      };

      if (this._deflating) {
        this.enqueue([this.dispatch, buf, this._compress, opts, cb]);
      } else {
        this.dispatch(buf, this._compress, opts, cb);
      }
    } else {
      this.sendFrame(
        Sender.frame(buf, {
          fin: options.fin,
          rsv1: false,
          opcode,
          mask: options.mask,
          readOnly: toBuffer.readOnly
        }),
        cb
      );
    }
  }

  /**
   * Dispatches a data message.
   *
   * @param {Buffer} data The message to send
   * @param {Boolean} [compress=false] Specifies whether or not to compress
   *     `data`
   * @param {Object} options Options object
   * @param {Number} options.opcode The opcode
   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be
   *     modified
   * @param {Boolean} [options.fin=false] Specifies whether or not to set the
   *     FIN bit
   * @param {Boolean} [options.mask=false] Specifies whether or not to mask
   *     `data`
   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the
   *     RSV1 bit
   * @param {Function} [cb] Callback
   * @private
   */
  dispatch(data, compress, options, cb) {
    if (!compress) {
      this.sendFrame(Sender.frame(data, options), cb);
      return;
    }

    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];

    this._bufferedBytes += data.length;
    this._deflating = true;
    perMessageDeflate.compress(data, options.fin, (_, buf) => {
      if (this._socket.destroyed) {
        const err = new Error(
          'The socket was closed while data was being compressed'
        );

        if (typeof cb === 'function') cb(err);

        for (let i = 0; i < this._queue.length; i++) {
          const callback = this._queue[i][4];

          if (typeof callback === 'function') callback(err);
        }

        return;
      }

      this._bufferedBytes -= data.length;
      this._deflating = false;
      options.readOnly = false;
      this.sendFrame(Sender.frame(buf, options), cb);
      this.dequeue();
    });
  }

  /**
   * Executes queued send operations.
   *
   * @private
   */
  dequeue() {
    while (!this._deflating && this._queue.length) {
      const params = this._queue.shift();

      this._bufferedBytes -= params[1].length;
      Reflect.apply(params[0], this, params.slice(1));
    }
  }

  /**
   * Enqueues a send operation.
   *
   * @param {Array} params Send operation parameters.
   * @private
   */
  enqueue(params) {
    this._bufferedBytes += params[1].length;
    this._queue.push(params);
  }

  /**
   * Sends a frame.
   *
   * @param {Buffer[]} list The frame to send
   * @param {Function} [cb] Callback
   * @private
   */
  sendFrame(list, cb) {
    if (list.length === 2) {
      this._socket.cork();
      this._socket.write(list[0]);
      this._socket.write(list[1], cb);
      this._socket.uncork();
    } else {
      this._socket.write(list[0], cb);
    }
  }
}

module.exports = Sender;


/***/ }),

/***/ 599606:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(880584);
tslib_1.__exportStar(__webpack_require__(602985), exports);
tslib_1.__exportStar(__webpack_require__(160221), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 602985:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.delay = void 0;
function delay(timeout) {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve(true);
        }, timeout);
    });
}
exports.delay = delay;
//# sourceMappingURL=delay.js.map

/***/ }),

/***/ 662010:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(880584);
tslib_1.__exportStar(__webpack_require__(163093), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 699405:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { EMPTY_BUFFER } = __webpack_require__(243713);

/**
 * Merges an array of buffers into a new buffer.
 *
 * @param {Buffer[]} list The array of buffers to concat
 * @param {Number} totalLength The total length of buffers in the list
 * @return {Buffer} The resulting buffer
 * @public
 */
function concat(list, totalLength) {
  if (list.length === 0) return EMPTY_BUFFER;
  if (list.length === 1) return list[0];

  const target = Buffer.allocUnsafe(totalLength);
  let offset = 0;

  for (let i = 0; i < list.length; i++) {
    const buf = list[i];
    target.set(buf, offset);
    offset += buf.length;
  }

  if (offset < totalLength) return target.slice(0, offset);

  return target;
}

/**
 * Masks a buffer using the given mask.
 *
 * @param {Buffer} source The buffer to mask
 * @param {Buffer} mask The mask to use
 * @param {Buffer} output The buffer where to store the result
 * @param {Number} offset The offset at which to start writing
 * @param {Number} length The number of bytes to mask.
 * @public
 */
function _mask(source, mask, output, offset, length) {
  for (let i = 0; i < length; i++) {
    output[offset + i] = source[i] ^ mask[i & 3];
  }
}

/**
 * Unmasks a buffer using the given mask.
 *
 * @param {Buffer} buffer The buffer to unmask
 * @param {Buffer} mask The mask to use
 * @public
 */
function _unmask(buffer, mask) {
  // Required until https://github.com/nodejs/node/issues/9006 is resolved.
  const length = buffer.length;
  for (let i = 0; i < length; i++) {
    buffer[i] ^= mask[i & 3];
  }
}

/**
 * Converts a buffer to an `ArrayBuffer`.
 *
 * @param {Buffer} buf The buffer to convert
 * @return {ArrayBuffer} Converted buffer
 * @public
 */
function toArrayBuffer(buf) {
  if (buf.byteLength === buf.buffer.byteLength) {
    return buf.buffer;
  }

  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
}

/**
 * Converts `data` to a `Buffer`.
 *
 * @param {*} data The data to convert
 * @return {Buffer} The buffer
 * @throws {TypeError}
 * @public
 */
function toBuffer(data) {
  toBuffer.readOnly = true;

  if (Buffer.isBuffer(data)) return data;

  let buf;

  if (data instanceof ArrayBuffer) {
    buf = Buffer.from(data);
  } else if (ArrayBuffer.isView(data)) {
    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);
  } else {
    buf = Buffer.from(data);
    toBuffer.readOnly = false;
  }

  return buf;
}

try {
  const bufferUtil = __webpack_require__(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'bufferutil'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));
  const bu = bufferUtil.BufferUtil || bufferUtil;

  module.exports = {
    concat,
    mask(source, mask, output, offset, length) {
      if (length < 48) _mask(source, mask, output, offset, length);
      else bu.mask(source, mask, output, offset, length);
    },
    toArrayBuffer,
    toBuffer,
    unmask(buffer, mask) {
      if (buffer.length < 32) _unmask(buffer, mask);
      else bu.unmask(buffer, mask);
    }
  };
} catch (e) /* istanbul ignore next */ {
  module.exports = {
    concat,
    mask: _mask,
    toArrayBuffer,
    toBuffer,
    unmask: _unmask
  };
}


/***/ }),

/***/ 757784:
/***/ ((module) => {

"use strict";


const WRITE_INDEX = 4
const READ_INDEX = 8

module.exports = {
  WRITE_INDEX,
  READ_INDEX
}


/***/ }),

/***/ 774722:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const { Duplex } = __webpack_require__(302203);

/**
 * Emits the `'close'` event on a stream.
 *
 * @param {Duplex} stream The stream.
 * @private
 */
function emitClose(stream) {
  stream.emit('close');
}

/**
 * The listener of the `'end'` event.
 *
 * @private
 */
function duplexOnEnd() {
  if (!this.destroyed && this._writableState.finished) {
    this.destroy();
  }
}

/**
 * The listener of the `'error'` event.
 *
 * @param {Error} err The error
 * @private
 */
function duplexOnError(err) {
  this.removeListener('error', duplexOnError);
  this.destroy();
  if (this.listenerCount('error') === 0) {
    // Do not suppress the throwing behavior.
    this.emit('error', err);
  }
}

/**
 * Wraps a `WebSocket` in a duplex stream.
 *
 * @param {WebSocket} ws The `WebSocket` to wrap
 * @param {Object} [options] The options for the `Duplex` constructor
 * @return {Duplex} The duplex stream
 * @public
 */
function createWebSocketStream(ws, options) {
  let resumeOnReceiverDrain = true;
  let terminateOnDestroy = true;

  function receiverOnDrain() {
    if (resumeOnReceiverDrain) ws._socket.resume();
  }

  if (ws.readyState === ws.CONNECTING) {
    ws.once('open', function open() {
      ws._receiver.removeAllListeners('drain');
      ws._receiver.on('drain', receiverOnDrain);
    });
  } else {
    ws._receiver.removeAllListeners('drain');
    ws._receiver.on('drain', receiverOnDrain);
  }

  const duplex = new Duplex({
    ...options,
    autoDestroy: false,
    emitClose: false,
    objectMode: false,
    writableObjectMode: false
  });

  ws.on('message', function message(msg) {
    if (!duplex.push(msg)) {
      resumeOnReceiverDrain = false;
      ws._socket.pause();
    }
  });

  ws.once('error', function error(err) {
    if (duplex.destroyed) return;

    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.
    //
    // - If the `'error'` event is emitted before the `'open'` event, then
    //   `ws.terminate()` is a noop as no socket is assigned.
    // - Otherwise, the error is re-emitted by the listener of the `'error'`
    //   event of the `Receiver` object. The listener already closes the
    //   connection by calling `ws.close()`. This allows a close frame to be
    //   sent to the other peer. If `ws.terminate()` is called right after this,
    //   then the close frame might not be sent.
    terminateOnDestroy = false;
    duplex.destroy(err);
  });

  ws.once('close', function close() {
    if (duplex.destroyed) return;

    duplex.push(null);
  });

  duplex._destroy = function (err, callback) {
    if (ws.readyState === ws.CLOSED) {
      callback(err);
      process.nextTick(emitClose, duplex);
      return;
    }

    let called = false;

    ws.once('error', function error(err) {
      called = true;
      callback(err);
    });

    ws.once('close', function close() {
      if (!called) callback(err);
      process.nextTick(emitClose, duplex);
    });

    if (terminateOnDestroy) ws.terminate();
  };

  duplex._final = function (callback) {
    if (ws.readyState === ws.CONNECTING) {
      ws.once('open', function open() {
        duplex._final(callback);
      });
      return;
    }

    // If the value of the `_socket` property is `null` it means that `ws` is a
    // client websocket and the handshake failed. In fact, when this happens, a
    // socket is never assigned to the websocket. Wait for the `'error'` event
    // that will be emitted by the websocket.
    if (ws._socket === null) return;

    if (ws._socket._writableState.finished) {
      callback();
      if (duplex._readableState.endEmitted) duplex.destroy();
    } else {
      ws._socket.once('finish', function finish() {
        // `duplex` is not destroyed here because the `'end'` event will be
        // emitted on `duplex` after this `'finish'` event. The EOF signaling
        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.
        callback();
      });
      ws.close();
    }
  };

  duplex._read = function () {
    if (
      (ws.readyState === ws.OPEN || ws.readyState === ws.CLOSING) &&
      !resumeOnReceiverDrain
    ) {
      resumeOnReceiverDrain = true;
      if (!ws._receiver._writableState.needDrain) ws._socket.resume();
    }
  };

  duplex._write = function (chunk, encoding, callback) {
    if (ws.readyState === ws.CONNECTING) {
      ws.once('open', function open() {
        duplex._write(chunk, encoding, callback);
      });
      return;
    }

    ws.send(chunk, callback);
  };

  duplex.on('end', duplexOnEnd);
  duplex.on('error', duplexOnError);
  return duplex;
}

module.exports = createWebSocketStream;


/***/ }),

/***/ 776994:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const zlib = __webpack_require__(443106);

const bufferUtil = __webpack_require__(699405);
const Limiter = __webpack_require__(496596);
const { kStatusCode, NOOP } = __webpack_require__(243713);

const TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);
const kPerMessageDeflate = Symbol('permessage-deflate');
const kTotalLength = Symbol('total-length');
const kCallback = Symbol('callback');
const kBuffers = Symbol('buffers');
const kError = Symbol('error');

//
// We limit zlib concurrency, which prevents severe memory fragmentation
// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913
// and https://github.com/websockets/ws/issues/1202
//
// Intentionally global; it's the global thread pool that's an issue.
//
let zlibLimiter;

/**
 * permessage-deflate implementation.
 */
class PerMessageDeflate {
  /**
   * Creates a PerMessageDeflate instance.
   *
   * @param {Object} [options] Configuration options
   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept
   *     disabling of server context takeover
   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/
   *     acknowledge disabling of client context takeover
   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the
   *     use of a custom server window size
   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support
   *     for, or request, a custom client window size
   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on
   *     deflate
   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on
   *     inflate
   * @param {Number} [options.threshold=1024] Size (in bytes) below which
   *     messages should not be compressed
   * @param {Number} [options.concurrencyLimit=10] The number of concurrent
   *     calls to zlib
   * @param {Boolean} [isServer=false] Create the instance in either server or
   *     client mode
   * @param {Number} [maxPayload=0] The maximum allowed message length
   */
  constructor(options, isServer, maxPayload) {
    this._maxPayload = maxPayload | 0;
    this._options = options || {};
    this._threshold =
      this._options.threshold !== undefined ? this._options.threshold : 1024;
    this._isServer = !!isServer;
    this._deflate = null;
    this._inflate = null;

    this.params = null;

    if (!zlibLimiter) {
      const concurrency =
        this._options.concurrencyLimit !== undefined
          ? this._options.concurrencyLimit
          : 10;
      zlibLimiter = new Limiter(concurrency);
    }
  }

  /**
   * @type {String}
   */
  static get extensionName() {
    return 'permessage-deflate';
  }

  /**
   * Create an extension negotiation offer.
   *
   * @return {Object} Extension parameters
   * @public
   */
  offer() {
    const params = {};

    if (this._options.serverNoContextTakeover) {
      params.server_no_context_takeover = true;
    }
    if (this._options.clientNoContextTakeover) {
      params.client_no_context_takeover = true;
    }
    if (this._options.serverMaxWindowBits) {
      params.server_max_window_bits = this._options.serverMaxWindowBits;
    }
    if (this._options.clientMaxWindowBits) {
      params.client_max_window_bits = this._options.clientMaxWindowBits;
    } else if (this._options.clientMaxWindowBits == null) {
      params.client_max_window_bits = true;
    }

    return params;
  }

  /**
   * Accept an extension negotiation offer/response.
   *
   * @param {Array} configurations The extension negotiation offers/reponse
   * @return {Object} Accepted configuration
   * @public
   */
  accept(configurations) {
    configurations = this.normalizeParams(configurations);

    this.params = this._isServer
      ? this.acceptAsServer(configurations)
      : this.acceptAsClient(configurations);

    return this.params;
  }

  /**
   * Releases all resources used by the extension.
   *
   * @public
   */
  cleanup() {
    if (this._inflate) {
      this._inflate.close();
      this._inflate = null;
    }

    if (this._deflate) {
      const callback = this._deflate[kCallback];

      this._deflate.close();
      this._deflate = null;

      if (callback) {
        callback(
          new Error(
            'The deflate stream was closed while data was being processed'
          )
        );
      }
    }
  }

  /**
   *  Accept an extension negotiation offer.
   *
   * @param {Array} offers The extension negotiation offers
   * @return {Object} Accepted configuration
   * @private
   */
  acceptAsServer(offers) {
    const opts = this._options;
    const accepted = offers.find((params) => {
      if (
        (opts.serverNoContextTakeover === false &&
          params.server_no_context_takeover) ||
        (params.server_max_window_bits &&
          (opts.serverMaxWindowBits === false ||
            (typeof opts.serverMaxWindowBits === 'number' &&
              opts.serverMaxWindowBits > params.server_max_window_bits))) ||
        (typeof opts.clientMaxWindowBits === 'number' &&
          !params.client_max_window_bits)
      ) {
        return false;
      }

      return true;
    });

    if (!accepted) {
      throw new Error('None of the extension offers can be accepted');
    }

    if (opts.serverNoContextTakeover) {
      accepted.server_no_context_takeover = true;
    }
    if (opts.clientNoContextTakeover) {
      accepted.client_no_context_takeover = true;
    }
    if (typeof opts.serverMaxWindowBits === 'number') {
      accepted.server_max_window_bits = opts.serverMaxWindowBits;
    }
    if (typeof opts.clientMaxWindowBits === 'number') {
      accepted.client_max_window_bits = opts.clientMaxWindowBits;
    } else if (
      accepted.client_max_window_bits === true ||
      opts.clientMaxWindowBits === false
    ) {
      delete accepted.client_max_window_bits;
    }

    return accepted;
  }

  /**
   * Accept the extension negotiation response.
   *
   * @param {Array} response The extension negotiation response
   * @return {Object} Accepted configuration
   * @private
   */
  acceptAsClient(response) {
    const params = response[0];

    if (
      this._options.clientNoContextTakeover === false &&
      params.client_no_context_takeover
    ) {
      throw new Error('Unexpected parameter "client_no_context_takeover"');
    }

    if (!params.client_max_window_bits) {
      if (typeof this._options.clientMaxWindowBits === 'number') {
        params.client_max_window_bits = this._options.clientMaxWindowBits;
      }
    } else if (
      this._options.clientMaxWindowBits === false ||
      (typeof this._options.clientMaxWindowBits === 'number' &&
        params.client_max_window_bits > this._options.clientMaxWindowBits)
    ) {
      throw new Error(
        'Unexpected or invalid parameter "client_max_window_bits"'
      );
    }

    return params;
  }

  /**
   * Normalize parameters.
   *
   * @param {Array} configurations The extension negotiation offers/reponse
   * @return {Array} The offers/response with normalized parameters
   * @private
   */
  normalizeParams(configurations) {
    configurations.forEach((params) => {
      Object.keys(params).forEach((key) => {
        let value = params[key];

        if (value.length > 1) {
          throw new Error(`Parameter "${key}" must have only a single value`);
        }

        value = value[0];

        if (key === 'client_max_window_bits') {
          if (value !== true) {
            const num = +value;
            if (!Number.isInteger(num) || num < 8 || num > 15) {
              throw new TypeError(
                `Invalid value for parameter "${key}": ${value}`
              );
            }
            value = num;
          } else if (!this._isServer) {
            throw new TypeError(
              `Invalid value for parameter "${key}": ${value}`
            );
          }
        } else if (key === 'server_max_window_bits') {
          const num = +value;
          if (!Number.isInteger(num) || num < 8 || num > 15) {
            throw new TypeError(
              `Invalid value for parameter "${key}": ${value}`
            );
          }
          value = num;
        } else if (
          key === 'client_no_context_takeover' ||
          key === 'server_no_context_takeover'
        ) {
          if (value !== true) {
            throw new TypeError(
              `Invalid value for parameter "${key}": ${value}`
            );
          }
        } else {
          throw new Error(`Unknown parameter "${key}"`);
        }

        params[key] = value;
      });
    });

    return configurations;
  }

  /**
   * Decompress data. Concurrency limited.
   *
   * @param {Buffer} data Compressed data
   * @param {Boolean} fin Specifies whether or not this is the last fragment
   * @param {Function} callback Callback
   * @public
   */
  decompress(data, fin, callback) {
    zlibLimiter.add((done) => {
      this._decompress(data, fin, (err, result) => {
        done();
        callback(err, result);
      });
    });
  }

  /**
   * Compress data. Concurrency limited.
   *
   * @param {Buffer} data Data to compress
   * @param {Boolean} fin Specifies whether or not this is the last fragment
   * @param {Function} callback Callback
   * @public
   */
  compress(data, fin, callback) {
    zlibLimiter.add((done) => {
      this._compress(data, fin, (err, result) => {
        done();
        callback(err, result);
      });
    });
  }

  /**
   * Decompress data.
   *
   * @param {Buffer} data Compressed data
   * @param {Boolean} fin Specifies whether or not this is the last fragment
   * @param {Function} callback Callback
   * @private
   */
  _decompress(data, fin, callback) {
    const endpoint = this._isServer ? 'client' : 'server';

    if (!this._inflate) {
      const key = `${endpoint}_max_window_bits`;
      const windowBits =
        typeof this.params[key] !== 'number'
          ? zlib.Z_DEFAULT_WINDOWBITS
          : this.params[key];

      this._inflate = zlib.createInflateRaw({
        ...this._options.zlibInflateOptions,
        windowBits
      });
      this._inflate[kPerMessageDeflate] = this;
      this._inflate[kTotalLength] = 0;
      this._inflate[kBuffers] = [];
      this._inflate.on('error', inflateOnError);
      this._inflate.on('data', inflateOnData);
    }

    this._inflate[kCallback] = callback;

    this._inflate.write(data);
    if (fin) this._inflate.write(TRAILER);

    this._inflate.flush(() => {
      const err = this._inflate[kError];

      if (err) {
        this._inflate.close();
        this._inflate = null;
        callback(err);
        return;
      }

      const data = bufferUtil.concat(
        this._inflate[kBuffers],
        this._inflate[kTotalLength]
      );

      if (this._inflate._readableState.endEmitted) {
        this._inflate.close();
        this._inflate = null;
      } else {
        this._inflate[kTotalLength] = 0;
        this._inflate[kBuffers] = [];

        if (fin && this.params[`${endpoint}_no_context_takeover`]) {
          this._inflate.reset();
        }
      }

      callback(null, data);
    });
  }

  /**
   * Compress data.
   *
   * @param {Buffer} data Data to compress
   * @param {Boolean} fin Specifies whether or not this is the last fragment
   * @param {Function} callback Callback
   * @private
   */
  _compress(data, fin, callback) {
    const endpoint = this._isServer ? 'server' : 'client';

    if (!this._deflate) {
      const key = `${endpoint}_max_window_bits`;
      const windowBits =
        typeof this.params[key] !== 'number'
          ? zlib.Z_DEFAULT_WINDOWBITS
          : this.params[key];

      this._deflate = zlib.createDeflateRaw({
        ...this._options.zlibDeflateOptions,
        windowBits
      });

      this._deflate[kTotalLength] = 0;
      this._deflate[kBuffers] = [];

      //
      // An `'error'` event is emitted, only on Node.js < 10.0.0, if the
      // `zlib.DeflateRaw` instance is closed while data is being processed.
      // This can happen if `PerMessageDeflate#cleanup()` is called at the wrong
      // time due to an abnormal WebSocket closure.
      //
      this._deflate.on('error', NOOP);
      this._deflate.on('data', deflateOnData);
    }

    this._deflate[kCallback] = callback;

    this._deflate.write(data);
    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {
      if (!this._deflate) {
        //
        // The deflate stream was closed while data was being processed.
        //
        return;
      }

      let data = bufferUtil.concat(
        this._deflate[kBuffers],
        this._deflate[kTotalLength]
      );

      if (fin) data = data.slice(0, data.length - 4);

      //
      // Ensure that the callback will not be called again in
      // `PerMessageDeflate#cleanup()`.
      //
      this._deflate[kCallback] = null;

      this._deflate[kTotalLength] = 0;
      this._deflate[kBuffers] = [];

      if (fin && this.params[`${endpoint}_no_context_takeover`]) {
        this._deflate.reset();
      }

      callback(null, data);
    });
  }
}

module.exports = PerMessageDeflate;

/**
 * The listener of the `zlib.DeflateRaw` stream `'data'` event.
 *
 * @param {Buffer} chunk A chunk of data
 * @private
 */
function deflateOnData(chunk) {
  this[kBuffers].push(chunk);
  this[kTotalLength] += chunk.length;
}

/**
 * The listener of the `zlib.InflateRaw` stream `'data'` event.
 *
 * @param {Buffer} chunk A chunk of data
 * @private
 */
function inflateOnData(chunk) {
  this[kTotalLength] += chunk.length;

  if (
    this[kPerMessageDeflate]._maxPayload < 1 ||
    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload
  ) {
    this[kBuffers].push(chunk);
    return;
  }

  this[kError] = new RangeError('Max payload size exceeded');
  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';
  this[kError][kStatusCode] = 1009;
  this.removeListener('data', inflateOnData);
  this.reset();
}

/**
 * The listener of the `zlib.InflateRaw` stream `'error'` event.
 *
 * @param {Error} err The emitted error
 * @private
 */
function inflateOnError(err) {
  //
  // There is no need to call `Zlib#close()` as the handle is automatically
  // closed when an error is emitted.
  //
  this[kPerMessageDeflate]._inflate = null;
  err[kStatusCode] = 1007;
  this[kCallback](err);
}


/***/ }),

/***/ 789883:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Watch = void 0;
class Watch {
    constructor() {
        this.timestamps = new Map();
    }
    start(label) {
        if (this.timestamps.has(label)) {
            throw new Error(`Watch already started for label: ${label}`);
        }
        this.timestamps.set(label, { started: Date.now() });
    }
    stop(label) {
        const timestamp = this.get(label);
        if (typeof timestamp.elapsed !== "undefined") {
            throw new Error(`Watch already stopped for label: ${label}`);
        }
        const elapsed = Date.now() - timestamp.started;
        this.timestamps.set(label, { started: timestamp.started, elapsed });
    }
    get(label) {
        const timestamp = this.timestamps.get(label);
        if (typeof timestamp === "undefined") {
            throw new Error(`No timestamp found for label: ${label}`);
        }
        return timestamp;
    }
    elapsed(label) {
        const timestamp = this.get(label);
        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;
        return elapsed;
    }
}
exports.Watch = Watch;
exports["default"] = Watch;
//# sourceMappingURL=watch.js.map

/***/ }),

/***/ 792784:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const WebSocket = __webpack_require__(400315);

WebSocket.createWebSocketStream = __webpack_require__(774722);
WebSocket.Server = __webpack_require__(510463);
WebSocket.Receiver = __webpack_require__(79195);
WebSocket.Sender = __webpack_require__(582055);

module.exports = WebSocket;


/***/ }),

/***/ 835404:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Vw: () => (/* binding */ Hash),
  Fc: () => (/* binding */ byteSwap32),
  Id: () => (/* binding */ concatBytes),
  O8: () => (/* binding */ createView),
  qv: () => (/* binding */ isLE),
  po: () => (/* binding */ randomBytes),
  Ow: () => (/* binding */ rotr),
  ZJ: () => (/* binding */ toBytes),
  DH: () => (/* binding */ u32),
  ld: () => (/* binding */ wrapConstructor)
});

// UNUSED EXPORTS: asyncLoop, byteSwap, byteSwapIfBE, bytesToHex, checkOpts, hexToBytes, isBytes, nextTick, rotl, u8, utf8ToBytes, wrapConstructorWithOpts, wrapXOFConstructorWithOpts

// EXTERNAL MODULE: external "node:crypto"
var external_node_crypto_ = __webpack_require__(977598);
var external_node_crypto_namespaceObject = /*#__PURE__*/__webpack_require__.t(external_node_crypto_, 2);
;// ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/cryptoNode.js
/**
 * Internal webcrypto alias.
 * We prefer WebCrypto aka globalThis.crypto, which exists in node.js 16+.
 * Falls back to Node.js built-in crypto for Node.js <=v14.
 * See utils.ts for details.
 * @module
 */
// @ts-ignore

const cryptoNode_crypto = external_node_crypto_namespaceObject && typeof external_node_crypto_namespaceObject === 'object' && "webcrypto" in external_node_crypto_namespaceObject
    ? external_node_crypto_.webcrypto
    : external_node_crypto_namespaceObject && typeof external_node_crypto_namespaceObject === 'object' && "randomBytes" in external_node_crypto_namespaceObject
        ? external_node_crypto_namespaceObject
        : undefined;
//# sourceMappingURL=cryptoNode.js.map
// EXTERNAL MODULE: ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/_assert.js
var _assert = __webpack_require__(183011);
;// ./node_modules/@walletconnect/utils/node_modules/@noble/hashes/esm/utils.js
/**
 * Utilities for hex, bytes, CSPRNG.
 * @module
 */
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.
// node.js versions earlier than v19 don't declare it in global scope.
// For node.js, package.json#exports field mapping rewrites import
// from `crypto` to `cryptoNode`, which imports native module.
// Makes the utils un-importable in browsers without a bundler.
// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.


// export { isBytes } from './_assert.js';
// We can't reuse isBytes from _assert, because somehow this causes huge perf issues
function isBytes(a) {
    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
}
// Cast array to different type
function u8(arr) {
    return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);
}
function u32(arr) {
    return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));
}
// Cast array to view
function createView(arr) {
    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);
}
/** The rotate right (circular right shift) operation for uint32 */
function rotr(word, shift) {
    return (word << (32 - shift)) | (word >>> shift);
}
/** The rotate left (circular left shift) operation for uint32 */
function rotl(word, shift) {
    return (word << shift) | ((word >>> (32 - shift)) >>> 0);
}
/** Is current platform little-endian? Most are. Big-Endian platform: IBM */
const isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();
// The byte swap operation for uint32
function byteSwap(word) {
    return (((word << 24) & 0xff000000) |
        ((word << 8) & 0xff0000) |
        ((word >>> 8) & 0xff00) |
        ((word >>> 24) & 0xff));
}
/** Conditionally byte swap if on a big-endian platform */
const byteSwapIfBE = (/* unused pure expression or super */ null && (isLE
    ? (n) => n
    : (n) => byteSwap(n)));
/** In place byte swap for Uint32Array */
function byteSwap32(arr) {
    for (let i = 0; i < arr.length; i++) {
        arr[i] = byteSwap(arr[i]);
    }
}
// Array where index 0xf0 (240) is mapped to string 'f0'
const hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));
/**
 * Convert byte array to hex string.
 * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'
 */
function bytesToHex(bytes) {
    abytes(bytes);
    // pre-caching improves the speed 6x
    let hex = '';
    for (let i = 0; i < bytes.length; i++) {
        hex += hexes[bytes[i]];
    }
    return hex;
}
// We use optimized technique to convert hex string to byte array
const asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };
function asciiToBase16(ch) {
    if (ch >= asciis._0 && ch <= asciis._9)
        return ch - asciis._0; // '2' => 50-48
    if (ch >= asciis.A && ch <= asciis.F)
        return ch - (asciis.A - 10); // 'B' => 66-(65-10)
    if (ch >= asciis.a && ch <= asciis.f)
        return ch - (asciis.a - 10); // 'b' => 98-(97-10)
    return;
}
/**
 * Convert hex string to byte array.
 * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])
 */
function hexToBytes(hex) {
    if (typeof hex !== 'string')
        throw new Error('hex string expected, got ' + typeof hex);
    const hl = hex.length;
    const al = hl / 2;
    if (hl % 2)
        throw new Error('hex string expected, got unpadded hex of length ' + hl);
    const array = new Uint8Array(al);
    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {
        const n1 = asciiToBase16(hex.charCodeAt(hi));
        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));
        if (n1 === undefined || n2 === undefined) {
            const char = hex[hi] + hex[hi + 1];
            throw new Error('hex string expected, got non-hex character "' + char + '" at index ' + hi);
        }
        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163
    }
    return array;
}
/**
 * There is no setImmediate in browser and setTimeout is slow.
 * Call of async fn will return Promise, which will be fullfiled only on
 * next scheduler queue processing step and this is exactly what we need.
 */
const nextTick = async () => { };
/** Returns control to thread each 'tick' ms to avoid blocking. */
async function asyncLoop(iters, tick, cb) {
    let ts = Date.now();
    for (let i = 0; i < iters; i++) {
        cb(i);
        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too
        const diff = Date.now() - ts;
        if (diff >= 0 && diff < tick)
            continue;
        await nextTick();
        ts += diff;
    }
}
/**
 * Convert JS string to byte array.
 * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
 */
function utf8ToBytes(str) {
    if (typeof str !== 'string')
        throw new Error('utf8ToBytes expected string, got ' + typeof str);
    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
}
/**
 * Normalizes (non-hex) string or Uint8Array to Uint8Array.
 * Warning: when Uint8Array is passed, it would NOT get copied.
 * Keep in mind for future mutable operations.
 */
function toBytes(data) {
    if (typeof data === 'string')
        data = utf8ToBytes(data);
    (0,_assert/* abytes */.DO)(data);
    return data;
}
/**
 * Copies several Uint8Arrays into one.
 */
function concatBytes(...arrays) {
    let sum = 0;
    for (let i = 0; i < arrays.length; i++) {
        const a = arrays[i];
        (0,_assert/* abytes */.DO)(a);
        sum += a.length;
    }
    const res = new Uint8Array(sum);
    for (let i = 0, pad = 0; i < arrays.length; i++) {
        const a = arrays[i];
        res.set(a, pad);
        pad += a.length;
    }
    return res;
}
/** For runtime check if class implements interface */
class Hash {
    // Safe version that clones internal state
    clone() {
        return this._cloneInto();
    }
}
function checkOpts(defaults, opts) {
    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')
        throw new Error('Options should be object or undefined');
    const merged = Object.assign(defaults, opts);
    return merged;
}
/** Wraps hash function, creating an interface on top of it */
function wrapConstructor(hashCons) {
    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();
    const tmp = hashCons();
    hashC.outputLen = tmp.outputLen;
    hashC.blockLen = tmp.blockLen;
    hashC.create = () => hashCons();
    return hashC;
}
function wrapConstructorWithOpts(hashCons) {
    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();
    const tmp = hashCons({});
    hashC.outputLen = tmp.outputLen;
    hashC.blockLen = tmp.blockLen;
    hashC.create = (opts) => hashCons(opts);
    return hashC;
}
function wrapXOFConstructorWithOpts(hashCons) {
    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();
    const tmp = hashCons({});
    hashC.outputLen = tmp.outputLen;
    hashC.blockLen = tmp.blockLen;
    hashC.create = (opts) => hashCons(opts);
    return hashC;
}
/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */
function randomBytes(bytesLength = 32) {
    if (cryptoNode_crypto && typeof cryptoNode_crypto.getRandomValues === 'function') {
        return cryptoNode_crypto.getRandomValues(new Uint8Array(bytesLength));
    }
    // Legacy Node.js compatibility
    if (cryptoNode_crypto && typeof cryptoNode_crypto.randomBytes === 'function') {
        return cryptoNode_crypto.randomBytes(bytesLength);
    }
    throw new Error('crypto.getRandomValues must be defined');
}
//# sourceMappingURL=utils.js.map

/***/ }),

/***/ 838196:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;
function getFromWindow(name) {
    let res = undefined;
    if (typeof window !== "undefined" && typeof window[name] !== "undefined") {
        res = window[name];
    }
    return res;
}
exports.getFromWindow = getFromWindow;
function getFromWindowOrThrow(name) {
    const res = getFromWindow(name);
    if (!res) {
        throw new Error(`${name} is not defined in Window`);
    }
    return res;
}
exports.getFromWindowOrThrow = getFromWindowOrThrow;
function getDocumentOrThrow() {
    return getFromWindowOrThrow("document");
}
exports.getDocumentOrThrow = getDocumentOrThrow;
function getDocument() {
    return getFromWindow("document");
}
exports.getDocument = getDocument;
function getNavigatorOrThrow() {
    return getFromWindowOrThrow("navigator");
}
exports.getNavigatorOrThrow = getNavigatorOrThrow;
function getNavigator() {
    return getFromWindow("navigator");
}
exports.getNavigator = getNavigator;
function getLocationOrThrow() {
    return getFromWindowOrThrow("location");
}
exports.getLocationOrThrow = getLocationOrThrow;
function getLocation() {
    return getFromWindow("location");
}
exports.getLocation = getLocation;
function getCryptoOrThrow() {
    return getFromWindowOrThrow("crypto");
}
exports.getCryptoOrThrow = getCryptoOrThrow;
function getCrypto() {
    return getFromWindow("crypto");
}
exports.getCrypto = getCrypto;
function getLocalStorageOrThrow() {
    return getFromWindowOrThrow("localStorage");
}
exports.getLocalStorageOrThrow = getLocalStorageOrThrow;
function getLocalStorage() {
    return getFromWindow("localStorage");
}
exports.getLocalStorage = getLocalStorage;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 840351:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const metadata = Symbol.for('pino.metadata')
const { levels } = __webpack_require__(495787)

const defaultLevels = Object.create(levels)
defaultLevels.silent = Infinity

const DEFAULT_INFO_LEVEL = levels.info

function multistream (streamsArray, opts) {
  let counter = 0
  streamsArray = streamsArray || []
  opts = opts || { dedupe: false }

  let levels = defaultLevels
  if (opts.levels && typeof opts.levels === 'object') {
    levels = opts.levels
  }

  const res = {
    write,
    add,
    flushSync,
    end,
    minLevel: 0,
    streams: [],
    clone,
    [metadata]: true
  }

  if (Array.isArray(streamsArray)) {
    streamsArray.forEach(add, res)
  } else {
    add.call(res, streamsArray)
  }

  // clean this object up
  // or it will stay allocated forever
  // as it is closed on the following closures
  streamsArray = null

  return res

  // we can exit early because the streams are ordered by level
  function write (data) {
    let dest
    const level = this.lastLevel
    const { streams } = this
    let stream
    for (let i = 0; i < streams.length; i++) {
      dest = streams[i]
      if (dest.level <= level) {
        stream = dest.stream
        if (stream[metadata]) {
          const { lastTime, lastMsg, lastObj, lastLogger } = this
          stream.lastLevel = level
          stream.lastTime = lastTime
          stream.lastMsg = lastMsg
          stream.lastObj = lastObj
          stream.lastLogger = lastLogger
        }
        if (!opts.dedupe || dest.level === level) {
          stream.write(data)
        }
      } else {
        break
      }
    }
  }

  function flushSync () {
    for (const { stream } of this.streams) {
      if (typeof stream.flushSync === 'function') {
        stream.flushSync()
      }
    }
  }

  function add (dest) {
    if (!dest) {
      return res
    }

    // Check that dest implements either StreamEntry or DestinationStream
    const isStream = typeof dest.write === 'function' || dest.stream
    const stream_ = dest.write ? dest : dest.stream
    // This is necessary to provide a meaningful error message, otherwise it throws somewhere inside write()
    if (!isStream) {
      throw Error('stream object needs to implement either StreamEntry or DestinationStream interface')
    }

    const { streams } = this

    let level
    if (typeof dest.levelVal === 'number') {
      level = dest.levelVal
    } else if (typeof dest.level === 'string') {
      level = levels[dest.level]
    } else if (typeof dest.level === 'number') {
      level = dest.level
    } else {
      level = DEFAULT_INFO_LEVEL
    }

    const dest_ = {
      stream: stream_,
      level,
      levelVal: undefined,
      id: counter++
    }

    streams.unshift(dest_)
    streams.sort(compareByLevel)

    this.minLevel = streams[0].level

    return res
  }

  function end () {
    for (const { stream } of this.streams) {
      if (typeof stream.flushSync === 'function') {
        stream.flushSync()
      }
      stream.end()
    }
  }

  function clone (level) {
    const streams = new Array(this.streams.length)

    for (let i = 0; i < streams.length; i++) {
      streams[i] = {
        level: level,
        stream: this.streams[i].stream
      }
    }

    return {
      write,
      add,
      minLevel: level,
      streams,
      clone,
      flushSync,
      [metadata]: true
    }
  }
}

function compareByLevel (a, b) {
  return a.level - b.level
}

module.exports = multistream


/***/ }),

/***/ 841753:
/***/ ((module) => {

"use strict";


module.exports = /[^.[\]]+|\[((?:.)*?)\]/g

/*
Regular expression explanation:

Alt 1: /[^.[\]]+/ - Match one or more characters that are *not* a dot (.)
                    opening square bracket ([) or closing square bracket (])

Alt 2: /\[((?:.)*?)\]/ - If the char IS dot or square bracket, then create a capture
                         group (which will be capture group $1) that matches anything
                         within square brackets. Expansion is lazy so it will
                         stop matching as soon as the first closing bracket is met `]`
                         (rather than continuing to match until the final closing bracket).
*/


/***/ }),

/***/ 842063:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;

__webpack_unused_export__ = ({ value: true });
exports.g = void 0;
const window_getters_1 = __webpack_require__(838196);
function getWindowMetadata() {
    let doc;
    let loc;
    try {
        doc = window_getters_1.getDocumentOrThrow();
        loc = window_getters_1.getLocationOrThrow();
    }
    catch (e) {
        return null;
    }
    function getIcons() {
        const links = doc.getElementsByTagName("link");
        const icons = [];
        for (let i = 0; i < links.length; i++) {
            const link = links[i];
            const rel = link.getAttribute("rel");
            if (rel) {
                if (rel.toLowerCase().indexOf("icon") > -1) {
                    const href = link.getAttribute("href");
                    if (href) {
                        if (href.toLowerCase().indexOf("https:") === -1 &&
                            href.toLowerCase().indexOf("http:") === -1 &&
                            href.indexOf("//") !== 0) {
                            let absoluteHref = loc.protocol + "//" + loc.host;
                            if (href.indexOf("/") === 0) {
                                absoluteHref += href;
                            }
                            else {
                                const path = loc.pathname.split("/");
                                path.pop();
                                const finalPath = path.join("/");
                                absoluteHref += finalPath + "/" + href;
                            }
                            icons.push(absoluteHref);
                        }
                        else if (href.indexOf("//") === 0) {
                            const absoluteUrl = loc.protocol + href;
                            icons.push(absoluteUrl);
                        }
                        else {
                            icons.push(href);
                        }
                    }
                }
            }
        }
        return icons;
    }
    function getWindowMetadataOfAny(...args) {
        const metaTags = doc.getElementsByTagName("meta");
        for (let i = 0; i < metaTags.length; i++) {
            const tag = metaTags[i];
            const attributes = ["itemprop", "property", "name"]
                .map((target) => tag.getAttribute(target))
                .filter((attr) => {
                if (attr) {
                    return args.includes(attr);
                }
                return false;
            });
            if (attributes.length && attributes) {
                const content = tag.getAttribute("content");
                if (content) {
                    return content;
                }
            }
        }
        return "";
    }
    function getName() {
        let name = getWindowMetadataOfAny("name", "og:site_name", "og:title", "twitter:title");
        if (!name) {
            name = doc.title;
        }
        return name;
    }
    function getDescription() {
        const description = getWindowMetadataOfAny("description", "og:description", "twitter:description", "keywords");
        return description;
    }
    const name = getName();
    const description = getDescription();
    const url = loc.origin;
    const icons = getIcons();
    const meta = {
        description,
        url,
        icons,
        name,
    };
    return meta;
}
exports.g = getWindowMetadata;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 846270:
/***/ ((module) => {

"use strict";


function genWrap (wraps, ref, fn, event) {
  function wrap () {
    const obj = ref.deref()
    // This should alway happen, however GC is
    // undeterministic so it might happen.
    /* istanbul ignore else */
    if (obj !== undefined) {
      fn(obj, event)
    }
  }

  wraps[event] = wrap
  process.once(event, wrap)
}

const registry = new FinalizationRegistry(clear)
const map = new WeakMap()

function clear (wraps) {
  process.removeListener('exit', wraps.exit)
  process.removeListener('beforeExit', wraps.beforeExit)
}

function register (obj, fn) {
  if (obj === undefined) {
    throw new Error('the object can\'t be undefined')
  }
  const ref = new WeakRef(obj)

  const wraps = {}
  map.set(obj, wraps)
  registry.register(obj, wraps)

  genWrap(wraps, ref, fn, 'exit')
  genWrap(wraps, ref, fn, 'beforeExit')
}

function unregister (obj) {
  const wraps = map.get(obj)
  map.delete(obj)
  if (wraps) {
    clear(wraps)
  }
  registry.unregister(obj)
}

module.exports = {
  register,
  unregister
}


/***/ }),

/***/ 865835:
/***/ ((module) => {

"use strict";


const setLevelSym = Symbol('pino.setLevel')
const getLevelSym = Symbol('pino.getLevel')
const levelValSym = Symbol('pino.levelVal')
const useLevelLabelsSym = Symbol('pino.useLevelLabels')
const useOnlyCustomLevelsSym = Symbol('pino.useOnlyCustomLevels')
const mixinSym = Symbol('pino.mixin')

const lsCacheSym = Symbol('pino.lsCache')
const chindingsSym = Symbol('pino.chindings')
const parsedChindingsSym = Symbol('pino.parsedChindings')

const asJsonSym = Symbol('pino.asJson')
const writeSym = Symbol('pino.write')
const redactFmtSym = Symbol('pino.redactFmt')

const timeSym = Symbol('pino.time')
const timeSliceIndexSym = Symbol('pino.timeSliceIndex')
const streamSym = Symbol('pino.stream')
const stringifySym = Symbol('pino.stringify')
const stringifySafeSym = Symbol('pino.stringifySafe')
const stringifiersSym = Symbol('pino.stringifiers')
const endSym = Symbol('pino.end')
const formatOptsSym = Symbol('pino.formatOpts')
const messageKeySym = Symbol('pino.messageKey')
const nestedKeySym = Symbol('pino.nestedKey')
const nestedKeyStrSym = Symbol('pino.nestedKeyStr')
const mixinMergeStrategySym = Symbol('pino.mixinMergeStrategy')

const wildcardFirstSym = Symbol('pino.wildcardFirst')

// public symbols, no need to use the same pino
// version for these
const serializersSym = Symbol.for('pino.serializers')
const formattersSym = Symbol.for('pino.formatters')
const hooksSym = Symbol.for('pino.hooks')
const needsMetadataGsym = Symbol.for('pino.metadata')

module.exports = {
  setLevelSym,
  getLevelSym,
  levelValSym,
  useLevelLabelsSym,
  mixinSym,
  lsCacheSym,
  chindingsSym,
  parsedChindingsSym,
  asJsonSym,
  writeSym,
  serializersSym,
  redactFmtSym,
  timeSym,
  timeSliceIndexSym,
  streamSym,
  stringifySym,
  stringifySafeSym,
  stringifiersSym,
  endSym,
  formatOptsSym,
  messageKeySym,
  nestedKeySym,
  wildcardFirstSym,
  needsMetadataGsym,
  useOnlyCustomLevelsSym,
  formattersSym,
  hooksSym,
  nestedKeyStrSym,
  mixinMergeStrategySym
}


/***/ }),

/***/ 880584:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __assign: () => (/* binding */ __assign),
/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),
/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),
/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),
/* harmony export */   __await: () => (/* binding */ __await),
/* harmony export */   __awaiter: () => (/* binding */ __awaiter),
/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),
/* harmony export */   __createBinding: () => (/* binding */ __createBinding),
/* harmony export */   __decorate: () => (/* binding */ __decorate),
/* harmony export */   __exportStar: () => (/* binding */ __exportStar),
/* harmony export */   __extends: () => (/* binding */ __extends),
/* harmony export */   __generator: () => (/* binding */ __generator),
/* harmony export */   __importDefault: () => (/* binding */ __importDefault),
/* harmony export */   __importStar: () => (/* binding */ __importStar),
/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),
/* harmony export */   __metadata: () => (/* binding */ __metadata),
/* harmony export */   __param: () => (/* binding */ __param),
/* harmony export */   __read: () => (/* binding */ __read),
/* harmony export */   __rest: () => (/* binding */ __rest),
/* harmony export */   __spread: () => (/* binding */ __spread),
/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),
/* harmony export */   __values: () => (/* binding */ __values)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ 884344:
/***/ ((module) => {

"use strict";


module.exports = {
  mapHttpResponse,
  resSerializer
}

const rawSymbol = Symbol('pino-raw-res-ref')
const pinoResProto = Object.create({}, {
  statusCode: {
    enumerable: true,
    writable: true,
    value: 0
  },
  headers: {
    enumerable: true,
    writable: true,
    value: ''
  },
  raw: {
    enumerable: false,
    get: function () {
      return this[rawSymbol]
    },
    set: function (val) {
      this[rawSymbol] = val
    }
  }
})
Object.defineProperty(pinoResProto, rawSymbol, {
  writable: true,
  value: {}
})

function resSerializer (res) {
  const _res = Object.create(pinoResProto)
  _res.statusCode = res.statusCode
  _res.headers = res.getHeaders ? res.getHeaders() : res._headers
  _res.raw = res
  return _res
}

function mapHttpResponse (res) {
  return {
    res: resSerializer(res)
  }
}


/***/ }),

/***/ 894308:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

/* eslint no-prototype-builtins: 0 */
const os = __webpack_require__(370857)
const stdSerializers = __webpack_require__(237214)
const caller = __webpack_require__(954811)
const redaction = __webpack_require__(904123)
const time = __webpack_require__(98329)
const proto = __webpack_require__(570824)
const symbols = __webpack_require__(865835)
const { configure } = __webpack_require__(512068)
const { assertDefaultLevelFound, mappings, genLsCache, levels } = __webpack_require__(495787)
const {
  createArgsNormalizer,
  asChindings,
  final,
  buildSafeSonicBoom,
  buildFormatters,
  stringify,
  normalizeDestFileDescriptor,
  noop
} = __webpack_require__(316761)
const { version } = __webpack_require__(566853)
const {
  chindingsSym,
  redactFmtSym,
  serializersSym,
  timeSym,
  timeSliceIndexSym,
  streamSym,
  stringifySym,
  stringifySafeSym,
  stringifiersSym,
  setLevelSym,
  endSym,
  formatOptsSym,
  messageKeySym,
  nestedKeySym,
  mixinSym,
  useOnlyCustomLevelsSym,
  formattersSym,
  hooksSym,
  nestedKeyStrSym,
  mixinMergeStrategySym
} = symbols
const { epochTime, nullTime } = time
const { pid } = process
const hostname = os.hostname()
const defaultErrorSerializer = stdSerializers.err
const defaultOptions = {
  level: 'info',
  levels,
  messageKey: 'msg',
  nestedKey: null,
  enabled: true,
  prettyPrint: false,
  base: { pid, hostname },
  serializers: Object.assign(Object.create(null), {
    err: defaultErrorSerializer
  }),
  formatters: Object.assign(Object.create(null), {
    bindings (bindings) {
      return bindings
    },
    level (label, number) {
      return { level: number }
    }
  }),
  hooks: {
    logMethod: undefined
  },
  timestamp: epochTime,
  name: undefined,
  redact: null,
  customLevels: null,
  useOnlyCustomLevels: false,
  depthLimit: 5,
  edgeLimit: 100
}

const normalize = createArgsNormalizer(defaultOptions)

const serializers = Object.assign(Object.create(null), stdSerializers)

function pino (...args) {
  const instance = {}
  const { opts, stream } = normalize(instance, caller(), ...args)
  const {
    redact,
    crlf,
    serializers,
    timestamp,
    messageKey,
    nestedKey,
    base,
    name,
    level,
    customLevels,
    mixin,
    mixinMergeStrategy,
    useOnlyCustomLevels,
    formatters,
    hooks,
    depthLimit,
    edgeLimit
  } = opts

  const stringifySafe = configure({
    maximumDepth: depthLimit,
    maximumBreadth: edgeLimit
  })

  const allFormatters = buildFormatters(
    formatters.level,
    formatters.bindings,
    formatters.log
  )

  const stringifiers = redact ? redaction(redact, stringify) : {}
  const stringifyFn = stringify.bind({
    [stringifySafeSym]: stringifySafe
  })
  const formatOpts = redact
    ? { stringify: stringifiers[redactFmtSym] }
    : { stringify: stringifyFn }
  const end = '}' + (crlf ? '\r\n' : '\n')
  const coreChindings = asChindings.bind(null, {
    [chindingsSym]: '',
    [serializersSym]: serializers,
    [stringifiersSym]: stringifiers,
    [stringifySym]: stringify,
    [stringifySafeSym]: stringifySafe,
    [formattersSym]: allFormatters
  })

  let chindings = ''
  if (base !== null) {
    if (name === undefined) {
      chindings = coreChindings(base)
    } else {
      chindings = coreChindings(Object.assign({}, base, { name }))
    }
  }

  const time = (timestamp instanceof Function)
    ? timestamp
    : (timestamp ? epochTime : nullTime)
  const timeSliceIndex = time().indexOf(':') + 1

  if (useOnlyCustomLevels && !customLevels) throw Error('customLevels is required if useOnlyCustomLevels is set true')
  if (mixin && typeof mixin !== 'function') throw Error(`Unknown mixin type "${typeof mixin}" - expected "function"`)

  assertDefaultLevelFound(level, customLevels, useOnlyCustomLevels)
  const levels = mappings(customLevels, useOnlyCustomLevels)

  Object.assign(instance, {
    levels,
    [useOnlyCustomLevelsSym]: useOnlyCustomLevels,
    [streamSym]: stream,
    [timeSym]: time,
    [timeSliceIndexSym]: timeSliceIndex,
    [stringifySym]: stringify,
    [stringifySafeSym]: stringifySafe,
    [stringifiersSym]: stringifiers,
    [endSym]: end,
    [formatOptsSym]: formatOpts,
    [messageKeySym]: messageKey,
    [nestedKeySym]: nestedKey,
    // protect against injection
    [nestedKeyStrSym]: nestedKey ? `,${JSON.stringify(nestedKey)}:{` : '',
    [serializersSym]: serializers,
    [mixinSym]: mixin,
    [mixinMergeStrategySym]: mixinMergeStrategy,
    [chindingsSym]: chindings,
    [formattersSym]: allFormatters,
    [hooksSym]: hooks,
    silent: noop
  })

  Object.setPrototypeOf(instance, proto())

  genLsCache(instance)

  instance[setLevelSym](level)

  return instance
}

module.exports = pino

module.exports.destination = (dest = process.stdout.fd) => {
  if (typeof dest === 'object') {
    dest.dest = normalizeDestFileDescriptor(dest.dest || process.stdout.fd)
    return buildSafeSonicBoom(dest)
  } else {
    return buildSafeSonicBoom({ dest: normalizeDestFileDescriptor(dest), minLength: 0, sync: true })
  }
}

module.exports.transport = __webpack_require__(482563)
module.exports.multistream = __webpack_require__(840351)

module.exports.final = final
module.exports.levels = mappings()
module.exports.stdSerializers = serializers
module.exports.stdTimeFunctions = Object.assign({}, time)
module.exports.symbols = symbols
module.exports.version = version

// Enables default and name export with TypeScript and Babel
module.exports["default"] = pino
module.exports.pino = pino


/***/ }),

/***/ 904123:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const fastRedact = __webpack_require__(981423)
const { redactFmtSym, wildcardFirstSym } = __webpack_require__(865835)
const { rx, validator } = fastRedact

const validate = validator({
  ERR_PATHS_MUST_BE_STRINGS: () => 'pino  redacted paths must be strings',
  ERR_INVALID_PATH: (s) => `pino  redact paths array contains an invalid path (${s})`
})

const CENSOR = '[Redacted]'
const strict = false // TODO should this be configurable?

function redaction (opts, serialize) {
  const { paths, censor } = handle(opts)

  const shape = paths.reduce((o, str) => {
    rx.lastIndex = 0
    const first = rx.exec(str)
    const next = rx.exec(str)

    // ns is the top-level path segment, brackets + quoting removed.
    let ns = first[1] !== undefined
      ? first[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/, '$1')
      : first[0]

    if (ns === '*') {
      ns = wildcardFirstSym
    }

    // top level key:
    if (next === null) {
      o[ns] = null
      return o
    }

    // path with at least two segments:
    // if ns is already redacted at the top level, ignore lower level redactions
    if (o[ns] === null) {
      return o
    }

    const { index } = next
    const nextPath = `${str.substr(index, str.length - 1)}`

    o[ns] = o[ns] || []

    // shape is a mix of paths beginning with literal values and wildcard
    // paths [ "a.b.c", "*.b.z" ] should reduce to a shape of
    // { "a": [ "b.c", "b.z" ], *: [ "b.z" ] }
    // note: "b.z" is in both "a" and * arrays because "a" matches the wildcard.
    // (* entry has wildcardFirstSym as key)
    if (ns !== wildcardFirstSym && o[ns].length === 0) {
      // first time ns's get all '*' redactions so far
      o[ns].push(...(o[wildcardFirstSym] || []))
    }

    if (ns === wildcardFirstSym) {
      // new * path gets added to all previously registered literal ns's.
      Object.keys(o).forEach(function (k) {
        if (o[k]) {
          o[k].push(nextPath)
        }
      })
    }

    o[ns].push(nextPath)
    return o
  }, {})

  // the redactor assigned to the format symbol key
  // provides top level redaction for instances where
  // an object is interpolated into the msg string
  const result = {
    [redactFmtSym]: fastRedact({ paths, censor, serialize, strict })
  }

  const topCensor = (...args) => {
    return typeof censor === 'function' ? serialize(censor(...args)) : serialize(censor)
  }

  return [...Object.keys(shape), ...Object.getOwnPropertySymbols(shape)].reduce((o, k) => {
    // top level key:
    if (shape[k] === null) {
      o[k] = (value) => topCensor(value, [k])
    } else {
      const wrappedCensor = typeof censor === 'function'
        ? (value, path) => {
            return censor(value, [k, ...path])
          }
        : censor
      o[k] = fastRedact({
        paths: shape[k],
        censor: wrappedCensor,
        serialize,
        strict
      })
    }
    return o
  }, result)
}

function handle (opts) {
  if (Array.isArray(opts)) {
    opts = { paths: opts, censor: CENSOR }
    validate(opts)
    return opts
  }
  let { paths, censor = CENSOR, remove } = opts
  if (Array.isArray(paths) === false) { throw Error('pino  redact must contain an array of strings') }
  if (remove === true) censor = undefined
  validate({ paths, censor })

  return { paths, censor }
}

module.exports = redaction


/***/ }),

/***/ 952071:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const warning = __webpack_require__(506187)()
module.exports = warning

const warnName = 'PinoWarning'

warning.create(warnName, 'PINODEP008', 'prettyPrint is deprecated, look at https://github.com/pinojs/pino-pretty for alternatives.')

warning.create(warnName, 'PINODEP009', 'The use of pino.final is discouraged in Node.js v14+ and not required. It will be removed in the next major version')


/***/ }),

/***/ 954811:
/***/ ((module) => {

"use strict";


function noOpPrepareStackTrace (_, stack) {
  return stack
}

module.exports = function getCallers () {
  const originalPrepare = Error.prepareStackTrace
  Error.prepareStackTrace = noOpPrepareStackTrace
  const stack = new Error().stack
  Error.prepareStackTrace = originalPrepare

  if (!Array.isArray(stack)) {
    return undefined
  }

  const entries = stack.slice(2)

  const fileNames = []

  for (const entry of entries) {
    if (!entry) {
      continue
    }

    fileNames.push(entry.getFileName())
  }

  return fileNames
}


/***/ }),

/***/ 972802:
/***/ ((module) => {

"use strict";


module.exports = {
  mapHttpRequest,
  reqSerializer
}

const rawSymbol = Symbol('pino-raw-req-ref')
const pinoReqProto = Object.create({}, {
  id: {
    enumerable: true,
    writable: true,
    value: ''
  },
  method: {
    enumerable: true,
    writable: true,
    value: ''
  },
  url: {
    enumerable: true,
    writable: true,
    value: ''
  },
  query: {
    enumerable: true,
    writable: true,
    value: ''
  },
  params: {
    enumerable: true,
    writable: true,
    value: ''
  },
  headers: {
    enumerable: true,
    writable: true,
    value: {}
  },
  remoteAddress: {
    enumerable: true,
    writable: true,
    value: ''
  },
  remotePort: {
    enumerable: true,
    writable: true,
    value: ''
  },
  raw: {
    enumerable: false,
    get: function () {
      return this[rawSymbol]
    },
    set: function (val) {
      this[rawSymbol] = val
    }
  }
})
Object.defineProperty(pinoReqProto, rawSymbol, {
  writable: true,
  value: {}
})

function reqSerializer (req) {
  // req.info is for hapi compat.
  const connection = req.info || req.socket
  const _req = Object.create(pinoReqProto)
  _req.id = (typeof req.id === 'function' ? req.id() : (req.id || (req.info ? req.info.id : undefined)))
  _req.method = req.method
  // req.originalUrl is for expressjs compat.
  if (req.originalUrl) {
    _req.url = req.originalUrl
    _req.query = req.query
    _req.params = req.params
  } else {
    // req.url.path is  for hapi compat.
    _req.url = req.path || (req.url ? (req.url.path || req.url) : undefined)
  }
  _req.headers = req.headers
  _req.remoteAddress = connection && connection.remoteAddress
  _req.remotePort = connection && connection.remotePort
  // req.raw is  for hapi compat/equivalence
  _req.raw = req.raw || req
  return _req
}

function mapHttpRequest (req) {
  return {
    req: reqSerializer(req)
  }
}


/***/ }),

/***/ 979244:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ONE_THOUSAND = exports.ONE_HUNDRED = void 0;
exports.ONE_HUNDRED = 100;
exports.ONE_THOUSAND = 1000;
//# sourceMappingURL=misc.js.map

/***/ }),

/***/ 981423:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


const validator = __webpack_require__(233925)
const parse = __webpack_require__(303288)
const redactor = __webpack_require__(278103)
const restorer = __webpack_require__(302187)
const { groupRedact, nestedRedact } = __webpack_require__(197157)
const state = __webpack_require__(386754)
const rx = __webpack_require__(841753)
const validate = validator()
const noop = (o) => o
noop.restore = noop

const DEFAULT_CENSOR = '[REDACTED]'
fastRedact.rx = rx
fastRedact.validator = validator

module.exports = fastRedact

function fastRedact (opts = {}) {
  const paths = Array.from(new Set(opts.paths || []))
  const serialize = 'serialize' in opts ? (
    opts.serialize === false ? opts.serialize
      : (typeof opts.serialize === 'function' ? opts.serialize : JSON.stringify)
  ) : JSON.stringify
  const remove = opts.remove
  if (remove === true && serialize !== JSON.stringify) {
    throw Error('fast-redact  remove option may only be set when serializer is JSON.stringify')
  }
  const censor = remove === true
    ? undefined
    : 'censor' in opts ? opts.censor : DEFAULT_CENSOR

  const isCensorFct = typeof censor === 'function'
  const censorFctTakesPath = isCensorFct && censor.length > 1

  if (paths.length === 0) return serialize || noop

  validate({ paths, serialize, censor })

  const { wildcards, wcLen, secret } = parse({ paths, censor })

  const compileRestore = restorer()
  const strict = 'strict' in opts ? opts.strict : true

  return redactor({ secret, wcLen, serialize, strict, isCensorFct, censorFctTakesPath }, state({
    secret,
    censor,
    compileRestore,
    serialize,
    groupRedact,
    nestedRedact,
    wildcards,
    wcLen
  }))
}


/***/ })

};
;
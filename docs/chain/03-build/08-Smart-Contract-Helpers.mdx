---
id: docs-chain-setup-smart-contract-helpers
title: Smart Contract Helpers
hide_title: true
slug: ./smart-contract-helpers
displayed_sidebar: pushChainSidebar
sidebar_position: 8
image: '/assets/docs/previews/docs_notifications_develop--get_started.png'
---

# Smart Contract Helpers

<head>
  <title>{`Smart Contract Helpers | Setup | Push Chain | Push Documentation`}</title>
</head>

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Overview
When building smart contract applications on Push Chain, you will need some important helper contracts to get required information about callers or other accounts.

One such helper contract is the Universal Executor Account Factory (IUEAFactory).

## Universal Executor Account Factory
The [Universal Executor Account Factory](https://github.com/push-protocol/push-chain-contracts/blob/main/src/Interfaces/IUEAFactory.sol) is the central contract responsible for deploying and managing Universal Executor Accounts (UEAs) for users from different blockchains. 
As previously mentioned, UEAs are a type of executor smart accounts that represent external chain users on Push Chain, allowing them to interact with Push Chain applications without having to connect, bridge, or move to Push Chain.

### Universal Executor Accounts (UEAs)

[UEAs](https://github.com/push-protocol/push-chain-contracts/tree/main/src/UEA) enable users from external chains (both EVM and non-EVM) to:
- Interact with smart contracts on Push Chain
- Have a dedicated account deterministically created for them
- Verify their payload execution using native signatures (EVM or non-EVM signing mechanisms)
- Re-use the same UEAs across future interactions

### UEA Factory

The [UEA Factory](https://github.com/push-protocol/push-chain-contracts/blob/main/src/UEAFactoryV1.sol) serves as a registry and factory for creating deterministic smart accounts with these key features:
- **Multi-Chain Support**: Manages UEAs for users from different blockchains
- **VM Type Registry**: Maps chains to their VM types and corresponding UEA implementations
- **Deterministic Deployment**: Creates predictable addresses for UEAs using CREATE2 and minimal proxies
- **Owner-Account Mapping**: Maintains bidirectional mappings between external chain owners and their UEAs


#### UEA Factory Address

The UEA Factory is already deployed at the following address on Push Chain:

```
0x00000000000000000000000000000000000000eA
```

## UEAFactory as a Helper Interface
The UEA Factory Interface acts as a helper interface for developers to interact with the UEA Factory contract to get valuable information like:
- **Fetch UEA Owner**: Get the owner of a given UEA Account
- **Fetch UEA Address**: Get the UEA address for a given Universal Account ID
- **Check UEA Deployment Status**: Get the information on whether or not a UEA address is deployed
- **Check Caller Type**: Ensure if a given address on Push Chain ( msg.sender) is a UEA or Native Push Chain account, etc.

### IUEAFactory Interface
In order simplify the development experience, we have a helper interface that provides a standardized way to interact with the UEA Factory contract.
By importing this interface, developers can seamlessly integrate with the UEA system without needing to understand the complex implementation details.

## Read Methods
The following are the read methods that are available in the IUEAFactory interface:

### getOriginForUEA

```solidity
/**
 * @dev Returns the owner key (UOA) for a given UEA address
 * @param addr Any given address ( msg.sender ) on push chain
 * @return account The Universal Account information associated with this UEA
 * @return isUEA True if the address addr is a UEA contract. Else it is a native EOA of PUSH chain (i.e., isUEA = false)
*/
function getOriginForUEA(address addr) external view returns (UniversalAccount memory account, bool isUEA);
```

#### Description
The `getOriginForUEA` function returns the owner information and UEA status for a given address on Push Chain.

For any given address/caller ( msg.sender ) on Push Chain, this function is used to:
- Check if a given address is a UEA or a native account of Push Chain.
- Get the Universal Account information associated with this address.

#### Input Parameters:

| Name | Type | Description |
| ---- | ---- | ----------- |
| addr | address | Any address on Push Chain (typically msg.sender) |

#### Return Values:

| Type | Description |
| ---- | ----------- |
| account | UniversalAccount | The Universal Account information associated with this address |
| isUEA | bool | True if the address is a UEA contract, false if it's a native EOA of PUSH chain |

#### Example

```solidity
function checkCallerType() public view returns (bool isUEA) {
    (UniversalAccount memory account, bool isUEA) = IUEAFactory(0x00000000000000000000000000000000000000eA).getOriginForUEA(msg.sender);
    
    if (isUEA) {
        // Do something with the UEA
    } else {
        // Do something with the native account
    }
}
```


### getUEAForOrigin

```solidity
/**
 * @dev Returns the computed UEA address for a given Universal Account ID and deployment status
 * @param _id The Universal Account information
 * @return uea The address of the UEA (computed deterministically)
 * @return isDeployed True if the UEA has already been deployed
*/
function getUEAForOrigin(UniversalAccount memory _id) external view returns (address uea, bool isDeployed);
```

#### Description    
The `getUEAForOrigin` function returns the computed UEA address for a given Universal Account ID and deployment status.

For any given Universal Account ID (chainName, owner), this function is used to:
- Get the UEA address for a given Universal Account ID.
- Check if a given Universal Account ID is deployed or not.

#### Input Parameters:

| Name | Type | Description |
| ---- | ---- | ----------- |
| _id | UniversalAccount | The Universal Account information containing:<br/>- chain: Chain identifier (e.g., "eip155:1")<br/>- owner: Owner's public key or address in bytes format |

#### Return Values:

| Type | Description |
| ---- | ----------- |
| uea | address | The address of the UEA (computed deterministically) |
| isDeployed | bool | True if the UEA has already been deployed |

#### Example

```solidity
function checkUEAType() public view returns (address uea, bool isDeployed) {
    (address uea, bool isDeployed) = IUEAFactory(0x00000000000000000000000000000000000000eA).getUEAForOrigin(account);
    
    if (isDeployed) {
        // Do something with the deployed UEA
    } else {
        // UEA is not deployed yet but you have deterministic address for the UEA.
    }
}
```
    
## Conclusion

By using this pattern, developers can easily integrate with the UEA system and build applications that interact with users from multiple blockchains.



